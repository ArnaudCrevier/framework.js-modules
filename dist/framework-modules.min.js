/*! framework.js-modules - v1.10.2 - build 361 - 2018-10-02
 * https://github.com/DeuxHuitHuit/framework.js-modules
 * Copyright (c) 2018 Deux Huit Huit (https://deuxhuithuit.com/);
 * MIT */
!function(A,t,e){"use strict";App.components.exports("algolia-search",function(t){var n,c,s,l,a=document.location.protocol+"//"+document.location.host,e=A("html").attr("lang"),i=0,o={inputSelector:".js-algolia-input",resultsCtnSelector:".js-algolia-results-ctn",resultsContentSelector:".js-algolia-results-content",noResultsTemplateSelector:".js-algolia-no-results-template",resultsItemTemplateSelector:".js-algolia-results-item-template",algoliaAttributesToRetrieve:"title,url,image",algoliaAttributesToHighlight:"title",algoliaSearchableAttributes:[],resultsTemplateStringSelector:".js-algolia-results-template-string",facets:null,facetsAttr:"data-algolia-facets",facetFilters:null,facetFiltersAttr:"data-algolia-facet-filters",onCreateResultsTemplatingObject:function(n,t){var e=t.algoliaAttributesToRetrieve?t.algoliaAttributesToRetrieve.split(","):["url","title"];return _.reduce(e,function(t,e){return t[e]=n[e],t[e]&&"url"===e&&(t[e]=t[e].replace(a,"")),t},{})},defaultResultsTemplateString:'<div><a href="__url__">__title__</a></div>',defaultFacets:"lang",defaultFacetFilters:"lang:"+e,defaultRecommandFacets:["facet","lang"],defaultRecommandFacetFilters:["facet:recommend","lang:"+e],defaultRecommandGroup:null,hitsPerPage:20,hitsPerPageAttr:"data-algolia-hits",searchCallback:A.noop,recommendCallback:A.noop,errorCallback:A.noop,clearCallback:A.noop,beforeSearchCallback:A.noop,beforeAppendNewItem:A.noop,recommendResultsLimit:5,recommendHitsPerPage:10,minChar:3,gaCat:"Search",gaAction:"search",gaTimer:1e3,templateSettings:{interpolate:/__(.+?)__/g,evaluate:/_%([\s\S]+?)%_/g,escape:/_%-([\s\S]+?)%_/g},algolia:{app:"",key:"",index:""},inputKeyUpCallback:null,showNoResultsWhenCleared:!1},f=A.extend({},o,t),u=function(t){var e=t.find(f.resultsContentSelector),n=t.find(f.noResultsTemplateSelector).length?t.find(f.noResultsTemplateSelector).html():"";e.append(n)},m=function(a,o,t,e){if(t.nbHits){var n=a.find(f.resultsItemTemplateSelector).length?a.find(f.resultsItemTemplateSelector).text():f.defaultResultsTemplateString,i=_.templateSettings;_.templateSettings=f.templateSettings,n=(n=n.replace(/ _and_ /g," && ")).replace(/%5B/g,"[").replace(/%5D/g,"]");var r=_.template(n);_.each(t.hits,function(t){var e=f.onCreateResultsTemplatingObject(t,f),n=r(e);App.callback(f.beforeAppendNewItem,[a,o,n,e,t]),o.append(n)}),_.templateSettings=i}else e&&e.length>=f.minChar&&u(a)},g=function(t,e,n,a){t.find(f.resultsContentSelector).empty(),App.callback(f.errorCallback,[t,e,f,n,a])},d=function(t,n,a,e){var o=t.find(f.resultsContentSelector);e||o.empty(),m(t,o,n,a),clearTimeout(i),i=setTimeout(function(){var t,e;t=a,e=n&&n.nbHits||0,f.gaCat&&A.sendEvent(f.gaCat,f.gaAction,t,e)},f.gaTimer),App.callback(f.searchCallback,[t,n,f,a])},h=function(t){return _.map(t,function(t){return t.query})},r=function(t,e,a,n){var o=[],i=e||s.val(),r=parseInt(t,10)||0;App.callback(f.beforeSearchCallback,[{resultsCtn:l}]),n.each(function(){var t=A(this);o.push(p(r,i,t))}),c.search(h(o),function(e,n){e?_.each(o,function(t){g(t.scope,n,i,e)}):_.each(n.results,function(t,e){d(o[e].scope,t,i,a)})})},p=function(t,e,n){var a=f.facets||(n.attr(f.facetsAttr)?n.attr(f.facetsAttr).split(","):f.defaultFacets),o=f.facetFilters||(n.attr(f.facetFiltersAttr)?n.attr(f.facetFiltersAttr).split(","):f.defaultFacetFilters),i=1<e.split(" ").length;e=i?'"'+e+'"':e;var r={page:t,facets:a,hitsPerPage:parseInt(n.attr(f.hitsPerPageAttr),10)||f.hitsPerPage,attributesToRetrieve:f.algoliaAttributesToRetrieve,attributesToHighlight:f.algoliaAttributesToHighlight,restrictSearchableAttributes:f.algoliaSearchableAttributes};return n.filter("[data-algolia-filters-mode=filters]").length?r.filters=encodeURI(o):r.facetFilters=o,{scope:n,query:{indexName:f.algolia.index,query:e,advancedSyntax:i,params:r}}},v=function(t,e,n){r(t,e,n,l)},y=function(){l.each(function(){A(this).find(f.resultsContentSelector).empty(),f.showNoResultsWhenCleared&&u(A(this))}),App.callback(f.clearCallback,[l,f])},w=function(){s.val().length>=f.minChar?v():y(),App.callback(t.inputKeyUpCallback)};return{init:function(t){n=A(t),s=n.find(f.inputSelector),l=n.find(f.resultsCtnSelector),c=window.algoliasearch(f.algolia.app,f.algolia.key),s.on("keyup",w)},search:v,searchByContainer:r,recommend:function(d,e){var p=[];d&&d.length||!App.debug()?App.debug()&&l.prepend(A("<div />").text("Search terms: "+d.join(", ")).css({background:"rgba(0, 0, 250, 0.6)",color:"#EEE",fontSize:"16px",padding:"10px",margin:"10px 0"})):(l.prepend(A("<div />").text("No recommend terms (categories) found. Defaults to all").css({background:"rgba(255, 100, 0, 0.6)",color:"#EEE",fontSize:"16px",padding:"10px",margin:"10px 0"})),d=["*"]),l.each(function(){var n=A(this),a=n.attr(f.facetsAttr)?n.attr(f.facetsAttr).split(","):[].concat(f.defaultRecommandFacets),o=n.attr(f.facetFiltersAttr)?n.attr(f.facetFiltersAttr).split(","):[].concat(f.defaultRecommandFacetFilters),t=n.attr(e)?n.attr(e):[].concat(f.defaultRecommandGroup);t&&(a.push("recommendFacet"),o.push("recommendFacet:"+t)),App.debug()&&n.prepend(A("<div />").text(t?"Results segmented by `"+t+"`":"Results not segmented").css({background:"rgba(255, 200, 0, 0.6)",color:"#333",fontSize:"16px",padding:"10px",margin:"10px 0"})),p=p.concat(_.map(d,function(t,e){return{scope:n,query:{indexName:f.algolia.index,query:t,customRanking:["desc(rating."+t+".r)"],ranking:["custom","typo"],params:{facets:a,facetFilters:o,hitsPerPage:f.recommendHitsPerPage,typoTolerance:!1,attributesToRetrieve:f.algoliaAttributesToRetrieve,attributesToHighlight:f.algoliaAttributesToHighlight,restrictSearchableAttributes:["recommend"]}}}}))}),p&&p.length?c.search(h(p),{strategy:"stopIfEnoughMatches"},function(e,u){if(e)return l.remove(),void _.each(p,function(t){g(t.scope,u,p.join("+"),e)});l.each(function(){var t,e,n,a,o=A(this),i=_.reduce(u.results,function(t,e,n){return p[n].scope.is(o)&&(t=t.concat(_.map(e.hits,function(t){return t.results=e,t})),delete e.hits),t},[]),r=_.reduce(i,function(t,e,n){return-1!==document.location.toString().indexOf(e.url)||(t[e.url]?t[e.url].push(e):t[e.url]=[e]),t},{}),c=_.map(r,function(t,e){var n=t[0];return n.computedRating=_.reduce(t,function(t,e){var n="*"===e.results.query?"_global":e.results.query;return e.rating&&e.rating[n]?t+e.rating[n].r:t},0),n}),s=_.sortBy(c,function(t){return-t.computedRating}).slice(0,f.recommendResultsLimit),l={nbHits:s.length,hits:s};e=l,n=d,(a=(t=o).find(f.resultsContentSelector)).empty(),m(t,a,e,n),App.callback(f.recommendCallback,[a,e,f,n]),App.debug()&&!l.nbHits&&o.prepend(A("<div />").text("No result found").css({background:"rgba(255, 0, 0, 0.6)",padding:"10px",margin:"10px 0",color:"#EEE",fontSize:"16px"}))})}):App.debug()||n.remove()},updateInputVal:function(t){s.val(t)},focus:function(){s.focus()},blur:function(){s.blur()},getVal:function(){return s.val()},getInput:function(){return s},clear:y}})}(jQuery,jQuery(window)),function(i,t,e,n){"use strict";var r={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:function(t,e,n){e=e||"";var a=n.articleSelector+(n.trackHandle?'[data-handle="'+e+'"]':"");return i(a,i(t))},appendArticle:function(t,e,n,a){var o=a.findArticle(e,n,a);return o.hide(),t.append(o),o},startAnimToArticle:function(t,e,n,a){t.length?(t.closest(n.containerSelector).css({minHeight:t.height()+"px"}),t.fadeTo(500,0,function(){t.hide(),a(t,e,n)})):a(t,e,n)},endAnimToArticle:function(t,e,n){var a=e.closest(n.containerSelector);n.scrollToTop&&App.mediator.notify("window.scrollTop",{animated:!1}),App.mediator.notify("articleChanger.entering"),e.fadeTo(500,1,function(){n.articleEnter(t,e,n),a.css({minHeight:""})})},trackHandle:!0,twoStepAnim:!1,scrollToTop:!1,articleEnter:function(t,e,n){n.trackHandle||t.remove(),App.mediator.notify("articleChanger.enter",{item:e,article:e})}};App.components.exports("articleChanger",function(){var l,a,u,o,d=!1,p=!1,f="",m=function(t,e,n){p=!1,d||n.endAnimToArticle(t,e,n)},g="";return{init:function(t,e){a=t,l=i.extend({},r,e),u=i(l.containerSelector,a),o=l.startPageHandle},clear:function(){o=""},navigateTo:function(r,t){var c=l.findArticle(u,o,l);g=t||document.location.href;var e,n=function(t,e,n){if(d=!1,g===f){var a=l.appendArticle(u,t,r,l),o=document.location,i=o.href.substring(o.hostname.length+o.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:i,data:t}),a.length?l.twoStepAnim&&!p?l.endAnimToArticle(c,a,l):l.startAnimToArticle(c,a,l,m):App.log({args:"Could not find new article",fx:"error",me:"Article Changer"})}else s()},s=function(){d||(App.mediator.notify("pageLoad.start",{page:a}),d=!0,f=g,Loader.load({url:g,priority:0,vip:!0,success:n,progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,a=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:a})},error:function(t){App.mediator.notify("pageLoad.end"),d=!1,App.mediator.notify("articleChanger.loaderror",{jqXHR:t})},giveup:function(t){App.mediator.notify("pageLoad.end"),d=!1,App.log("Article changer load giveup")}}))};l.trackHandle&&o===r||(l.trackHandle&&(e=l.findArticle(u,r,l)),e&&e.length?l.startAnimToArticle(c,e,l,m):(l.twoStepAnim&&(p=!0,l.startAnimToArticle(c,e,l,m)),s()),o=r)}}})}(jQuery,window,document),function(i,t,e,n){"use strict";var r={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:function(t,e,n){e=e||"";var a=n.articleSelector+(n.trackHandle?'[data-handle="'+e+'"]':"");return i(a,i(t))},appendArticle:function(t,e,n,a){var o=a.findArticle(e,n,a);return o.hide(),t.append(o),o},animToArticle:function(t,e,n){if(t.length){var a=t.closest(n.containerSelector);a.css({minHeight:t.height()+"px"}),t.fadeTo(500,0,function(){t.hide(),n.scrollToTop&&App.mediator.notify("window.scrollTop",{animated:!1}),App.mediator.notify("articleChanger.entering",{article:e,ctn:a}),e.fadeTo(500,1,function(){a.css({minHeight:""})}),setTimeout(function(){n.articleEnter(t,e,n)},100)})}else e.fadeTo(500,1),n.articleEnter(t,e,n)},trackHandle:!0,scrollToTop:!1,articleEnter:function(t,e,n){n.trackHandle||t.remove(),App.mediator.notify("articleChanger.enter",{article:e})}};App.components.exports("articleChanger",function(){var s,a,l,o;return{init:function(t,e){a=t,s=i.extend({},r,e),l=i(s.containerSelector,a),o=s.startPageHandle},clear:function(){o=""},navigateTo:function(r,t){var e,c=s.findArticle(l,o,s),n=t||document.location.href;s.trackHandle&&o===r||(s.trackHandle&&(e=s.findArticle(l,r,s)),e&&e.length?s.animToArticle(c,e,s):(App.mediator.notify("pageLoad.start",{page:a}),Loader.load({url:n,priority:0,vip:!0,success:function(t,e,n){var a=s.appendArticle(l,t,r,s),o=document.location,i=o.href.substring(o.hostname.length+o.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:i,data:t}),a.length?s.animToArticle(c,a,s):App.log({args:"Could not find new article",fx:"error",me:"Article Changer"})},progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,a=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:a})},error:function(){App.mediator.notify("article.loaderror"),App.mediator.notify("pageLoad.end")},giveup:function(t){App.mediator.notify("pageLoad.end")}})),o=r)}}})}(jQuery,window,document),function(i,t,e){"use strict";var n={checkPoints:[0,25,50,75,90,100],category:"Scroll",action:"scroll",checkPointReached:i.noop};App.components.exports("checkpoint-event",function(t){var a=i.extend({},n,t),o=0,e=function(){o=0};return{init:function(t){a=i.extend(a,t),e()},track:function(t){if(i.isNumeric(a.checkPoints[o])&&i.isNumeric(t)&&a.checkPoints[o]<=t){var e=a.action+" "+a.checkPoints[o]+"%",n=a.label||e;a.category&&i.sendEvent(a.category,e,n,a.checkPoints[o]),App.callback(a.checkPointReached,[o,a.checkPoints[o]]),o++}},reset:e}})}(jQuery,jQuery(window)),function(d,t,e){"use strict";App.components.exports("flickity",function(t){var o=d(),r=(d(),!1),c=d.extend({},{sliderCtn:".js-flickity-slider-ctn",cellSelector:".js-flickity-cell",navBtnSelector:".js-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",seenClass:"is-seen",dataAttrPrefix:"flickity"},t),s=function(){var t=o.data("flickity");if(!t)return d();var e=t.selectedIndex;return o.find(c.cellSelector+":eq("+e+")")},l=function(){s().addClass(c.seenClass),o.find(c.cellSelector+"."+c.seenClass).each(function(){o.find(".flickity-page-dots li:eq("+d(this).index()+")").addClass(c.seenClass)})},u=function(){o.flickity("playPlayer"),o.attr("tabindex",o.data("acc-tabindex")||"0")};return{init:function(t,e){if(e,1===(o=t).find(c.cellSelector).length){var n=(i=new RegExp("^"+c.dataAttrPrefix),a=_.reduce(o.data(),function(t,e,n){if(i.test(n)){if(_.isObject(e))return t;var a=n.replace(i,""),o="";a&&a[0]&&(o=a[0].toLowerCase(),2<=a.length&&(o+=a.substr(1)),t[o]=e)}return t},{}),d.extend({},c,a));o.flickity(n),o.flickity("resize"),o.addClass(c.initedClass),r=!0,o.find(".flickity-page-dots li").attr("tabindex","0").keydown(function(t){if(t.which===window.keys.enter){var e=d(this);o.flickity("select",e.index()),e.focus()}}),o.find(".flickity-page-dots li").each(function(t){var e=d(this),n=o.find(c.cellSelector+":eq("+t+")").attr("aria-label");n&&e.attr("aria-label",n)}),o.on("blur",function(){o.data("acc-tabindex",o.attr("tabindex")),o.removeAttr("tabindex")}).on("settle.flickity",function(){var t=s();o.find(c.cellSelector).removeAttr("tabindex"),o.find("button, a").attr("tabindex","-1"),t.add(t.find("button, a")).attr("tabindex","0"),n.autoPlay&&n.restartAutoplayOnMouseleave&&d.mobile&&u()}),n.pageDots&&o.on("settle.flickity",l),o.find("img[data-src-format]").jitImage(),n.pauseOnFocus&&(o.attr("tabindex")||o.attr("tabindex","0"),o.on("focus",function(t){o.flickity("pausePlayer")}).on("focus","*",function(t){o.flickity("pausePlayer")})),n.pauseOnInit&&o.flickity("pausePlayer"),n.autoPlay&&n.restartAutoplayOnMouseleave&&!d.mobile&&o.on("mouseleave",u),App.callback(c.inited)}else 1===o.find(c.cellSelector).length?(o.addClass(c.abortedClass),o.find(c.cellSelector).addClass(c.selectedClass)):App.log("No flickity found or multiple flickity in the scope"),App.callback(c.aborted);var a,i},resize:function(){o.flickity("resize")},destroy:function(){o.hasClass(c.initedClass)&&0<o.closest("body").length&&(o.flickity("destroy"),o.removeClass(c.initedClass),o.off("settle.flickity",l),o.off("mouseleave",u),o.off("focus").off("focus","*"),o.off("blur").attr("tabindex",o.data("acc-tabindex")||"0"),o=d(),App.callback(c.destroyed))},isInited:function(){return r},unpause:function(){o.flickity("unpausePlayer")},pause:function(){o.flickity("pausePlayer")}}})}(jQuery,jQuery(window)),function(b,k,t,e,n){"use strict";var C={container:".js-form-field",input:".js-form-input",error:".js-form-error",label:".js-form-label",states:".js-form-state",clear:".js-form-clear",preview:".js-form-preview",progress:".js-form-progress",validationEvents:"blur change",emptinessEvents:"blur keyup change",previewEvents:"change input",formatEvents:"blur",changeLabelTextToFilename:!0,onlyShowFirstError:!1,group:null,rules:{required:{presence:!0},email:{email:!0},money:{numericality:{onlyInteger:!1,greaterThan:0}},integer:{numericality:{onlyInteger:!0,greaterThan:0}},document:{format:{pattern:"^.+\\.(?:docx?|pdf)$",flags:"i"}},image:{format:{pattern:"^.+\\.(?:jpe?g|png)$",flags:"i"}},phoneUs:{format:{pattern:"\\(?[0-9]{3}\\)?[- ]?([0-9]{3})[- ]?([0-9]{4})",flags:"i"}},url:{url:!0},embed:{format:{pattern:"^http(.+)(youtube\\.com|youtu\\.be|vimeo\\.com|facebook\\.com)(.+)$",flags:"i"}}},rulesOptions:{},formatters:{},onFocus:null,onBlur:null,onKeyup:null,onKeydown:null,onChangeOrInput:null},x=null;window.moment?x={rules:{over18Now:{datetime:{dateOnly:!0,earliest:window.moment.utc().subtract(150,"years"),latest:window.moment.utc().subtract(18,"years")}}}}:App.log("com::form-field: Extended date rules are not available. Add Moment.js to enable them."),App.components.exports("form-field",function(s){var l,u,d,p,a,f,o=[],n=!1;s=b.extend(!0,{},C,x,s);var m=function(t){return{error:t.attr("data-error-class"),valid:t.attr("data-valid-class"),empty:t.attr("data-empty-class"),notEmpty:t.attr("data-not-empty-class"),submitting:t.attr("data-submitting-class")}},g=function(t){return t.attr("data-state-class")},h=function(t,e){var n=a.filter('[data-state="'+e+'"]');n[t](g(n))},i=function(a,t){if(a.empty(),s.changeLabelTextToFilename&&(t&&t.name?p.text(t.name):p.text(p.attr("data-text"))),t&&k.FileReader){var e=new k.FileReader;e.onload=function(t){var e=t.target.result;if(e){var n=b("<img />").attr("class",a.attr("data-preview-class")).attr("src",e).on("error",function(){n.remove()});a.append(n)}},e.readAsDataURL(t)}},v=function(){var a,t,o;if("checkbox"==u.attr("type"))a=u.prop("checked")?"true":"";else if("radio"==u.attr("type")){var e=u.closest("form").find("input[type='radio'][name='"+u.attr("name")+"']:checked");a=e.length?e.prop("checked")?e.val():"":u.prop("checked")?u.val():""}else u.hasClass("js-form-field-radio-list")?(t=u.find("input[type='radio']:checked"),o=t.length,t.each(function(t){var e=b(this),n=e.closest(".js-form-field-radio-ctn").find("label");e.prop("checked")&&(a||(a=""),a+=n.text(),t<o-1&&(a+=", "))})):u.hasClass("js-form-field-checkbox-list")?(t=u.find("input[type='checkbox']:checked"),o=t.length,t.each(function(t){var e=b(this),n=e.closest(".js-form-field-checkbox-ctn").find("label");e.prop("checked")&&(a||(a=""),a+=n.text(),t<o-1&&(a+=", "))})):a=u.val();return a},r=function(){var t=k.validate.isEmpty(v()),e=t?"addClass":"removeClass",n=t?"removeClass":"addClass",a=m(u),o=m(l),i=m(p);u[e](a.empty),u[n](a.notEmpty),l[e](o.empty),l[n](o.notEmpty),p[e](i.empty),p[n](i.notEmpty)},c=function(t){var e=l.find(s.preview);if("file"==u.attr("type")&&(r(),e.length)){var n=!!t&&!!t.target.files&&t.target.files[0];n=n||u[0].files&&u[0].files[0],i(e,n)}},y=function(t){try{var e={},n={};return _.each(o,function(t){s.rules[t]&&(e=b.extend(e,s.rules[t])),s.rulesOptions[t]&&(n=b.extend(n,s.rulesOptions[t]))}),k.validate.single(t,e,n)}catch(t){App.log({fx:"error",args:[t]})}return!1},w=function(){_.each(o,function(t){s.formatters[t]&&s.formatters[t](u,f)})},A=function(){var t=y(v()),e=t?"addClass":"removeClass",n=t?"removeClass":"addClass",a=t?s.onlyShowFirstError?t[0]:t.join(". "):"",o=m(u),i=m(l),r=m(p),c=b(l.attr("data-input-error-followers"));return u[e](o.error),u[n](o.valid),c[e](o.error),c[n](o.valid),l[e](i.error),l[n](i.valid),p[e](r.error),p[n](r.valid),d.html(a),t?(d.addClass(g(d)),h("addClass","error"),h("removeClass","valid"),{result:t,field:f,errorMessages:a}):(d.removeClass(g(d)),h("addClass","valid"),h("removeClass","error"),t)};return f={init:function(t){var e;s=b.extend(!0,s,t),l=b(s.container),u=l.find(s.input),d=l.find(s.error),p=l.find(s.label),a=l.find(s.states),l.find(s.clear),l.find(s.progress),o=_.filter((l.attr("data-rules")||"").split(/[|,\s]/g)),n=u.hasClass("js-form-field-checkbox-list")||u.hasClass("js-form-field-radio-list"),s.formatEvents&&u.on(s.formatEvents,w),s.validationEvents&&u.on(s.validationEvents,A),s.emptinessEvents&&u.on(s.emptinessEvents,r),s.previewEvents&&u.on(s.previewEvents,c),b.isFunction(s.onFocus)&&(e=u,n?e=u.find('input[type="radio"],input[type="checkbox"]'):l.hasClass("js-form-field-file")&&(e=l.find(".js-form-field-label-ctn")),e.on("focus",function(){s.onFocus({field:f})})),b.isFunction(s.onBlur)&&(e=u,n&&(e=u.find('input[type="radio"],input[type="checkbox"]')),e.on("blur",function(){s.onBlur({field:f})})),b.isFunction(s.onKeyup)&&u.on("keyup",function(){s.onKeyup({field:f})}),b.isFunction(s.onKeydown)&&u.on("keyup",function(t){s.onKeydown({field:f,e:t})}),b.isFunction(s.onChangeOrInput)&&u.on("change input",function(t){s.onChangeOrInput({field:f,e:t})}),r()},validate:A,format:w,enable:function(t){t?u.enable():u.disable()},focus:function(){u.focus()},reset:function(){var t=m(u),e=m(l),n=m(p);if(u.removeClass(t.error),u.removeClass(t.valid),u.addClass(t.empty),u.removeClass(t.notEmpty),l.removeClass(e.error),l.removeClass(e.valid),l.addClass(e.empty),l.removeClass(e.notEmpty),p.removeClass(n.error),p.removeClass(n.valid),p.addClass(n.empty),p.removeClass(n.notEmpty),d.empty().removeClass(g(d)),h("removeClass","error"),h("removeClass","valid"),"file"==u.attr("type")){if(s.changeLabelTextToFilename)p.text(p.attr("data-text"));else{var a=l.find(".js-filename"),o=l.attr("data-default-text-filename");a.text(o)}i(l.find(s.preview),null)}},preview:c,scrollTo:function(t){b.scrollTo(l,t)},checkEmptiness:r,group:function(){return s.group},submitting:function(t){var e=t?"addClass":"removeClass",n=m(u);u[e](n.submitting)},value:v,name:function(){return u.attr("name")},label:function(){return p.text()},find:function(t){return l.is(t)?l:l.find(t)},hasClass:function(t){return l.hasClass(t)},required:function(){return!!~o.indexOf("required")},isEmpty:function(){return k.validate.isEmpty(v())},isValid:function(){return!y(v())},getCtn:function(){return l},getInput:function(){return u}}})}(jQuery,window,document,window.moment),function(p,f,t,m,e){"use strict";var g={root:"body",container:".js-form",fields:".js-form-field",fieldsGroupSelector:".js-form-field-group",fieldsOptions:{},onSubmit:null,doSubmit:null,onValid:null,onError:null,disableOnSubmit:!0,focusOnError:!0,post:{},gaCat:"conversion",gaLabel:"form"};App.components.exports("form",function(o){var i,r=[],n=!1;o=p.extend(!0,{},g,o);var a=function(){return _.map(r,function(t){return t.validate()})},c=function(t){return!!(t=t||a()).length&&!_.some(t)||!t.length},s=function(e){_.each(r,function(t){t.enable(e)})},l=function(e){_.each(r,function(t){t.submitting(e)})},u=function(){var t={},e=!window.FormData;n||(e?p.each(i.serializeArray(),function(){t[this.name]=this.value}):t=new FormData(i[0]),l(n=!0),App.callback(o.post.submitting),window.Loader.load({url:i.attr("action"),type:i.attr("method")||"POST",data:t,processData:e,contentType:!1,dataType:"text",error:o.post.error,success:o.post.success,complete:function(){App.callback(o.post.complete),l(n=!1),o.disableOnSubmit&&s(!0)}}))},e=function(t){var e=a();return App.callback(o.onSubmit),c(e)?(App.callback(o.onValid),!0===App.callback(o.onBeforePost,[t])?f.pd(t):(o.post?u():App.callback(o.doSubmit),o.disableOnSubmit&&s(!1),o.post||o.doSubmit?f.pd(t):void 0)):(App.callback(o.onError,{results:e}),o.focusOnError&&(e=_.filter(e)).length&&e[0].field.focus(),f.pd(t))},d=function(t,e){e=p(e);var n=App.components.create("form-field",o.fieldsOptions),a=1===e.filter("[data-only-show-first-error]").length;n.init({container:e,group:e.closest(o.fieldsGroupSelector),onlyShowFirstError:a}),r.push(n)};return{init:function(t){(o=p.extend(!0,o,t)).root=p(o.root),(i=o.root.find(o.container)).find(o.fields).each(d),i.submit(e),o.focusOnFirst&&setTimeout(function(){r[0].focus()},100),f.validate.validators.presence.options={message:i.attr("data-msg-required")},f.validate.validators.email.options={message:i.attr("data-msg-email-invalid")||i.attr("data-msg-invalid")},f.validate.validators.format.options={message:i.attr("data-msg-invalid")},f.validate.validators.numericality.options={message:i.attr("data-msg-invalid")},f.validate.validators.url.options={message:i.attr("data-msg-invalid")};var a="DD-MM-YYYY";window.moment&&f.validate.extend(f.validate.validators.datetime,{parse:function(t,e){if(!t)return NaN;if(m.isMoment(t))return+t;if(/[^\d-\/]/.test(t))return NaN;var n=m.utc(t,a);return n.isValid()?+n:NaN},format:function(t,e){return m.isMoment(t)||(t=m(t)),t.format(a)},message:i.attr("data-msg-date-invalid")||i.attr("data-msg-invalid"),notValid:i.attr("data-msg-date-invalid")||i.attr("data-msg-invalid"),tooEarly:i.attr("data-msg-date-too-early")||i.attr("data-msg-invalid"),tooLate:i.attr("data-msg-date-too-late")||i.attr("data-msg-invalid")})},enable:s,validate:a,reset:function(){i[0].reset(),_.each(r,function(t){t.reset()})},preview:function(){_.each(r,function(t){t.preview()})},post:u,submitting:l,validateGroup:function(t){var e=[];return p.each(r,function(){this.group().is(t)&&e.push(this)}),c(_.map(e,function(t){return t.validate()}))},container:function(){return i},eachFields:function(t){return _.each(r,t)},getOptions:function(){return o},isValid:function(){var n=!0;return _.reduce(r,function(t,e){if(t)return n=e.isValid()},!0),n},validators:function(){return f.validate.validators},track:function(t,e,n){var a=i.attr("data-ga-form-cat")||o.gaCat;e=e||i.attr("data-ga-form-label")||o.gaLabel,p.sendEvent(a,t,e,n)}}})}(jQuery,window,document,window.moment),function(u,t,d,e){"use strict";App.components.exports("googleMap",function(t){var n,a,e,o=[],i=function(){e&&e.infowindow.close()},r={defaultMarkerOptions:{},mapTypeId:null,markerAction:function(){var t=new google.maps.LatLng(this.getPosition().lat()+.005,this.getPosition().lng());a.panTo(t),i(),this.infowindow.open(a,this),e=this},beforeCreate:null,afterCreate:null},c=u.extend({},r,t),s=function(){return!!d.google&&!!google.maps&&!!google.maps.Map},l=function(){n.hasClass("map-loaded")||(App.callback(c.beforeCreate,[google.maps,c,n]),c.center&&(c.center=new google.maps.LatLng(c.center.latitude,c.center.longitude)),google.maps.MapTypeId[c.mapTypeId]?c.mapTypeId=google.maps.MapTypeId[c.mapTypeId]:c.mapTypeId=google.maps.MapTypeId.ROADMAP,a=new google.maps.Map(n.get(0),c),google.maps.event.addListener(a,"bounds_changed",function(){App.mediator.notifyCurrentPage("map.boundsChanged",a.getBounds())}),App.callback(c.afterCreate,[google.maps]),n.addClass("map-loaded"))};return{init:function(t,e){n=u(e,t),App.loaded(s,function(){l()})},addMarker:function(t){var e=u.extend({},c.defaultMarkerOptions,t);e.iconImage&&(e.iconImage=new google.maps.MarkerImage(e.iconImage.src,new google.maps.Size(e.iconImage.size.width,e.iconImage.size.height),new google.maps.Point(e.iconImage.p1.x,e.iconImage.p1.y),new google.maps.Point(e.iconImage.p2.x,e.iconImage.p2.y))),e.position&&(e.LatLng=new google.maps.LatLng(e.position.latitude,e.position.longitude));var n=new google.maps.Marker({position:e.LatLng,map:a,icon:e.iconImage,shadow:e.iconShadow,zIndex:e.zIndex});o.push(n),e.content&&e.content.length?(n.infowindow=new google.maps.InfoWindow({content:e.content}),google.maps.event.addListener(n,"click",c.markerAction)):c.markerCustomAction&&google.maps.event.addListener(n,"click",c.markerCustomAction)},center:function(t,e){a.panTo(new google.maps.LatLng(t,e))},zoom:function(t){a.setZoom(t)},fitBounds:function(t){a.fitBounds(new google.maps.LatLngBounds(t.southwest,t.northeast))},closeAllPopup:i}})}(jQuery,jQuery(window),window),function(u,t,e){"use strict";App.components.exports("infinite-scroll",function(t){var s,e=u(window),n=e.height(),a={ctnSelector:".js-infinite-scroll-ctn",contentCtnSelector:".js-infinite-scroll-content",pagerLinkSelector:".js-infinite-scroll-pager-link",triggerPercentage:.5,callback:u.noop},l=u.extend({},a,t),o=function(r){if(s.length){var t=s.find(l.pagerLinkSelector);if(t.length){var c=t.attr("href");t.remove(),App.mediator.notify("pageLoad.start"),window.Loader.load({url:c,success:function(t,e,n){var a,o,i;a=t,o=s.find(l.contentCtnSelector),i=u(a),o.length?o.append(i.find(l.contentCtnSelector+" > *")):s.append(i.find(l.ctnSelector+" > *")),s.find("img[data-src-format]").jitImage(),App.modules.notify("page.replaceState",{title:document.title,url:c}),App.mediator.notify("infiniteScroll.pageLoaded",{data:t,ctn:s,url:c}),App.callback(r,[s,c,t,e,n,l]),App.mediator.notify("pageLoad.end")},progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,a=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:a})},error:function(){App.mediator.notify("pageLoad.end")},giveup:function(t){App.mediator.notify("pageLoad.end")}})}}};return{init:function(t,e){l=u.extend(l,e),s=t.find(l.ctnSelector)},resize:function(){n=e.height()},scroll:function(){if(n=e.height(),s.length){var t=(e.scrollTop()-(s.offset().top+s.height())+n)/n;t>=-l.triggerPercentage&&t<=1&&o(l.callback)}},loadNextPage:function(t,e){o(e.callback)}}})}(jQuery,jQuery(window)),function(c,t,e){"use strict";App.components.exports("jplayer",function(t){var e,r=c.extend({},{playerSelector:".js-jplayer-player",playerContainerSelector:".js-jplayer-container",onReady:null,onTimeupdate:null,backgroundColor:"transparent",loop:!0,width:1920,height:1080,resize:!0},t),a=function(t){var e=t.width(),n=t.height(),a=t.find(r.playerSelector),o=c.sizing.aspectFill({width:e,height:n,preferWidth:!1},r.width/r.height);o.height=Math.ceil(o.height),o.width=Math.ceil(o.width);var i=c.positioning.autoPosition({position:"center",left:"left",top:"top"},c.size(e,n),o);a.size(o).css(i).data({size:o,position:i}),a.jPlayer("option",{size:o})},n=function(n){n.find(r.playerSelector).jPlayer({ready:function(){c(this).jPlayer("setMedia",{webmv:n.attr("data-video-webm"),m4v:n.attr("data-video-mp4"),ogv:n.attr("data-video-ogv")}),r.resize&&a(n),App.callback(r.onReady,[n])},solution:"html",loop:r.loop,volume:0,supplied:"webmv, m4v, ogv",backgroundColor:r.backgroundColor,wmode:r.backgroundColor,size:{width:r.width,height:r.height},preload:r.preload||"none",play:function(t){App.mediator.notify("jplayer.play",{ctn:n})},timeupdate:function(t){var e=t.jPlayer.status;e.currentTime&&App.mediator.notify("jplayer.timeupdate",{status:e,ctn:n}),App.callback(r.onTimeupdate,[n,e])},ended:function(){App.callback(r.onEnded,[n])}})},o=function(t){var e=t.find(r.playerSelector);e.jPlayer("destroy"),e.jPlayer("pauseOthers")};return{init:function(t){e=c(t)},loadAllVideo:function(){e.find(r.playerContainerSelector).each(function(){var t=c(this);n(t)})},loadVideo:n,destroyVideo:o,destroyAllVideo:function(){e.find(r.playerContainerSelector).each(function(){var t=c(this);o(t),t.removeClass("video-loaded").closest(".video-loaded").removeClass("video-loaded")})},playVideo:function(t){var e=t.find(r.playerSelector);e.jPlayer("pauseOthers"),e.jPlayer("play")},pauseVideo:function(t){t.find(r.playerSelector).jPlayer("pause")},stopVideo:function(t){t.find(r.playerSelector).jPlayer("stop")},resizeVideo:a,resizeAllVideo:function(){e.find(r.playerContainerSelector).each(function(){a(c(this))})},setVolume:function(t,e){t.find(r.playerSelector).jPlayer("volume",e)}}})}(jQuery,jQuery(window)),function(s,t,e){"use strict";var l={embed:function(t,e){var n=parseInt(t.attr("data-autoplay"),10),a=parseInt(t.attr("data-loop"),10),o="1"===t.attr("data-rel")?1:0,i=t.attr("data-extra"),r=this.getIframe(e,n,a,o,i);return r.attr("width","100%"),r.attr("height","100%"),r.attr("frameborder","0"),r.attr("class",t.attr("data-player-class")),t.append(r),r},getIframe:function(t){return s('<iframe allowfullscreen="" />')},getTemplateContent:function(t){var e=t.find("script");return _.map(e.contents(),function(t){return s(t).text()}).join("")},play:s.noop,pause:s.noop,ready:s.noop,progress:s.noop,volume:s.noop,finish:s.noop,destroy:function(t){t.remove()}},u={abstractProvider:l};App.components.exports("oembed",function(n){var t=s(n.container),a=s(n.player),o=a.data("oembedId"),i=a.data("oembedProvider"),r=u[i],c=s();r||(App.log({args:["Provider `%s` not found.",r],me:"oEmbed",fx:"warn"}),r=l);return{load:function(t){t=t||!1,c=(c=r.embed(a,o,t.autoplay,t.loop))||s();var e=App.components.create("checkpoint-event",{category:n.category||"Video",action:"view",label:i+": "+(a.attr("data-oembed-title")||o)});e.init(),r.ready(a,function(){a.addClass("loaded"),r.progress(a,function(t){e.track(t)}),t.finish&&r.finish(a,t.finish)})},play:function(){r.play(t)},pause:function(){r&&o&&t.find("iframe").length&&r.pause(t)},volume:function(t){r.volume(a,t)},destroy:function(){a.removeClass("loaded"),r.destroy(c)}}}),App.modules.exports("oembed-providers",{actions:function(){return{oembed:{providers:{abstract:function(){return l},register:function(t,e){u[e.key]?App.log({args:["Provider `%s` already exists.",e.key],me:"oEmbed",fx:"error"}):u[e.key]=e.provider}}}}}})}(jQuery,jQuery(window)),function(l,t,e){"use strict";var u=l(window),d={itemSelector:".js-replace-state-on-scroll",container:"body",urlAttribute:"data-canonical-url",titleAttribute:"data-canonical-title",change:null,windowOffsetPercentage:.5};App.components.exports("replace-state-on-scroll",function(t){var o=l.extend({},d,t),e=l(),i=[],r=-1,c=u.height(),s=-1,n=function(){r=s=-1},a=function(){c=u.height(),e=l(o.container).find(o.itemSelector),i=_.map(e,function(t){return{offset:(t=l(t)).offset(),url:t.attr(o.urlAttribute),title:t.attr(o.titleAttribute)}})};return{init:function(t){o=l.extend(o,t),n(),a()},scroll:function(){var e=u.scrollTop(),t=_.findLastIndex(i,function(t){return t.offset.top+c*o.windowOffsetPercentage<=e});if(-1!==t&&r!==t&&i[t]){var n=i[t].url,a=i[t].title;a&&(document.title=a),n&&(App.modules.notify("page.replaceState",{title:a||document.title,url:n}),App.callback(o.change,[r,t,n]),s<t&&l.sendPageView({page:n})),r=t,s=Math.max(s,t)}},update:a,reset:n}})}(jQuery,window),function(o,t,e,n){"use strict";"fr"==o("html").attr("lang")&&(jQuery.timeago.settings.strings={prefixAgo:"Publié il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"}),App.components.exports("timeAgo",function(){return{init:function(t){t,o("time.js-time-ago").each(function(t,e){var n=o(this),a=new Date(n.attr("datetime"));(new Date).getTime()-a.getTime()<2592e6&&n.timeago()})}}})}(jQuery,window,document),function(d,t,e,n){"use strict";var o,a,i,p={ctn:d(),video:null,videoSelector:".js-video",resizeContainerSelector:"",onTimeUpdate:d.noop,onCanPlay:d.noop,onPlaying:d.noop,resizable:!0,onLoaded:d.noop,onEnded:d.noop};a=function(a){return function(){var n=Array.prototype.slice.call(arguments);return o(this).each(function(t,e){e&&o.isFunction(e[a])&&e[a].apply(e,n)})}},i=function(a){return function(n){if(void 0!==n)return o(this).each(function(t,e){e&&(o(e).get(0)[a]=n)});var t=o(this).get(0);return t&&t[a]||0}},(o=d).fn.mediaPlay=a("play"),o.fn.mediaPause=a("pause"),o.fn.mediaLoad=a("load"),o.fn.mediaCurrentTime=i("currentTime"),o.fn.mediaPaused=i("paused"),o.fn.mediaMuted=i("muted"),o.fn.mediaHeight=i("videoHeight"),o.fn.mediaWidth=i("videoWidth"),App.components.exports("video",function(t){var r=d.extend({},p,t),e=function(){if(r.resizable){var t=r.video.closest(r.resizeContainerSelector).length?r.video.closest(r.resizeContainerSelector):r.ctn,e=t.width(),n=t.height(),a=r.video.mediaWidth()/r.video.mediaHeight(),o=d.sizing.aspectFill({width:e,height:n,preferWidth:!1},a);o.height=Math.ceil(o.height),o.width=Math.ceil(o.width);var i=d.positioning.autoPosition({position:"center",left:"left",top:"top"},d.size(e,n),o);r.video.size(o).css(i).data({size:o,position:i})}},n=function(t){status.currentTime&&App.mediator.notify("video.timeupdate",{video:r.video,e:t}),App.callback(r.onTimeupdate,[r.video])},a=function(t){App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"off"}),App.modules.notify("changeState.update",{item:r.ctn,state:"playing",action:"on"}),App.callback(r.onPlaying,[r.ctn,r.video])},o=function(t){e(),App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"off"}),App.modules.notify("changeState.update",{item:r.ctn,state:"video-loaded",action:"on"}),App.callback(r.onCanPlay,[r.ctn,r.video])},i=function(t){e(),App.callback(r.onLoaded,[r.ctn,r.video])},c=function(){r.video.filter("[data-video-reset-on-end]").length&&App.modules.notify("changeState.update",{item:r.ctn,state:"playing",action:"off"}),App.callback(r.onEnded,[r.ctn,r.video])},s=function(){r.video.mediaLoad()},l=function(){r.video.mediaPlay()},u=function(){App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"on"}),r.video.mediaPause()};return{init:function(t,e){(r=d.extend({},r,e)).ctn=d(t),r.video=t.find(r.videoSelector),r.video.on("timeupdate",n).on("canplay",o).on("playing",a).on("ended",c).on("loadedmetadata",i)},resize:e,destroy:function(){r.video.off("timeUpdate",n).off("canplay",o).off("playing",a).off("ended",c).off("loadedmetadata",i),s(),r.video=null,r={}},load:s,play:l,togglePlay:function(){r.video.mediaPaused()?l():u()},pause:u,seek:function(t){r.video.mediaCurrentTime(t)}}})}(jQuery,window,jQuery(window)),function(i,t){"use strict";i(window);var r={},e=function(t,e,n){if(e.data){var a={};if(i(e.data).each(function(t,e){if(i(e).is("link")){var n=i(e);n.attr("hreflang")&&(a[n.attr("hreflang")]=n.attr("href"))}if(i(e).is("body"))return!0}),r[e.url]=a,-1!==e.url.indexOf("?")){var o=e.url.split("?")[0];r[o]=a}}},n=function(t,e,n){r[document.location.pathname]&&i("#site a.js-alt-lg-link").each(function(){var t=i(this),e=r[document.location.pathname][t.data("lg")];e&&t.attr("href",e)})},a={pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}};App.modules.exports("altLanguageLinkUpdater",{init:function(){var e={};i("link[rel=alternate][hreflang]",document).each(function(){var t=i(this);e[t.attr("hreflang")]=t.attr("href")}),r[document.location.pathname]=e},actions:function(){return a}})}(jQuery),function(d,t){"use strict";var e=d(window),p=d("#site"),n=0,a=0,f=0,m="data-auto-3-state-trigger",g="data-auto-3-state-trigger-bottom",h="3-state-fx",o=d(),v=function(t,e,n){if(e){var a=p,o=t.attr(n);return o&&(a=t.closest(o)),a.find(e)}return t},i=function(){o=p.find(".js-auto-3-state-on-scroll["+m+"]")},r=function(){f=Math.floor(e.scrollTop()),o.each(function(){var t,e,n=d(this),a=Math.floor(n.outerHeight()),o=Math.floor(n.offset().top),i=(Math.floor(o+a),v(n,n.attr(m),"data-auto-3-state-trigger-common-ancestor"));if(i.length){var r=Math.floor(i.offset().top),c=n.attr(g)?v(n,n.attr(g),"data-auto-3-state-trigger-bottom-common-ancestor"):i,s=Math.floor(c.offset().top+c.outerHeight());if(a<s-r&&r<s){var l,u=r<=f+(t=n,e=0,p.find(t.attr("data-auto-3-state-scroll-offset-top")).each(function(){e+=Math.floor(d(this).outerHeight())}),e);l=s-f<=a?function(){App.modules.notify("changeState.update",{item:n,state:"initial",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"middle",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"final",action:"on"})}:u?function(){App.modules.notify("changeState.update",{item:n,state:"initial",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"final",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"middle",action:"on"})}:function(){App.modules.notify("changeState.update",{item:n,state:"final",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"middle",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"initial",action:"on"})},n.data(h,l)}}})},c=function(){r()},s=function(){window.craf(n),n=window.raf(function(){o.each(function(){var t=d(this),e=t.data(h);t.removeData(h),App.callback(e)})})},l=function(){window.craf(a),a=window.raf(function(){c(),s()})},u=function(t,e){i(),l()},y=function(){i(),l()};App.modules.exports("auto-3-state-on-scroll",{init:function(){},actions:function(){return{site:{scroll:c,postscroll:s,resize:l},page:{enter:u},articleChanger:{enter:y}}}})}(jQuery),function(u,t){"use strict";u(window);var e=u("#site"),n=function(t){var e=u(this),n=e.attr("data-change-state-click-target"),a=e.attr("data-change-state-click"),o=e.attr("data-change-state-action"),i=e.attr("data-change-state-min-width"),r=e.attr("data-change-state-max-width"),c=e,s=!!i&&window.mediaQueryMinWidth(i)||!i,l=!!r&&window.mediaQueryMaxWidth(r)||!r;if(a&&o&&s&&l&&(c=function(t,e){if(e){var n=t,a=t.attr("data-change-state-click-target-common-ancestor");return a&&(n=t.closest(a)),n.find(e)}return t}(c,n),App.modules.notify("changeState.update",{item:c,state:a,action:o}),e.filter("[data-change-state-click-prevent-default]").length))return window.pd(t)};App.modules.exports("auto-change-state-click",{init:function(){e.on(App.device.events.click,".js-change-state-click",n)}})}(jQuery),function(i,t){"use strict";i(window);var e=i("#site"),n=".js-change-state-hover",a=function(t){var e=i(this),n=e.attr("data-change-state-hover-target"),a=e.attr("data-change-state-hover"),o=e;return a&&(o=function(t,e){if(e){var n=t,a=t.attr("data-change-state-hover-target-common-ancestor");return a&&(n=t.closest(a)),n.find(e)}return t}(o,n),App.modules.notify("changeState.update",{item:o,state:a,action:"toggle"})),window.pd(t)};App.modules.exports("auto-change-state-on-hover",{init:function(){e.on("mouseenter",n,a),e.on("mouseleave",n,a)}})}(jQuery),function(c,t){"use strict";c(window);var e=c("#site"),n=!0,a=c(".page"),o=function(t,e,n,a,o){var i=c(n).find(".js-oembed-video-player");i.length&&App.modules.notify("pauseVideo",i)},i=function(t,e,n,a,o){if(!App.device.mobile){c(this).cycle("resume");var i=c(n).find(".js-oembed-video-ctn"),r=i.find(".js-oembed-video-player");r.hasClass("loaded")&&(i.removeClass("is-playing"),r.removeClass("loaded").empty())}},r=function(t){App.device.mobile||t.container.closest(".js-cycle").cycle("resume")},s=function(t){var e=c(this),n=e.closest(".js-oembed-video-ctn"),a=n.find(".js-oembed-video-player");return App.device.mobile||App.modules.notify("loadVideo",{player:a,autoplay:!0,finish:r}),n.addClass("is-playing"),App.device.mobile||e.closest(".js-cycle").cycle("pause"),window.pd(t)},l=function(){a.find(".js-cycle-slide.video .js-oembed-video-ctn").each(function(){var t=c(this).find(".js-oembed-video-player");App.modules.notify("loadVideo",{player:t,finish:r})})},u=function(t,e){a=c(e.page.key()),c(".js-cycle:not(.cycle-inited)").each(function(){var t=c(this);if(!t.data("cycle-disable-mobile")||!App.device.mobile){var e={slides:t.attr("data-cycle-slides")||">img",pager:t.attr("data-cycle-pager")||"> .cycle-pager",pagerTemplate:t.attr("data-cycle-pager-template")||"<span><span>",next:t.attr("data-cycle-next")||"> .cycle-next",prev:t.attr("data-cycle-prev")||"> .cycle-prev",timeout:parseInt(t.attr("data-cycle-timeout"),10)||4e3,paused:!!App.device.mobile||(t.attr("data-cycle-paused")||!1),pauseOnHover:t.attr("data-cycle-pause-on-hover")||!0,fx:t.attr("data-cycle-fx")||"fade",caption:t.attr("data-cycle-caption")||"> .cycle-caption",log:App.debug()};t.cycle(e),t.on("cycle-before",o),t.on("cycle-after",i),t.addClass("cycle-inited")}}),!n&&App.device.mobile&&l()},d=function(){n=!1,App.device.mobile&&l()};App.modules.exports("auto-cycle",{init:function(){e.on(App.device.events.click,".js-cycle-slide.video .js-oembed-video-play",s)},actions:function(){return{site:{loaded:d},page:{enter:u},articleChanger:{enter:u}}}})}(jQuery),function(a,t){"use strict";a(window),a("#site");var n=a(".page"),o={sliderCtn:".js-auto-flickity-slider-ctn",cellCtn:".js-auto-flickity-ctn",cellSelector:".js-auto-flickity-cell",navBtnSelector:".js-auto-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",imagesLoaded:!0,accessibility:!1},i=[],r=function(){a.each(i,function(t,e){setTimeout(function(){e.unpause()},1500+200*t)})},e=function(){a.each(i,function(){this.resize()})},c=function(n){n.find(o.sliderCtn).find(o.cellCtn).not("."+o.initedClass).each(function(){var t=a(this),e=App.components.create("flickity",o);e.init(t,n),e.isInited()&&i.push(e),setTimeout(function(){e.resize()},500)})},s=function(t,e){n=a(e.page.key()),c(n),r()},l=function(t,e){e.canRemove?(a.each(i,function(){this.destroy()}),i=[]):a.each(i,function(){this.pause()}),n=a()},u=function(){c(n),r()};App.modules.exports("auto-flickity",{actions:function(){return{site:{resize:e},page:{enter:s,leaving:l},articleChanger:{entering:u},siteLoader:{finishing:r},popupTransition:{beforeEnter:function(t,e){c(e.page),r()}}}}})}(jQuery),function(o,t){"use strict";var e=o("#site"),i=".js-recaptcha-response",n=".js-recaptcha",r="g-recaptcha-",a=null,c=!1,s=0,l=function(a){c&&a&&a.find(n).each(function(){var e=o(this);if(!e.attr("id")){var t=r+ ++s;e.attr("id",t);var n=window.grecaptcha.render(t,{sitekey:e.attr("data-sitekey"),callback:function(t){a.find(i).val(t),App.mediator.notify("recaptcha.updated",{result:t,lastTarget:e})}});e.data("recaptcha-id",n)}})},u=function(){try{window.grecaptcha?window.grecaptcha.reset():App.log("Recaptcha Lib not found")}catch(t){App.log("Recaptcha Force update fail with error")}},d=function(t,e){e.page?a=o(e.page.key()):e.article&&(a=o(e.article)),l(a)};App.modules.exports("auto-invisible-recaptcha",{init:function(){window.GoogleReCaptchaCallback=function(){c=!0,l(e)}},actions:function(){return{page:{enter:d},articleChanger:{enter:d},recaptcha:{forceUpdate:u}}}})}(jQuery),function(n,t,e){"use strict";var a=!0,o=n("#site"),i=function(t){var e=n(t.target);e.hasClass("jit-image-bg-src")&&e.closest(".jit-image-bg").css({backgroundImage:"url('"+e.attr("src")+"')"})},r=function(t,e){n(e.article).find("img[data-src-format]").jitImage()},c=function(t,e){a||n(e.page.key()).find("img[data-src-format]").jitImage(),a=!1};App.modules.exports("auto-jit-image",{init:function(){o.on("loaded.jitImage",i)},actions:function(){return{page:{enter:c},articleChanger:{enter:r}}}})}(jQuery,window),function(n,t,e){"use strict";var a=n("#site"),o=n(".page"),i=function(t){t.find("a[data-mailto]").each(function(){var t=n(this);t.attr("href","mailto:"+t.attr("data-mailto"))})},r=function(t,e){i(e.article)},c=function(t,e){o=n(e.page.key()),i(o)};App.modules.exports("auto-mailto",{init:function(){i(a)},actions:function(){return{page:{enter:c},articleChanger:{enter:r},autoMailto:{update:function(t,e){i(e.ctn)}}}}})}(jQuery,window),function(c,t){"use strict";c(window);var e=c("#site"),n=(c(),function(t){var e=c(this),n=e.attr("data-merge-qs-value-key"),a=e.attr("data-merge-qs-value-remove-keys"),o=e.attr("data-merge-qs-value")||null,i=App.routing.querystring.parse(document.location.search);if(n){if(e.filter("[data-merge-qs-value-toggle]").length?i[n]&&i[n]==o?i[n]=null:i[n]=o:i[n]=o||null,a){var r=a.split(",");c.each(r,function(t,e){i[e]=null})}if(App.mediator.notify("page.updateQsFragment",{qs:i,raiseFragmentChanged:!0}),e.filter("[data-merge-qs-value-prevent-default]").length)return window.pd(t,!0)}});App.modules.exports("auto-merge-qs-value",{init:function(){e.on(App.device.events.click,".js-merge-qs-value-button",n)}})}(jQuery),function(o,t){"use strict";o(window);var i=o("#site"),r="data-auto-modal-popup-selector",c=function(t,e){var n=e?"removeScroll":"addScroll";App.modules.notify("site."+n)},e=function(t){var e=o(this),n=e.closest(e.attr("data-auto-modal-common-ancestor")),a=(n.length?n:i).find(e.attr(r));return a.length?App.modules.notify("popup.toggle",{popup:a,openCallback:function(){c(0,!0)},closeCallback:function(){a.find(a.attr("data-inner-scroll-selector")).scrollTop(0),c(0,!1)}}):App.log("auto-modal: No popup found with selector : "+e.attr(r)),window.pd(t)};App.modules.exports("auto-modal",{init:function(){i.on(o.click,".js-auto-modal-btn",e)}})}(jQuery),function(i,r,t){"use strict";i(window);var e=i("#site"),n=i(),c=[],a=!0,s=".js-auto-oembed-player",l=".js-auto-oembed-ctn",u="auto-oembed",o=function(t){t.find(l).each(function(){var t=i(this),e=(t.find(s),t.data(u));App.modules.notify("changeState.update",{item:t,state:"playing",action:"off"}),e&&e.destroy(),t.data(u,null)})},d=function(t,e){var n=t.find(s),a=n.attr("data-autoload");if(!e){if(App.device.mobile&&"mobile"!==a&&"all"!==a)return;if(!App.device.mobile&&"none"===a)return}var o=t.data(u)||App.components.create("oembed",{container:t,player:n});return t.data(u,o),c.push(o),o.load({finish:function(){App.modules.notify("changeState.update",{item:t,state:"playing",action:"off"})}}),o},p=function(t){(t.is(l)?t:t.find(l)).each(function(){d(i(this))})},f=function(t){(t.is(l)?t:t.find(l)).each(function(){var t,e;t=i(this),(e=t.data())&&e.autoOembed&&e.autoOembed.pause()})},m=function(t,e){e&&e.item&&f(e.item)},g=function(t){var e=i(this),n="true"===e.attr("data-auto-oembed-pause-other-on-play"),a=e.closest(l),o=a.data(u);return n&&f(i("#site")),o?(App.modules.notify("changeState.update",{item:a,state:"playing",action:"on"}),o.play()):o=d(a,!0),r.pd(t)},h=function(t,e){n=i(e.page.key()),a||p(n)},v=function(){o(n),n=i(),c=[]},y=function(){a=!1,p(e)},w=function(t,e){e.ctn&&p(e.ctn)},A=function(t,e){o(n),e.article&&p(e.article)};App.modules.exports("auto-oembed",{init:function(){e.on(App.device.events.click,".js-auto-oembed-play",g)},actions:function(){return{page:{enter:h,leaving:v},site:{loaded:y},infiniteScroll:{pageLoaded:w},articleChanger:{enter:A},autoOembed:{pauseAll:m}}}})}(jQuery,window),function(t,e){"use strict";var n=jQuery("#site");App.modules.exports("auto-print",{init:function(){n.on(App.device.events.click,".js-auto-print",function(t){return setTimeout(window.print,10),window.pd(t)})}})}(),function(o,t){"use strict";o(window);var e,n,a=function(){App.mediator.notifyCurrentPage("autoRatio.resizeCompleted")},i=function(t,e){t.each(function(){var t,e=o(this),n=function(t){if(!t)return 1;var e=t.toString().split(/[:\/]/i);return e.length?1===e.length?parseFloat(e[0]):2===e.length?parseInt(e[0],10)/(parseInt(e[1],10)||1):-1:1}(e.attr("data-auto-ratio")),a=e.attr("data-auto-ratio-property")||"height";t="width"==a||"max-width"==a?e.height():e.width(),t=~~Math.floor(t/n),e.css(a,t+"px"),o("img[data-src-format]",e).jitImage()}),App.callback(e)},r=function(){i(o("*[data-auto-ratio]",o("> .page:visible",n)),a)},c=function(){r()},s=function(t,e){e&&e.elements?i(e.elements,e.callback?e.callback:a):r()};App.modules.exports("auto-ratio-size",{init:function(){e=o("#site"),n=o("#site-pages",e),r()},actions:function(){return{site:{resize:r},page:{enter:c},autoRatioSize:{update:s},articleChanger:{enter:c}}}})}(jQuery),function(l,t){"use strict";var u=l(window),n=0,d={all:!0,desktop:!App.device.mobile,tablette:App.device.tablet,mobile:App.device.mobile,phone:l.phone},a=function(){var t=l(this),e=t.attr("data-height-ratio")||1,n=t.attr("data-height-property")||"minHeight",a=function(t){var n=0;if(t){var e=t.split(",");l.each(e,function(t,e){n+=l(e).height()})}return n}(t.attr("data-height-offset")),o=(u.height()-a)*e,i=function(t){var n=!1;if(t){var e=t.split(",");l.each(e,function(t,e){d[e]&&(n=!0)})}return n}(t.attr("data-screen-height-platform")||"all"),r=t.attr("data-screen-height-min-width")||0,c=t.data("data-screen-height-use-media-query")||!0,s=t.attr("data-screen-height-jitimage")||!0;i&&!c&&u.width()>r?t.css(n,o):i&&c&&window.matchMedia("(min-width: "+r+"px)").matches?t.css(n,o):t.css(n,""),s&&l("img[data-src-format]",t).jitImage()},e=function(t){var e=l(".page:visible");(App.device.mobile&&120<Math.abs(n-u.height())||!App.device.mobile)&&(e.filter(".js-auto-screen-height").add(l(".js-auto-screen-height",e)).each(a),n=u.height())},o=function(){n=0,e(),App.device.mobile&&(n=u.height()),setTimeout(e,100)};App.modules.exports("auto-screen-height",{init:function(){e(),App.device.mobile&&(n=u.height())},actions:function(){return{site:{resize:e},page:{enter:o},autoScreenHeight:{update:e},articleChanger:{entering:e}}}})}(jQuery),function(i,t){"use strict";i(window);var r=i("html"),c=i("#site"),n=!0,a=function(t,e){var n=1<document.location.href.split("#").length?document.location.href.split("#")[1]:"",a=n?c.find("#"+n):i(),o=e.noDuration?0:500;a.length&&r.velocity("scroll",{duration:o,offset:a.offset().top+"px",mobileHA:!1})},e=function(t,e){n?n=!1:a()};App.modules.exports("auto-scroll-to-id-on-load",{actions:function(){return{page:{enter:e},articleChanger:{enter:a},siteLoader:{finishing:a}}}})}(jQuery),function(l,t){"use strict";l(window);var u=l("#site"),e=function(t){var e=l(this),n=e.attr("href").split("#")[1],a=null,o=l("html"),i=e.attr("data-scroll-to-id-offset-selector"),r=0,c=e.attr("data-scroll-to-id-scroll-ctn");(c&&(a=e.closest(".page").find(c)),i)&&(r=-1*l(i).eq(0).height());var s=u.find("#"+n);if(s.length)return r+=s.offset().top,o.velocity("scroll",{offset:r+"px",mobileHA:!1,container:a}),e.sendClickEvent({cat:e.attr("data-ga-cat")||"Scroll to top",event:t}),window.pd(t)};App.modules.exports("auto-scroll-to-id",{init:function(){u.on(App.device.events.click,".js-scroll-to-id-button",e)}})}(jQuery),function(n,t){"use strict";n(window),n("#site");var a=function(t){var e;App.modules.notify("shareThis.applyButton",{service:t.attr("data-share-service")||"sharethis",title:t.attr("data-share-title")||document.title,url:t.attr("data-share-url")||(e=document.location,e.protocol+"//"+e.host+e.pathname),type:t.attr("data-share-type")||"large",element:t.eq(0)[0]})},e=function(t,e){n(".js-share-this-btn").each(function(){a(n(this))})},o={articleChanger:{enter:e},page:{enter:e}};App.modules.exports("autoShareThis",{init:function(){},actions:function(){return o}})}(jQuery),function(a,t,e){"use strict";a(window),a("html");var s=".js-auto-slide-click-item",o=".js-auto-slide-click-trigger",l=".js-auto-slide-click-slide",u="auto-slide-click",n=function(t,e){var n=e.item.closest(s);e.item.closest(".js-auto-slide-click").find(s).not(n).each(function(){var t=a(this),e=t.find(o),n=t.find(l);App.modules.notify("changeState.update",{item:e,state:u,action:"off"}),App.modules.notify("slide.update",{item:n,state:u,action:"up"})})},i=function(t,e){var n=e.trigger.closest(s),a=n.find(l),o=n.attr("data-auto-slide-click-min-width"),i=n.attr("data-auto-slide-click-max-width"),r=!!o&&window.mediaQueryMinWidth(o)||!o,c=!!i&&window.mediaQueryMaxWidth(i)||!i;r&&c&&(App.modules.notify("slide.update",{item:a,state:u,action:e.slideAction}),App.modules.notify("changeState.update",{item:e.trigger,state:u,action:e.triggerAction}))},r=function(t){var e=a(this);return i(0,{trigger:e,triggerAction:"toggle",slideAction:"toggle"}),window.pd(t)};App.modules.exports("auto-slide-click",{init:function(){a("#site").on(App.device.events.click,o,r)},actions:function(){return{autoSlideClick:{toggleOn:n,updateSlideState:i}}}})}(jQuery,window),function(l,t){"use strict";l(window);var e=l("#site"),u=function(t,e){return"height"==e?Math.floor(parseFloat(window.getComputedStyle(t[0]).height)):"outerHeight-full"==e?t.outerHeight(!0):"outerWidth-full"==e?t.outerWidth(!0):t[e]()},n=function(){e.find(".js-auto-sync-property").each(function(t,e){!function(t){var e=t.attr("data-sync-property");if(e){var n,a=t.attr("data-sync-property-from"),o=t.attr("data-sync-property-from-common-ancestor"),i=t.attr("data-sync-property-with"),r=t,c=null,s=t.attr("data-sync-property-aggregate");o&&(r="self"==o?t:t.closest(o)),r.length&&(c=r.find(a)),i||(i=e),c.length&&("sum"==s?(n=0,c.each(function(){n+=u(l(this),i)})):n="min"==s?_.reduce(c,function(t,e){var n=u(l(e),i);return n<t?n:t},u(c.first(),i)):"max"==s?_.reduce(c,function(t,e){var n=u(l(e),i);return t<n?n:t},0):u(c.first(),i),t.css(e,n))}}(l(this))})},a=function(){n()},o=function(){n(),setTimeout(n,50)};App.modules.exports("auto-sync-property",{init:function(){n()},actions:function(){return{site:{resize:a},page:{enter:o},articleChanger:{enter:o},autoSyncProperty:{update:n}}}})}(jQuery),function(s,t){"use strict";s(window);var e=s("#site"),r=function(t,e,n){var a,o,i,r=!1,c=App.routing.querystring.parse(document.location.search);s.each(n.split(","),function(t,e){var n=e.split("="),a=n[0],o=n[1];o.length?c[a]&&c[a]==o&&(r=!0):(c[a]&&0===c[a].length||!c[a])&&(r=!0)}),a=t,o=e,i=r,App.modules.notify("changeState.update",{item:a,state:o,action:i?"on":"off"})},n=function(){e.find(".js-auto-sync-state-from-qs").each(function(){var i=s(this),t=i.attr("data-sync-state-from-qs");if(t.length){var e=t.split(";");s.each(e,function(t,e){var n=e.split(":"),a=n[0],o=n[1];r(i,a,o)})}})},a=function(){n()};App.modules.exports("auto-sync-state-from-qs",{init:function(){n()},actions:function(){return{page:{fragmentChanged:a}}}})}(jQuery),function(m,t,e){"use strict";var g=m(window),h=g.height(),n=m("html"),v=n.height(),y=m("#site"),a=m(),o=(m(),"data-toggle-class-on-scroll-"),w=o+"ref-common-ancestor",A=o+"ref",b=o+"scroll-ctn",k=o+"element-offset",i=function(){v=n.height(),a.each(function(){var t=m(this),e=t.attr("data-toggle-class-on-scroll-add-before"),n=t.attr("data-toggle-class-on-scroll-rem-before"),a=t.attr("data-toggle-class-on-scroll-add-after"),o=t.attr("data-toggle-class-on-scroll-rem-after"),i=m(t.attr(A));t.attr(w)&&(i=t.closest(t.attr(w)).find(t.attr(A)));var r=i.length?i:t,c=t.attr("data-toggle-class-on-scroll-screen-offset")||0,s=g;t.attr(b)&&(s=t.closest(".page").find(t.attr(b)));var l=s.scrollTop();if(r.length){var u=function(){t.addClass(e),t.removeClass(n),App.mediator.notify("autoToggleClassOnScroll.executed",{item:t,trigger:"before",addedClass:e,removeClass:n})},d=r.offset().top,p=h*c,f=0;t.attr(k)&&y.find(t.attr(k)).each(function(){f+=m(this).outerHeight()}),(d-p-f<l||!i.length&&0!==l&&l===v-h&&l<=d)&&(u=function(){t.addClass(a),t.removeClass(o),App.mediator.notify("autoToggleClassOnScroll.executed",{item:t,trigger:"after",addedClass:a,removeClass:o})}),t.data("autoToggleClassOnScroll",u)}})},r=null,c=function(){window.craf(r),r=window.raf(function(){a.each(function(){var t=m(this);App.callback(t.data("autoToggleClassOnScroll"))})})},s=function(){h=Math.max(1,g.height()),v=Math.max(1,n.height())},l=function(){s(),i(),c()},u=function(){a=y.find(".js-auto-toggle-class-on-scroll")},d=function(t,e){m(e.page.key()),u(),s(),setTimeout(l,500)},p=function(t,e){},f=function(){u(),i(),c()};App.modules.exports("auto-toggle-class-on-scroll",{actions:function(){return{site:{scroll:i,postscroll:c,resize:l},page:{enter:d,leave:p},infiniteScroll:{pageLoaded:u},articleChanger:{enter:f},search:{complete:f}}}})}(jQuery,window),function(t,e,n){"use strict";var a=App.components.create("checkpoint-event",{category:"Lecture",checkPoints:[25,50,75,90,100]}),o=t(window),i=o.height(),r=t("body"),c=r.height(),s=c-i,l=function(){i=o.height(),c=r.height(),s=c-i},u=function(t,e){a.init(),App.callback(t),setTimeout(l,100)},d=function(t,e){a.reset(),App.callback(t)},p=function(){0<s&&a.track(o.scrollTop()/s*100)};App.modules.exports("auto-tracked-scroll",{actions:function(){return{page:{enter:u,leave:d},site:{scroll:p,resize:l,loaded:l},articleChanger:{enter:u}}}})}(jQuery,window),function(o,t){"use strict";o(window);var n=o("#site"),a=o(".page"),i=".js-auto-video",e=0,r=function(){var t=o(this).closest(".js-auto-video-ctn");t.find(i).each(function(){var t=o(this).data();t&&t.autoVideoComponent?t.autoVideoComponent.togglePlay():App.log("No auto-video-component found")})},c=function(t){var e=n.find(".js-auto-video-toggle-play");e.off(o.click,r),e.on(o.click,r),t.find(i).each(function(){var t,e,n,a;t=o(this),n=o.extend({},{},e),(a=App.components.create("video",n)).init(t),a.load(),t.data("autoVideoComponent",a)})},s=function(){window.craf(e),e=window.raf(function(){a.find(i).each(function(){var t=o(this).data();t&&t.autoVideoComponent&&t.autoVideoComponent.resize()})})},l=function(t,e){a=o(e.page.key()),c(a)},u=function(t,e){c(e.article)},d=function(t,e){e.canRemove&&a.find(i).each(function(){var t=o(this),e=(t.closest(".js-auto-video-ctn"),t.data());if(e&&e.autoVideoComponent){var n=e.autoVideoComponent;t.data("autoVideoComponent",null),n.destroy()}})},p=function(t){return o(this).closest(".js-auto-video-ctn").find(i).each(function(){var t=o(this).data();if(t&&t.autoVideoComponent){var e=t.autoVideoComponent;e.resize(),e.play()}else App.log("No autoVideoComponent found")}),window.pd(t)};App.modules.exports("auto-video",{init:function(){n.on(o.click,".js-auto-video-play",p)},actions:function(){return{page:{enter:l,leaving:d},articleChanger:{enter:u},site:{resize:s},video:{resize:s}}}})}(jQuery),function(a,t){"use strict";a.fn.extend({blankLink:function(){a(this).each(function(){var t=a(this),e=t.attr("href");e&&(/^https?:\/\//.test(e)||/^\/workspace/.test(e))&&(t.attr("target")?!t.attr("rel")&&a.inArray(t.attr("target"),["_blank","_top"])&&t.attr("rel","noopener"):(t.attr("target","_blank"),t.attr("rel","noopener")))})}});var o=a(".page"),i=function(t){t.find("a").blankLink()},e={page:{enter:function(t,e,n){o=a(e.page.key()),i(o)}},articleChanger:{enter:function(t,e){i(e.article)}}};App.modules.exports("blankLinkModule",{init:function(){a("a").blankLink()},actions:function(){return e}})}(jQuery),function(o,t){"use strict";o(window);var i={},r=o(),e=function(t,e,n){if(e.data){var a="";o(e.data).each(function(t,e){if(o(e).is("link")){var n=o(e);if(n.attr("rel")&&"canonical"==n.attr("rel"))return a=n.attr("href"),!0}}),e.url||(e.url=document.location.pathname),i[e.url]=a}},n=function(t,e,n){i[document.location.pathname]&&r.attr("href",i[document.location.pathname])};App.modules.exports("canonical-updater",{init:function(){var a="",t=o("link[rel=canonical][href]",document);0===t.length?App.log({args:["No canonical meta found."],fx:"warn"}):1!=t.length&&App.log({args:["Multiple canonical meta found."],fx:"error"}),t.each(function(t,e){var n=o(this);a=n.attr("href"),r=n}),i[document.location.pathname]=a},actions:function(){return{pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}}}})}(jQuery),function(f,t){"use strict";f(window);var m=function(t){return!!t&&!!t.length&&"polygon"==t[0].nodeName||"polyline"==t[0].nodeName||"path"==t[0].nodeName||"g"==t[0].nodeName||"circle"==t[0].nodeName||"rect"==t[0].nodeName||"text"==t[0].nodeName},c=function(n,a,o){var i="is-"+a,t=n.attr("data-"+a+"-state-add-class"),e=n.attr("data-"+a+"-state-rem-class"),r=n.attr("data-"+a+"-state-notify-on")||"",c=n.attr("data-"+a+"-state-notify-off")||"";o&&r.length?f.each(r.split(","),function(t,e){App.mediator.notify(e,{item:n,state:a,flag:o})}):!o&&c.length&&f.each(c.split(","),function(t,e){App.mediator.notify(e,{item:n,state:a,flag:o})});var s,l,u,d,p;m(n)?n[0].classList?o?(n[0].classList.add(t),n[0].classList.remove(e),n[0].classList.add(i)):(n[0].classList.remove(t),n[0].classList.add(e),n[0].classList.remove(i)):(u=[],d=n.attr("class").split(" "),p="",o?(l=[],e&&(l=e.split(" ")),t&&u.push(t.split(" ")),u.push(i),f.each(d,function(t,e){-1==l.indexOf(e)&&u.push(e)}),f.each(u,function(t,e){p+=" "+e})):(s=[],t&&(s=t.split(" ")),f.each(d,function(t,e){e!=i&&-1==s.indexOf(e)&&u.push(e)}),e&&u.push(e.split(" ")),f.each(u,function(t,e){p+=" "+e})),n.attr("class",p)):o?(n.addClass(t),n.removeClass(e),n.addClass(i)):(n.removeClass(t),n.addClass(e),n.removeClass(i))},s=function(t,e,n){var a=t.attr("data-"+e+"-state-follower-common-ancestor"),o=t.attr("data-"+e+"-state-follower"),i=t;a&&(i=t.closest(a));var r=i.find(o);App.modules.notify("changeState.begin",{item:t,state:e,flag:n}),c(t,e,n),r.each(function(){var t=f(this);s(t,e,n)}),App.modules.notify("changeState.end",{item:t,state:e,flag:n})},e=function(t,e){if(e&&e.item&&e.state&&e.action){var n=e.item.attr("data-"+e.state+"-state-min-width"),a=e.item.attr("data-"+e.state+"-state-max-width"),o=!!n&&window.mediaQueryMinWidth(n)||!n,i=!!a&&window.mediaQueryMaxWidth(a)||!a;o&&i&&function(t,e,n,a){var o="is-"+e,i=t.hasClass(o);a=a||{},m(t)&&(i=t[0].classList?t[0].classList.contains(o):-1!=t.attr("class").split(" ").indexOf(o));"toggle"==n?(s(t,e,!i),i?App.callback(a.off):App.callback(a.on)):"on"==n?i||(s(t,e,!0),App.callback(a.on)):"off"==n?i&&(s(t,e,!1),App.callback(a.off)):App.log("Action: "+n+" is not recognized: Actions available are : toggle, on or off")}(e.item,e.state,e.action,e.callbacks)}};App.modules.exports("change-state",{actions:function(){return{changeState:{update:e}}}})}(jQuery),function(a,c,t){"use strict";var s=/^\[email([\u0080-\u00FF ]+)protected\]$/i,e=function(){a('a[href^="/cdn-cgi/l/email-protection"]').each(function(t,e){try{var n=(e=a(e)).attr("data-cfemail");n||(n=e.attr("href").split("#")[1]),n&&-1!==n.indexOf("?")&&(n=n.split("?")[0]),n&&function(t,e){var n,a,o="",i=parseInt(t.substr(0,2),16);if(i){for(n=2;n<t.length;n+=2)a=parseInt(t.substr(n,2),16)^i,o+=String.fromCharCode(a);e.attr("href","mailto:"+o),e.find("script").remove();var r=e.find(".__cf_email__");r.length&&(e=r),s.test(c.trim(e.text()))&&e.text(o)}}(n,e)}catch(t){App.log(t)}})};App.modules.exports("cloudflare-email",{actions:function(){return{page:{enter:e},articleChanger:{enter:e}}}})}(jQuery,window.s,window),function(e,t,n){"use strict";App.modules.exports("defered-css",{actions:function(){return{site:{loaded:function(){e("link[data-href]").each(function(){var t=e(this);t.attr("href",t.attr("data-href"))})}}}}})}(jQuery,window),function(o,t){"use strict";var n=function(t,e){e&&e.elem.find(".fb-comments").each(function(t,e){var n=o(e),a=n.width();100<a&&n.attr("data-width",a).find(">span>iframe, >span:first-child").width(a)})},e=function(t,e){window.FB&&window.FB.XFBML&&(e=e||{},window.FB.XFBML.parse(e.elem||document,function(){n(0,{elem:e.elem||o(".page:visible",App.root())})}))};App.modules.exports("FB",{actions:function(){return{page:{enter:e},FB:{parse:e,resize:n},articleChanger:{enter:e},site:{loaded:e}}}})}(jQuery),function(n,t){"use strict";window.formatTwitter=function(){var t=n(this),e=t.html();"true"!==t.attr("data-formattwitter")&&(e=e.replace(/[a-z]+:\/\/([a-z0-9-_]+\.[a-z0-9-_:~\+#%&\?\/.=^>^<]+[^:\.,\)\s*$])/gi,function(t,e){return'<a title="'+t+'" href="'+t+'" target="_blank" rel="noopener">'+(36<e.length?e.substr(0,35)+"&hellip;":e)+"</a>"}),e=e.replace(/(^|[^\w]+)\@([a-zA-Z0-9_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ]{1,15}(\/[a-zA-Z0-9-_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ]+)*)/gi,function(t,e,n){return e+'<a href="http://twitter.com/'+n+'" target="_blank" rel="noopener">@'+n+"</a>"}),e=e.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ^"^<^>]+)/gi,function(t,e,n){return'"'===t.substr(-1)||"<"==t.substr(-1)?t:e+'<a href="https://twitter.com/search?q=%23'+n+'&src=hash" target="_blank rel="noopener"">#'+n+"</a>"}),t.html(e),t.attr("data-formattwitter","true"))}}(jQuery),function(t,e){"use strict";var n=t(document),a="keyboard-nav",o="keydown",i="tabindex",r=t("html"),c=function(t){t.which===window.keys.tab&&(r.addClass(a),n.off(o,c).one("click",s),App.mediator.notify("keyboardNav.enabled"))},s=function(t){r.removeClass(a),n.on(o,c),App.mediator.notify("keyboardNav.disabled")},l=function(t,e){if(e&&e.item&&e.item.is(".js-focusable")){var n=e.item.add(e.item.find(".js-focusable-child"));"after"===e.trigger?n.removeAttr(i):n.attr(i,"-1")}};App.modules.exports("keyboard-nav",{init:function(){n.on(o,c)},actions:function(){return{autoToggleClassOnScroll:{executed:l}}}})}(jQuery),function(s,t){"use strict";var e=window.location,l=e.origin||e.protocol+"//"+e.hostname,a=new RegExp("^"+l,"i"),o=function(){var t=s("html"),e=t.attr("lang");if(!e)return null;var n=t.attr("data-all-langs");if(!n)return null;return _.map(_.filter(n.split(","),function(t){return!!t&&t!==e}),function(t){return new RegExp("^/"+t+"/.*$","i")})}(),i=function(t,e){if(!App.mediator._currentPage())return!0;var n=t.attr("href");return void 0===n||(!!/^(mailto|skype|tel|fax|ftps?|#)/im.test(n)||!(!e.metaKey&&!e.ctrlKey))},u=function(t){var e=s(this),n=e.attr("href");return!!i(e,t)||(/^\?.+/.test(n)&&(n=window.location.pathname+n),a.test(n)&&(n=n.replace(a,"")),!(!o||!_.some(_.map(o,function(t){return t.test(n)})))||(App.mediator.notify("links.gotoClicked",{item:e,url:n}),App.mediator.goto(n),window.pd(t)))},d=function(t){var e=s(this),n=e.attr("href"),a=e.attr("data-toggle-fallback-url");return!!i(e,t)||(App.mediator.notify("links.toggleClicked",{item:e,url:n,fallback:a}),App.mediator.toggle(n,a),window.pd(t))};App.modules.exports("links",{init:function(){var t=':not([href^="/workspace"])',e=':not([data-action="full"]):not([data-action="toggle"]):not([data-action="none"])',n='a[href^="'+l+'"]',a=':not(a[href^="'+l+'/workspace"])',o='[data-action="toggle"]',i='a[href^="/"]',r='a[href^="?"]',c=App.device.events.click;s("#site").on(c,i+t+e,u).on(c,r+t+e,u).on(c,n+e+a,u).on(c,i+o,d).on(c,r+o,d)}})}(jQuery),function(n,t){"use strict";n(window),n("#site");var a="is-loading",e=function(t,e){n(e.item).length&&e.url&&!e.item.hasClass(a)&&(e.item.addClass(a),Loader.load({url:e.url,success:function(){e.item.removeClass(a).addClass("is-loaded"),App.callback(e.successCallback)},error:function(){e.item.removeClass(a),App.console.log("Error loading async")},giveup:function(t){e.item.removeClass(a),App.console.log("Gave up loading async")}}))};App.modules.exports("load-async",{actions:function(){return{loadAsync:{load:e}}}})}(jQuery),function(r,t,e){"use strict";var c=function(){return!!window.DM&&window.DM.player};App.modules.exports("oembed-dm",{init:function(){var n;App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var t=r.extend({},n,{getIframe:function(a,o,i){App.loaded(c,function(t){var e=0<a.indexOf("/video/")?a.substring(a.indexOf("/video/")+7,a.indexOf("_")):a.substring(a.lastIndexOf("/")),n=r("<div/>");o=void 0!==o?o:1,i.append(n),this.playerInstance=t(n.get(0),{video:e,height:"100%",width:"100%",params:{autoplay:o,logo:0,info:0,background:"181818",highlight:"b4b4b4",api:1,html:1}})})},play:function(t){this.playerInstance.play()},pause:function(t){this.playerInstance.pause()}});App.modules.notify("oembed.providers.register",{key:"Dailymotion",provider:t})}})}(jQuery,window),function(t,e,n){"use strict";var o=function(){return!!window.FB&&window.FB.XFBML};App.modules.exports("oembed-fb",{init:function(){var n;t("#fb-root").length||App.log({fx:"error",args:'The FB SDK requires <div id="fb-root"></div> in the body'}),App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var a=t.extend({},n,{embed:function(e,t){App.loaded(o,function(t){t.parse(e.get(0)||document,function(){App.callback(a.ready)})})}});App.modules.notify("oembed.providers.register",{key:"Facebook",provider:a})}})}(jQuery,window),function(e,t,n){"use strict";var o=function(){return!!window.instgrm&&window.instgrm.Embeds};App.modules.exports("oembed-ig",{init:function(){var a;App.modules.notify("oembed.providers.abstract",function(t,e){a=e});var t=e.extend({},a,{embed:function(t,e){var n=a.getTemplateContent(t);return n&&t.html(n),App.loaded(o,function(t){t.process()}),n?t.children():void 0}});App.modules.notify("oembed.providers.register",{key:"Instagram",provider:t})}})}(jQuery,window),function(e,t,n){"use strict";App.modules.exports("oembed-sc",{init:function(){var a;App.modules.notify("oembed.providers.abstract",function(t,e){a=e});var t=e.extend({},a,{embed:function(t,e){var n=a.getTemplateContent(t);return t.html(n),t.children()}});App.modules.notify("oembed.providers.register",{key:"Soundcloud",provider:t})}})}(jQuery,window),function(o,t,e){"use strict";var i=function(){return!!window.twttr&&window.twttr.widgets};App.modules.exports("oembed-tw",{init:function(){var n;App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var t=o.extend({},n,{embed:function(t,e){var n=t.find(".js-oembed-script"),a=o(o(n.contents()).text());t.append(a),App.loaded(i,function(t){t.load(a.get(0)||document)})}});App.modules.notify("oembed.providers.register",{key:"Twitter",provider:t})}})}(jQuery,window),function(o,a,t){"use strict";var r=function(){return a.$f};App.modules.exports("oembed-vm",{init:function(){var i;App.modules.notify("oembed.providers.abstract",function(t,e){i=e});var t=o.extend({},i,{getIframe:function(t,e,n,a,o){return e=void 0!==e?e:1,n=void 0!==n?n:1,i.getIframe().attr("src","//player.vimeo.com/video/"+t+"?autoplay="+e+"&loop="+n+"&api=1&html5=1&rel="+a+(o||""))},ready:function(n,a){App.loaded(r,function(t){var e=t(o("iframe",n).get(0));e.addEvent("ready",function(){n.attr("data-volume")&&e.api("setVolume",parseInt(n.attr("data-volume"),10)),App.callback(a,[e])})})},play:function(e){App.loaded(r,function(t){t(o("iframe",e).get(0)).api("play")})},pause:function(e){App.loaded(r,function(t){a.$f(o("iframe",e).get(0)).api("pause")})},progress:function(e,n){App.loaded(r,function(t){a.$f(o("iframe",e).get(0)).addEvent("playProgress",function(t){App.callback(n,[100*t.percent])})})},finish:function(e,n){App.loaded(r,function(t){a.$f(o("iframe",e).get(0)).addEvent("finish",function(){App.callback(n,{container:e})})})},volume:function(e,n){App.loaded(r,function(t){a.$f(o("iframe",e).get(0)).api("setVolume",n)})}});App.modules.notify("oembed.providers.register",{key:"Vimeo",provider:t})}})}(jQuery,window),function(t,i,e){"use strict";var u=function(){return!!i.YT&&i.YT.Player};App.modules.exports("oembed-yt",{init:function(){var s;App.modules.notify("oembed.providers.abstract",function(t,e){s=e});var l=t.extend({},s,{getIframe:function(t,e,n,a,o){var i=0<t.indexOf("v=")?t.match(/v=([^\&]+)/im)[1]:t.substring(t.lastIndexOf("/")),r=void 0!==e?e:1,c=s.getIframe().attr("id","youtube-player-"+i).attr("src","//www.youtube.com/embed/"+i+"?feature=oembed&autoplay="+r+"&enablejsapi=1&version=3&html5=1&rel="+a+(o||""));return App.loaded(u,function(t){l.ytplayer=new t(c.get(0))}),c},playerLoaded:function(){return l.ytplayer&&l.ytplayer.playVideo},ready:function(t,e){App.loaded(u,function(t){App.callback(e,[t])})},play:function(t){App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.playVideo()})})},pause:function(t){App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.pauseVideo()})})},progress:function(t,n){var a=0,o=function(){if(clearTimeout(a),l.ytplayer){var t=l.ytplayer.getDuration(),e=l.ytplayer.getCurrentTime();App.callback(n,[Math.max(0,e/t*100||0)])}a=setTimeout(o,2e3)},e=function(t){t.data===i.YT.PlayerState.PLAYING?o():(clearTimeout(a),a=0)};App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.addEventListener("onStateChange",e)})})},finish:function(e,n){var a=function(t){t.data===i.YT.PlayerState.ENDED&&App.callback(n,{container:e})};App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.addEventListener("onStateChange",a)})})}});App.modules.notify("oembed.providers.register",{key:"YouTube",provider:l})}})}(jQuery,window),function(t,e){"use strict";var n=function(t,e){e&&e.url?document.location=e.url:document.location=document.location};App.modules.exports("page-load-errors",{actions:function(){return{pages:{failedtoparse:function(t,e){},loaderror:function(t,e){},loadfatalerror:function(t,e){n(0,e)}},articleChanger:{loaderror:function(t,e){n(0,e)}}}}})}(jQuery),function(t,e){"use strict";var n="page-loading",a="show",o=t(),i=t(),r=!1,c=0,s=0,l=0,u=function(t){return~~(100*t)+"%"},d=function(t){if(clearTimeout(l),r){var e=s+.05;s=Math.max(e,t||s),s=Math.min(s,1),i.width(u(s)),!t&&s<.95&&(l=setTimeout(d,150))}App.log({args:["Progress %s %s",t||"timer",s],me:"page-load"})},p=function(){clearTimeout(c),s=.3,i.removeClass("end").removeClass(a).removeClass("start").width(u(0)).height(),i.addClass("start").addClass(a).width(u(s)).height(),o.addClass(n),r=!0,App.log({args:"Start",me:"page-load"}),setTimeout(d,300)},f=function(){i.addClass("end").width("100%"),r=!1,c=setTimeout(function(){i.removeClass(a),o.removeClass(n)},500),App.log({args:"End",me:"page-load"})},m=function(t,e){d(e.percent)};App.modules.exports("page-load",{init:function(){o=t("html"),i=t("#load-progress")},actions:function(){return{pageLoad:{start:p,progress:m,end:f},pages:{loading:p,loadfatalerror:f,loadprogress:m,loaded:f,notfound:f}}}})}(jQuery),function(t,e){"use strict";App.modules.exports("page-not-found",{actions:function(){return{pages:{notfound:function(t,e){e&&e.url&&e.url!==document.location.pathname&&(document.location=e.url)}}}}})}(jQuery),function(i,t){"use strict";var r="popup-poped",c=".js-popup-bg",s=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe, object, embed","[tabindex], [contenteditable]"].join(","),l=function(e){return i(s).filter(function(){var t=i(this);return!t.closest(e).length||t.is(c)})},u=function(t,e){var n=i(e),a=n.data("acc-tabindex");a?n.attr("tabindex",a):n.removeAttr("tabindex")},d=function(t){t.which===window.keys.escape&&i(this).find(".js-popup-close-btn").click()},e=function(t,e){var n=i(e),a=n.attr("tabindex");"-1"!==a&&(n.data("acc-tabindex",a||void 0),n.attr("tabindex","-1"))},p=function(t){t&&t.length&&(l(t).each(e),t.find(s).each(u),t.on("keyup",d))},f=function(t,e){e.addClass("noanim"),App.modules.notify("changeState.update",{item:e,action:t,state:r}),e.height(),e.removeClass("noanim")},m=function(t,e){App.modules.notify("changeState.update",{item:e,action:t,state:r})},n=function(t,e){var n=i(e.popup),a=n.find(c),o=n.hasClass("is-"+r);f("off",n),App.callback(e.openCallback),o||(i.removeFromTransition(a.selector),a.transitionEnd(function(){App.callback(e.openedCallback,[{popup:n}])}),m("on",n),p(n))},a=function(t,e){var n,a=i(e.popup),o=a.find(c);a.hasClass("is-"+r)&&(i.removeFromTransition(o.selector),o.transitionEnd(function(){a.filter("[data-popup-reset-on-close]").length&&f("on",a),App.callback(e.closeCallback,[{popup:a}])}),m("off",a),(n=a)&&n.length&&(l(n).each(u),n.find(s).each(u),n.off("keyup",d)))},o=function(t,e){i(e.popup).hasClass("is-"+r)?a(0,e):n(0,e)};App.modules.exports("popup",{actions:function(){return{popup:{open:n,close:a,toggle:o}}},init:function(){p(i(".js-popup"))}})}(jQuery),function(i,t){"use strict";i(window);var r={},a=".js-rate-it",o=App.debug()?3e3:1e4,c=i(),s=0,l=function(){var t=c.attr("data-rating-url");if(t){var e=document.location.pathname;if(!r[e]){var n=document.location.protocol+"//"+document.location.hostname+e,a={"fields[0][key]":n,"fields[0][tag]":"","action[rate]":""},o=(c.attr("data-rating-categories")||"").split(",");i.each(o,function(t,e){e&&(a["fields["+ ++t+"][key]"]=n,a["fields["+t+"][tag]"]=e)}),r[e]=!0,window.Loader.load({url:t,type:"POST",data:a,error:function(t){App.log(t),r[e]=!1},success:function(){r[e]=!0}})}}},e=function(t,e,n){c=e.page?i(e.page.key()).find(a):e.article?i(e.article).find(a):i(),clearTimeout(s),s=setTimeout(l,o)},n={page:{enter:e},articleChanger:{enter:e}};App.modules.exports("rating",{actions:function(){return n}})}(jQuery),function(a,t){"use strict";a(window);var o=".js-recommend-ctn",i=App.debug()?1e3:3e3,r=a(),c=0,s=document.location.protocol+"//"+document.location.host,l=function(t){return a.isArray(t)?t:[t]},e=App.components.create("algolia-search",{resultsCtnSelector:".js-recommend-results",resultsContentSelector:".js-recommend-content",resultsItemTemplateSelector:".js-recommend-template",algoliaAttributesToRetrieve:["title","url","hightlightedContent","category","categoryHandle","categoryUrl","img","imgJitFormat","imgSrc","rating","whitelist","blacklist"].join(","),algoliaAttributesToHighlight:"",gaCat:null,recommendCallback:function(t,e,n,a){e.nbHits||App.debug()||t.closest(o).remove(),App.modules.notify("recommendations.searchCompleted")},onCreateResultsTemplatingObject:function(t){var e=t.category?l(t.category):[],n=t.categoryHandle?l(t.categoryHandle):[],a=t.categoryUrl;return{title:t.title?t.title:"",url:t.url.replace(s,""),links:a?_.map(e,function(t,e){return{url:a+n[e],value:t}}):[],date:t.date?t.date:"",author:t.author?t.author:"",img:t.img?t.img:"",imgSrc:t.imgSrc?t.imgSrc:"",imgJitFormat:t.imgJitFormat?t.imgJitFormat:""}}}),u=function(){var t=_.filter((r.attr("data-recommend-categories")||"").split(","));e.init(r),e.recommend(t,"data-recommend-group")},n=function(t,e,n){r=e.page?a(e.page.key).find(o):e.article?a(e.article).find(o):a(),clearTimeout(c),c=setTimeout(u,i)},d={page:{enter:n},articleChanger:{enter:n}};App.modules.exports("recommendations",{actions:function(){return d}})}(jQuery),function(t,e){"use strict";App.modules.exports("route-not-found",{actions:function(){return{pages:{routeNotFound:function(t,e){e&&e.url&&e.url!==document.location.pathname&&(document.location=e.url)}}}}})}(jQuery),function(t,e){"use strict";t(window),t("#site-loader"),t("html");var n=function(t){var e=new RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))},a=function(){var t=n("gclid");if(t){var e=n("gclsrc");e&&-1===e.indexOf("aw")||function(t,e,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var o="; expires="+a.toGMTString();document.cookie=t+"="+e+o+";path=/"}("gclid",t,90)}},o=function(t,e){var n=new RegExp("(?:^|;\\s*)gclid=([^;]*)").exec(document.cookie);if(n){var a=n[1]?n[1]:"";e.input&&e.input.attr("value",a)}};App.modules.exports("salesforce-adwords",{init:function(){a()},actions:function(){return{salesforceAdwords:{setId:o}}}})}(jQuery),function(c,t){"use strict";c(window),c("#site");var e={shareThis:{applyButton:function(t,e,n){var a=document.location,o=a.protocol+"//"+a.host+a.pathname,i={service:"sharethis",title:document.title,url:o,type:"large"},r=c.extend(i,e);r.element&&window.stWidget&&window.stWidget.addEntry(r),c(r.element).on(App.device.events.click,function(t){return window.pd(t,!1)})}}};App.modules.exports("shareThis",{init:function(){},actions:function(){return e}})}(jQuery),function(i,t,e){"use strict";var r=t.onerror;t.onerror=function(t,e,n,a,o){return t=t||"",e&&(t+=" "+e),n&&(t+=" line "+n),a&&(t+=" col "+a),o&&o.stack&&(t+=" col "+o.stack),i.sendEvent("error",t),App.callback(r,t,e,n,a,o)},i(document).ajaxError(function(t,e,n){i.sendEvent("error ajax",n.url,t.result)})}(jQuery,window),function(t,e){"use strict";t(window);var n=t(".js-site-loader"),a=function(){t("html").removeClass("block-scroll"),App.modules.notify("siteLoader.finishing",{noDuration:!0})},o=function(){n.remove(),App.modules.notify("siteLoader.finished")},i=function(){App.modules.notify("siteLoader.closing"),n.length&&(t(".js-site-loader-close-ended-anim-ref").transitionEnd(o),App.modules.notify("changeState.update",{item:n,state:"close",action:"on"}),a())},r=function(){App.modules.notify("siteLoader.pageLoaded"),n.length&&setTimeout(i,1e3)};App.modules.exports("site-loader",{init:function(){App.modules.notify("siteLoader.initing"),App.debug()?(App.modules.notify("siteLoader.closing"),a(),o()):setTimeout(i,9500)},actions:function(){return{site:{loaded:r}}}})}(jQuery),function(o,t){"use strict";var i=".js-site-nav-link",r=o("#site"),e=function(t,e){var n,a;o(e.page.key());n=e.page.key().substring(1),a=r.find(i+".btn-"+n),r.find(i+".is-selected").not(a).each(function(){var t=o(this);App.modules.notify("changeState.update",{item:t,state:"selected",action:"off"})}),a.each(function(){var t=o(this);App.modules.notify("changeState.update",{item:t,state:"selected",action:"on"})})};App.modules.exports("site-nav-link-selector",{actions:function(){return{page:{entering:e}}}})}(jQuery),function(n,t){"use strict";var e=n(window),a=n("#site"),o=!1,i=null,r=function(t,e){i=e,o=!0},c=function(){var t;o&&(o=!1,(t=i).state.scrollPos&&(e.scrollTop(t.state.scrollPos),App.mediator.notify("site.scroll"),App.mediator.notify("site.postscroll")))};App.modules.exports("siteScrollKeeper",{init:function(){history.scrollRestoration&&(history.scrollRestoration="manual"),a.on(n.click,"a[href^='#']",function(t){var e=document.location.pathname+document.location.search;return e+=n(this).attr("href"),App.mediator.goto(e),window.pd(t)})},actions:function(){return{history:{popState:r},page:{enter:c},articleChanger:{enter:c}}}})}(jQuery),function(f,t){"use strict";var e=f(window),n=f("html"),m=".js-scrolling-zone",g=".js-scrolling-zone-content",a={preventEvent:{add:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",r,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null},remove:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",r,!1),window.onwheel=r,window.onmousewheel=document.onmousewheel=r,window.ontouchmove=r,document.onkeydown=c}},hideOverflow:{add:function(){n.removeClass("no-scroll"),i(0)},remove:function(){if(!n.hasClass("no-scroll")){var t=e.width();n.addClass("no-scroll"),i(e.width()-t)}}}},o={ArrowDown:!0,ArrowUp:!0,End:!0,Home:!0,PageDown:!0,PageUp:!0},i=function(t){f(".js-fix-scroll-pad").css({paddingRight:t||""}),f(".js-fix-scroll-right").css({right:t||""}),f(".js-fix-scroll-margin").css({marginRight:t||""})},r=function(t){var e,n,a,o=f(t.target).closest(m),i=!1;if(0<o.length){var r=o.height()||0,c=o.find(g),s=c.height()||0,l=o.offset().top,u=s-r,d=-(c.offset().top-l),p=(n=null,a=!1,(e=t).wheelDelta?n=e.wheelDelta/60:e.detail&&(n=-e.detail/2),null!==n&&(a=0<n?"up":"down"),a);(u<=0||"down"===p&&d===u||"up"===p&&0===d)&&(i=!0)}else i=!0;i&&((t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1)},c=function(t){if(o[t.key])return r(t),!1},s=function(t){return t&&t.strategy?t.strategy:"hideOverflow"},l=function(t,e){a[s(e)].add()},u=function(t,e){a[s(e)].remove()};App.modules.exports("siteScroll",{actions:function(){return{site:{removeScroll:u,addScroll:l}}}})}(jQuery),function(t,e){"use strict";jQuery(window);var n=function(t,e){if(e&&e.item&&e.state&&e.action){var n=e.item.attr("data-"+e.state+"-state-min-width"),a=e.item.attr("data-"+e.state+"-state-max-width"),o=!!n&&window.mediaQueryMinWidth(n)||!n,i=!!a&&window.mediaQueryMaxWidth(a)||!a;o&&i&&function(t,e,n,a){var o="is-"+e,i=t.hasClass(o),r=t.attr("data-"+e+"-state-slide-duration")||300,c=t.attr("data-"+e+"-state-notify-on-callback");if(a=a||{},"toggle"===n){App.modules.notify("changeState.update",{item:t,state:e,action:"toggle"});var s=i?"slideUp":"slideDown";t.stop(!0,!1)[s](r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""}),"slideDown"===s&&c&&App.mediator.notify(c,{item:t})})}else"up"===n?i&&(App.modules.notify("changeState.update",{item:t,state:e,action:"off"}),t.stop(!0,!1).slideUp(r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""})})):"down"===n?i||(App.modules.notify("changeState.update",{item:t,state:e,action:"on"}),t.stop(!0,!1).slideDown(r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""}),App.mediator.notify(c,{item:t})})):App.log("Action: "+n+" is not recognized: Actions available are : toggle, up, down")}(e.item,e.state,e.action,e.callbacks)}};App.modules.exports("slide",{actions:function(){return{slide:{update:n}}}})}(),function(a,t){"use strict";var o=a(".js-tab-reset"),i=a(),r=function(t){t.focus()},e=function(t,e){var n=a(e.page.key());n.hasClass("js-tab-reset-alt")?(i=a(document.activeElement),r(n)):(i.length&&i.is(":visible")?r(i):r(o),i=a())};App.modules.exports("tab-navigation",{actions:function(){return{page:{enter:e}}}})}(jQuery),function(o,t){"use strict";o(window),o("title",document);var i={},e=function(t,e,n){if(e.data){var a="";o(e.data).each(function(t,e){if(o(e).is("title"))return a=o(e).text(),!0}),e.url||(e.url=document.location.pathname),i[e.url]=a}},n=function(t,e,n){i[document.location.pathname]&&(document.title=i[document.location.pathname])},a={pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}};App.modules.exports("titleUpdater",{init:function(){i[document.location.pathname]=o("title").text()},actions:function(){return a}})}(jQuery),function(a,t){"use strict";var e=function(t,e,n){App.mediator.goto("/"+a("html").attr("lang")+"/")};App.modules.exports("toggleNoPreviousUrl",{init:function(){},actions:function(){return{page:{toggleNoPreviousUrl:e}}}})}(jQuery),function(r,t){"use strict";var a=[],i="",c=function(t,e){var n=t.currentPage,a=t.nextPage,o=r(a.key()),i=r(n.key());App.modules.notify("page.leaving",{page:n}),n.leave(t.leaveCurrent),App.modules.notify("page.entering",{page:a,route:t.route}),o.css({opacity:1,display:"block"}),i.css({display:"none"}),a.enter(t.enterNext),App.callback(e)},o=function(t){},s=function(t){for(var e=0;e<a.length;e++){var n=a[e];if(!(n.from!==t.currentPage.key().substring(1)&&"*"!==n.from||n.to!==t.nextPage.key().substring(1)&&"*"!==n.to)&&n.canAnimate(t))return n}},e=function(t,e){var n=o,a=s(e);a&&(n=a.beginTransition),i=e.nextPage.key().substring(1),n(e)},n=function(t,e,n){var a=c,o=s(e);o&&(a=o.transition),a(e,function(){i=""}),e.isHandled=!0};App.modules.exports("pageTransitionAnimation",{actions:function(){return{pages:{requestPageTransition:n,requestBeginPageTransition:e},pageTransitionAnimation:{getTargetPage:function(t,e,n){e||(e={result:{}}),e.result||(e.result={}),e.result.pageTransitionAnimation={},e.result.pageTransitionAnimation.target=i}}}}});window.App=r.extend(window.App,{transitions:{exports:function(t){var e=r.extend({from:"*",to:"*",beginTransition:o,transition:c,canAnimate:function(){return!0}},t);"*"===e.from&&"*"===e.to?(c=e.transition,o=e.beginTransition):a.push(e)}}})}(jQuery),function(n,t){"use strict";n(window);var e=function(t,e){e&&e.item&&n.removeFromTransition(e.item.selector)},a=function(t,e){if(e&&e.item){var n=e.item.attr("data-transitionEnd-notify");n&&n.length&&e.item.transitionEnd(function(){App.mediator.notify(n,{item:e.item})})}};App.modules.exports("transitionEnd-notify",{actions:function(){return{transitionEndNotify:{attach:a,cancel:e}}}})}(jQuery),function(l,t){"use strict";var i="",r="",c="",u="",d={},s=!1,p=!1,o=["fr","en"],f=function(){var t=u.indexOf("?");d=-1<t?App.routing.querystring.parse(u.substring(t)):{}},e=function(t,e){var n={scrollPos:l(window).scrollTop()};window.history.replaceState(l.extend({},n,e.data),e.title,e.url)},n=function(){s||e(0,{title:document.title,url:r+u})},m=function(t){history.pushState({},document.title,t)},g=function(){m(r+u)},h=function(t){var n,a,e=t.page.routes()[0];return 1<t.page.routes().length&&(e=t.page.routes()[(n=l("body"),a=0,l.each(o,function(t,e){if(n.hasClass(e))return a=t,!1}),a)]),e},v=function(e,n){var t=e?e.indexOf("*"):-1;return-1<t?(e=e.substring(0,t),n.length>e.length?(u=n.substring(t),f()):(u="",d={})):function(){if(n.length>e.length){var t=n[e.length];"#"!==t&&"?"!==t||(u=n.substring(e.length),f())}else u="",d={}}(),e},a=function(t,e,n){var a,o=v(h(e),e.route);r!=o&&(a=o,""===r?p=!0:(s||m(a+u),s=!1),r=o,c=e.route,i=e.page.key())},y=function(t,e,n){var a=!1;if(p){var o=window.location.href,i=window.location.protocol+"//"+window.location.host+r;u=o.substring(i.length),App.mediator.notify("page.fragmentChanged",u,function(){a=!0})}a||l.sendPageView({page:e.route})},w=function(t,e,n){u="",f()},A=function(t,e,n){r&&(u=e,l.isPlainObject(e)&&f(),g(),l.sendPageView({page:e.route}))},b=function(t,e,n){if(l.isPlainObject(e.qs)){var a=App.routing.querystring.stringify(d);l.extend(d,e.qs);var o=u.split("#")[0],i=u.split("#")[1],r=u.indexOf("?"),c=(s=[],l.each(d,function(t,e){t=window.encodeURIComponent(t),e&&s.push(t+"="+window.encodeURIComponent(e))}),s.join("&"));"?"+c!==a&&(c.length?u=-1===r?o+"?"+c:o.substring(0,r+1)+c:-1!==r&&(u=o.split("?")[0]),i&&i.length&&(u+="#"+i),g(),e.raiseFragmentChanged&&App.mediator.notify("page.fragmentChanged",u))}var s},k=function(){var t=App.pages.page(window.location.pathname);if(t){var e=window.location;if(t.key()==i){e.origin||(e.origin=e.protocol+"//"+e.hostname);var n=e.origin+r,a=e.href.substring(n.length);u!=a?(App.mediator.notify("page.fragmentChanged",a),u=a,f()):App.mediator.notify("page.sameFragmentRequested",a)}else s=!0,App.mediator.goto(e.pathname+e.search,c)}else App.log({args:"Page not found",me:"Url Changer"})},C=function(t,e,n){var a=u;v(h(e),e.route),g(),u=a,k(),l.sendPageView({page:e.route})},x=_.throttle(function(){e(0,{title:document.title,url:document.location.pathname+document.location.search+document.location.hash})},500,{}),j=function(){x()};App.modules.exports("urlChanger",{init:function(){var t=l("html").attr("data-all-langs");t&&(o=t.split(",")),window.history.pushState?l(window).on("popstate",function(t){App.modules.notify("history.popState",{previousUrl:c,event:t,state:t.originalEvent.state}),k()}):App.log({fx:"error",msg:"Cannot update url : history api was not found"})},actions:function(){return{site:{scroll:j},page:{entering:a,leaving:w,enter:y,updateUrlFragment:A,updateQsFragment:b,replaceState:e},pages:{navigateToCurrent:C,loading:n},url:{getUrl:function(){return window.location.pathname},getQueryString:function(){return window.location.search},getFullUrl:function(){return window.location.toString()}}}}})}(jQuery),function(t,e){"use strict";var n=window.Storage.local,a="auto-user-id",o="",i=function(){o&&t(".js-user-id").val(o)};App.modules.exports("user-id",{init:function(){(o=n.get(a)||"")||(o=function(){var t=0,e="";if(!window.Uint8Array||!window.crypto){for(t=0;t<32;++t)e+=(~~(1e4*Math.random())%255).toString(16);return e}var n=new window.Uint8Array(32);for(window.crypto.getRandomValues(n),t=0;t<n.length;++t)e+=n[t].toString(16);return e}(),n.set(a,o))},actions:function(){return{page:{enter:i},articleChanger:{enter:i}}}})}(jQuery),function(t,e){"use strict";var n=t(window),a=t(document),o=function(t,e){App.mediator.notify("site."+t,{event:e})},i=function(t){o("resize",t)},r=function(t){o("orientation",t),i()},c=function(t){o("scroll",t),o("postscroll",t)},s=function(t){o("loaded",t)},l=function(t){document.visibilityState||document.webkitVisibilityState;o("visibilitychange",t)},u=function(t){o("ready",t)},d=function(t,e){e&&e.animated||(n.scrollTop(0),c())};App.modules.exports("windowNotifier",{init:function(){t(u),n.load(s).scroll(c).on("orientationchange",r),t.ios||n.resize(i),a.on("visibilitychange webkitvisibilitychange",l)},actions:function(){return{window:{scrollTop:d}}}})}(jQuery),function(c,t){"use strict";var s=c(window),l=c("body"),i=(c("#site-pages"),!1),r=!1,u=null,d=function(t,e){var n=c("#bg-transition",l),a=t.currentPage,o=t.nextPage,i=c(o.key()),r=c(a.key());a.leave(t.leaveCurrent,{canRemove:!0}),r.attr("aria-hidden","true").attr("role","presentation"),i.removeAttr("aria-hidden").removeAttr("role"),l.addClass(o.key().substring(1)),App.modules.notify("page.entering",{page:o,route:t.route}),i.ready(function(){r.hide(),i.css({opacity:1,display:"block"}),s.scrollTop(0),o.enter(t.enterNext),n.fadeOut(90).promise().then(function(){App.modules.notify("transition.end",{page:o,route:t.route}),App.mediator.notify("site.addScroll")}),App.callback(e)})};App.transitions.exports({beginTransition:function(t,e){var n=c("#bg-transition",l),a=t.currentPage,o=t.nextPage;c(o.key()),c(a.key());r=i=!1,u=null,n.fadeIn(90).promise().then(function(){l.removeClass(a.key().substring(1)),App.modules.notify("page.leaving",{page:a,canRemove:!0}),i=!0,r&&d(u)})},transition:function(t,e){r=!0,u=t,i&&d(t,e)},canAnimate:function(t){return!0}})}(jQuery),function(t,e){"use strict";t(window),t("body"),t("#site-pages"),t("#bg-transition"),t("#bg-transition-popup")}(jQuery),function(e,t,n){"use strict";App.pages.exports("default-detail-page",function(){var n,a=App.components.create("articleChanger"),t=function(t,e){var n=e||"";a.navigateTo(n.split("/")[0])};return{init:function(){n=e(this.key()),a.init(n,{startPageHandle:n.find(".js-article").attr("data-handle"),scrollToTop:!0})},leave:function(t,e){e.canRemove&&n.remove(),App.callback(t)},actions:function(){return{page:{fragmentChanged:t}}}}})}(jQuery,window),function(t,e,n){"use strict";App.pages.exports("defaultPage",function(){return{init:function(){t(this.key())},enter:function(t){App.callback(t)},actions:function(){return{}}}})}(jQuery,window),function(o,t,e){"use strict";var i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,r=function(t){return~~(!t||o.isNumeric(t)?t||0:t)},a=function(t){return!t||o.isNumeric(t)?~~(t||0)+"px":t};t.CSS3={translate:function(t,e,n){return t=a(t),e=a(e),n=a(n),"translate"+(i?"3d(":"(")+t+","+e+(i?","+n+")":")")},rotate:function(t,e,n,a){t=r(t),e=r(e),n=r(n),a=!a||o.isNumeric(a)?(a||0)+"deg":a;return"rotate"+(i?"3d("+t+","+e+","+n+",":"Z(")+a+")"},prefix:function(t,e){var n={};return n[t]=e,n["-webkit-"+t]=e,n["-moz-"+t]=e,n["-ms-"+t]=e,n["-o-"+t]=e,n}}}(jQuery,window),function(t,e){"use strict";var n="disabled";t.fn.disable=function(){return t(this).attr(n,n).addClass(n)},t.fn.enable=function(){return t(this).removeAttr(n).removeClass(n)}}(jQuery),function(l){"use strict";var c=l("html"),u=c.attr("lang"),s=function(){var n=[];l.each(arguments,function(t,e){e=l.isPlainObject(e)?JSON.stringify(e,null,2):'"'+e+'"',n.push(e)}),App.log({args:["%cga("+n.join(",")+");","color:cornflowerblue"]})},d=function(){return window.dataLayer&&window.dataLayer.push?function(t,e,n,a,o,i,r,c){if("pageview"===e)dataLayer.push(l.extend({},n,{event:e,page:{requestURI:n.page||n.location,page:n.page,location:n.location,language:u,referer:document.referrer,title:document.title}}));else if("event"===e){var s={event:e,eventCategory:c||n,eventAction:a,eventLabel:o,eventValue:i,eventOptions:r};l.isPlainObject(n)&&((s=l.extend(!0,{},s,n)).eventCategory=s.eventCategory||s.event,s.event=e),dataLayer.push(s)}}:window.ga||s};l.sendPageView=function(t){var e=d(),n={page:window.location.pathname+window.location.search,location:window.location.href,hostname:window.location.hostname},a=t?l.extend(n,t):n;l.isFunction(l.formatPage)&&(a.page=l.formatPage(a.page)),l.isFunction(l.formatLocation)&&(a.location=l.formatLocation(a.location)),c.filter("[data-no-ga]").length?s("sendPageView bypassed by attribute"):e("send","pageview",a)},l.sendEvent=function(t,e,n,a,o,i){var r=d();o=(t=t||"").options||o||{nonInteraction:1},c.filter("[data-no-ga]").length?s("sendEvent bypassed by attribute"):r("send","event",t,e,n,a,o,i)};var o=function(t,e){return t.attr(e)||void 0};l.fn.sendClickEvent=function(t){t=t||{};var e=l(this).eq(0),n=!0;if(t.action||(t.action="click"),t.label||(t.label=l.trim(e.text())),t.event&&(t.event.gaHandled?n=!1:t.event.gaHandled=!0),n){var a=l.extend({},t,{cat:o(e,"data-ga-cat"),category:o(e,"data-ga-category"),action:o(e,"data-ga-action"),label:o(e,"data-ga-label"),value:parseInt(e.attr("data-ga-value"),10)||void 0});a.cat||(App.log({fx:"err",args:"No ga-cat found. Cannot continue."}),n=!1),a.label||App.log({fx:"warn",args:"No ga-label found. Reverting to text"}),n&&l.sendEvent(a.cat,a.action,a.label,a.value,void 0,a.category)}},l(function(){var t=window.location,n=t.origin||t.protocol+"//"+t.hostname,e=':not([href^="'+n+'"])',a='a[href^="http://"]'+e+', a[href^="https://"]'+e,o=_.map(["pdf","jpg","jpeg","png","doc","docx","xsl","xslx"],function(t){return'a[href$=".'+t+'"], '}).join("")+'a[href$="?dl"], a[download]',i=function(t){var e=l(t).attr("href");if(e)return e=(e=(e=e.replace(/^mailto:/,"")).replace(/^tel:/,"")).replace(n,"")};l("#site").on(App.device.events.click,a,function(t){l(this).sendClickEvent({cat:"link-external",label:i(this),event:t})}).on(App.device.events.click,o,function(t){l(this).sendClickEvent({cat:"link-download",label:i(this),event:t})}).on(App.device.events.click,'a[href^="mailto:"]',function(t){l(this).sendClickEvent({cat:"link-mailto",label:i(this),event:t})}).on(App.device.events.click,'a[href^="tel:"]',function(t){l(this).sendClickEvent({cat:"link-tel",label:i(this),event:t})}).on(App.device.events.click,"[data-ga-cat]",function(t){l(this).sendClickEvent({event:t})}),l("body").hasClass("page-404")&&l.sendEvent("erreur 404","erreur 404",document.referrer)})}(jQuery),function(s,t){"use strict";var l="add-class-timer",o=[],i=function(n){o.length&&s.each(o,function(t,e){e&&n.call(this,e,t)})};window.App&&!window.App.debug()||(s.transitionsQueue=function(){return o}),s("body").on("transitionend webkitTransitionEnd oTransitionEnd mozTransitionEnd MSTransitionEnd",function(e){var a=s(e.target);i(function(n,t){s.each(n.selectors,function(t,e){n.selectors[t]=e||a.is(t)}),window._.every(n.selectors)&&(o.splice(t,1),n.callback.call(n.context,e))})}),s.fn.transitionEnd=function(t,e){var n=s(this),a={selectors:{},callback:t,context:this,timestamp:s.now()};if(e&&!s.isArray(e)&&(e=[e]),e&&e.length)s.each(e,function(t,e){e?a.selectors[e]=!1:App.debug()&&console.warn("Element %s has no selector",t)});else{if(!n.selector)return App.debug()&&console.warn("Element %s has no selector",this),n;a.selectors[n.selector]=!1}return o.push(a),n},s.removeFromTransition=function(n){var a=!1;return n&&(s.isArray(n)||(n=[n]),i(function(t,e){if(t&&t.selectors){window._.some(t.selectors,function(t,e){return!!~s.inArray(e,n)})&&(o.splice(e,1),a=!0)}})),a},s.fn.addClasses=function(o,i,r,c){var t=s(this);return t.length?(c=c||[t.selector],t.each(function(t,e){var a=s(e),n=a.data(l);clearTimeout(n),a.addClass(o),n=setTimeout(function(t,e,n){a.hasClass(o)&&(s.isFunction(e)&&a.transitionEnd(e,n),a.addClass(t))},100,i,r,c),a.data(l,n)})):t},s.fn.removeClasses=function(a,o,i,r){var t=s(this);return t.length?(r=r||t.selector,t.each(function(t,e){var n=s(e);n.transitionEnd(function(){n.removeClass(a),s.isFunction(i)&&i()},r),n.removeClass(o)})):t}}(jQuery);
//# sourceMappingURL=framework-modules.min.js.map