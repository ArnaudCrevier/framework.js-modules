/*! framework.js-modules - v1.1.0 - build 350 - 2016-12-08
 * https://github.com/DeuxHuitHuit/framework.js-modules
 * Copyright (c) 2016 Deux Huit Huit (https://deuxhuithuit.com/);
 * MIT */
!function(a,b,c,d){"use strict";var e=function(a,b,c){var d=function(){a.fadeTo(500,0,function(){a.hide(),b.fadeTo(500,1),c.articleEnter(a,b,c),setTimeout(function(){App.mediator.notify("articleChanger.entering",{article:b})},100)})};a.length?d():(b.fadeTo(500,1),c.articleEnter(a,b,c))},f=function(a,b,c,d){var e=d.findArticle(b,c,d);return e.hide(),a.append(e),e},g=function(b,c,d){c=c||"";var e=d.articleSelector+(d.trackHandle?'[data-handle="'+c+'"]':"");return a(e,a(b))},h={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:g,appendArticle:f,animToArticle:e,trackHandle:!0,articleEnter:function(a,b,c){c.trackHandle||a.remove(),App.mediator.notify("articleChanger.enter",{article:b})}};App.components.exports("articleChanger",function(){var b,c,d,e,f=function(f,g){c=f,b=a.extend({},h,g),d=a(b.containerSelector,c),e=b.startPageHandle},g=function(a,f){var g=b.findArticle(d,e,b),h=f||document.location.href,i=function(c,e,f){var h=b.appendArticle(d,c,a,b),i=document.location,j=i.href.substring(i.hostname.length+i.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:j,data:c}),h.length?b.animToArticle(g,h,b):App.log({args:"Could not find new article",fx:"error",me:"Article Changer"})};if(!b.trackHandle||e!==a){var j;b.trackHandle&&(j=b.findArticle(d,a,b)),j&&j.length?b.animToArticle(g,j,b):(App.mediator.notify("pageLoad.start",{page:c}),Loader.load({url:h,priority:0,vip:!0,success:i,progress:function(a){var b=a.originalEvent.total,c=a.originalEvent.loaded,d=b>0?c/b:0;App.mediator.notify("pageLoad.progress",{event:a,total:b,loaded:c,percent:d})},error:function(){App.mediator.notify("article.loaderror"),App.mediator.notify("pageLoad.end")},giveup:function(a){App.mediator.notify("pageLoad.end")}})),e=a}};return{init:f,clear:function(){e=""},navigateTo:g}})}(jQuery,window,document),function(a,b,c,d){"use strict";var e=350,f=function(c,d,f){if(c.length){var g=function(){c.fadeTo(e,0,function(){c.hide(),d.fadeTo(e,1),f.articleEnter(d)})};App.device.mobile?g():a.scrollTo(0,Math.min(500,a(b).scrollTop()),g)}else d.fadeTo(e,1),f.articleEnter(d)},g=function(a,b,c,d){var e=d.findArticle(b,c,d);e.hide(),a.append(e)},h=function(b,c,d){return c=c||"",a(d.articleSelector+'[data-handle="'+c+'"]',a(b))},i={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:h,appendArticle:g,animToArticle:f,articleEnter:function(){App.modules.notify("articleChanger.enter")}};App.components.exports("articleChanger",function(){var b,c,d,e,f=function(e,f){c=e,b=a.extend({},i,f),d=a(b.containerSelector,c)},g=function(a){var f=b.findArticle(d,e,b),g=function(c,e,g){b.appendArticle(d,c,a,b);var h=b.findArticle(d,a,b);App.modules.notify("pageLoad.end"),App.modules.notify("articleChanger.entering"),h.length?b.animToArticle(f,h,b):App.log({args:["Could not find new article `%s`",a],fx:"error",me:"Article Changer"})};if(e!==a){var h=b.findArticle(d,a,b);if(h.length)b.animToArticle(f,h,b);else{var i="";App.modules.notify("url.getFullUrl",null,function(a,b){i=b}),App.modules.notify("pageLoad.start",{page:c}),Loader.load({url:i,priority:0,vip:!0,success:g,progress:function(a){var b=a.originalEvent.total,c=a.originalEvent.loaded,d=b>0?c/b:0;App.mediator.notify("pageLoad.progress",{event:a,total:b,loaded:c,percent:d})},error:function(){App.modules.notify("article.loaderror"),App.modules.notify("pageLoad.end")},giveup:function(a){App.modules.notify("pageLoad.end")}})}e=a}};return{init:f,clear:function(){e=""},navigateTo:g}})}(jQuery,window,document),function(a,b,c){"use strict";var d={checkPoints:[0,25,50,75,90,100],category:"Scroll",action:"scroll"};a("body");App.components.exports("checkpoint-event",function(b){var c=a.extend({},d,b),e=0,f=function(b){if(a.isNumeric(c.checkPoints[e])&&a.isNumeric(b)&&c.checkPoints[e]<=b){var d=c.action+" "+c.checkPoints[e]+"%",f=c.label||d;a.sendEvent(c.category,d,f,c.checkPoints[e]),e++}},g=function(){e=0},h=function(){g()};return{init:h,track:f,reset:g}})}(jQuery,jQuery(window)),function(a,b,c,d,e){"use strict";var f={container:".js-form-field",input:".js-form-input",error:".js-form-error",label:".js-form-label",states:".js-form-state",clear:".js-form-clear",preview:".js-form-preview",progress:".js-form-progress",validationEvents:"blur change",emptinessEvents:"blur keyup change",previewEvents:"change input",onlyShowFirstError:!1,group:null,rules:{required:{presence:!0},email:{email:!0},money:{numericality:{onlyInteger:!1,greaterThan:0}},integer:{numericality:{onlyInteger:!0,greaterThan:0}},document:{format:{pattern:"^.+\\.(?:docx?|pdf)$",flags:"i"}},image:{format:{pattern:"^.+\\.(?:jpe?g|png)$",flags:"i"}},dateNaissance:{datetime:{dateOnly:!0,earliest:d.utc().subtract(30,"years"),latest:d.utc().subtract(18,"years")}},phone:{format:{pattern:"\\(?[0-9]{3}\\)?[- ]?([0-9]{3})[- ]?([0-9]{4})",flags:"i"}},url:{url:!0},embed:{format:{pattern:"^http(.+)(youtube\\.com|youtu\\.be|vimeo\\.com|facebook\\.com)(.+)$",flags:"i"}}},rulesOptions:{}};App.components.exports("form-field",function(c){var d,e,g,h,i,j,k,l,m=[];c=a.extend(!0,{},f,c);var n=function(a){return{error:a.attr("data-error-class"),valid:a.attr("data-valid-class"),empty:a.attr("data-empty-class"),notEmpty:a.attr("data-not-empty-class"),submitting:a.attr("data-submitting-class")}},o=function(a){return a.attr("data-state-class")},p=function(a,b){var c=i.filter('[data-state="'+b+'"]');c[a](o(c))},q=function(a){a?e.enable():e.disable()},r=function(){e.focus()},s=function(){var a=n(e),b=n(d),c=n(h);e.removeClass(a.error),e.removeClass(a.valid),e.addClass(a.empty),e.removeClass(a.notEmpty),d.removeClass(b.error),d.removeClass(b.valid),d.addClass(b.empty),d.removeClass(b.notEmpty),h.removeClass(c.error),h.removeClass(c.valid),h.addClass(c.empty),h.removeClass(c.notEmpty),g.empty().removeClass(o(g)),p("removeClass","error"),p("removeClass","valid")},t=function(c,d){if(c.empty(),d&&b.FileReader){var e=new b.FileReader;e.onload=function(b){var d=b.target.result;if(d){var e=a("<img />").attr("class",c.attr("data-preview-class")).attr("src",d).on("error",function(){e.remove()});c.append(e)}},e.readAsDataURL(d)}},u=function(a){var b=d.find(c.preview);if(b.length&&"file"==e.attr("type")){var f=!!a&&!!a.target.files&&a.target.files[0];f=f||e[0].files&&e[0].files[0],t(b,f)}},v=function(d){try{var e={},f={};return _.each(m,function(b){c.rules[b]&&(e=a.extend(e,c.rules[b])),c.rulesOptions[b]&&(f=a.extend(f,c.rulesOptions[b]))}),b.validate.single(d,e,f)}catch(a){App.log({fx:"error",args:[a]})}return!1},w=function(){var a;if("checkbox"==e.attr("type"))a=e.prop("checked")?"true":"";else if("radio"==e.attr("type")){var b=e.closest("form").find("input[type='radio'][name='"+e.attr("name")+"']:checked");a=b.length?b.prop("checked")?"true":"":e.prop("checked")?"true":""}else a=e.val();return a},x=function(){var a=v(w()),b=a?"addClass":"removeClass",f=a?"removeClass":"addClass",i=a?c.onlyShowFirstError?a[0]:a.join("<br />"):"",j=n(e),k=n(d),m=n(h);return e[b](j.error),e[f](j.valid),d[b](k.error),d[f](k.valid),h[b](m.error),h[f](m.valid),g.html(i),a?(g.addClass(o(g)),p("addClass","error"),p("removeClass","valid"),{result:a,field:l}):(g.removeClass(o(g)),p("addClass","valid"),p("removeClass","error"),a)},y=function(){var a=b.validate.isEmpty(w()),c=a?"addClass":"removeClass",f=a?"removeClass":"addClass",g=n(e),i=n(d),j=n(h);e[c](g.empty),e[f](g.notEmpty),d[c](i.empty),d[f](i.notEmpty),h[c](j.empty),h[f](j.notEmpty)},z=function(a){var b=a?"addClass":"removeClass",c=n(e);e[b](c.submitting)},A=function(b){c=a.extend(!0,c,b),d=a(c.container),e=d.find(c.input),g=d.find(c.error),h=d.find(c.label),i=d.find(c.states),j=d.find(c.clear),k=d.find(c.progress),m=_.filter((d.attr("data-rules")||"").split(/[|,\s]/g)),c.validationEvents&&e.on(c.validationEvents,x),c.emptinessEvents&&e.on(c.emptinessEvents,y),c.previewEvents&&e.on(c.previewEvents,u)};return l={init:A,validate:x,enable:q,focus:r,reset:s,preview:u,checkEmptiness:y,group:function(){return c.group},submitting:z,value:w,name:function(){return e.attr("name")},label:function(){return h.text()},find:function(a){return d.is(a)?d:d.find(a)},hasClass:function(a){return d.hasClass(a)},required:function(){return!!~m.indexOf("required")}}})}(jQuery,window,document,window.moment),function(a,b,c,d,e){"use strict";var f={root:"body",container:".js-form",fields:".js-form-field",fieldsGroupSelector:".js-form-field-group",fieldsOptions:{},onSubmit:null,doSubmit:null,onValid:null,onError:null,disableOnSubmit:!0,focusOnError:!0,post:{}};App.components.exports("form",function(c){var e,g=[],h=!1;c=a.extend(!0,{},f,c);var i=function(){e[0].reset(),_.each(g,function(a){a.reset()})},j=function(){_.each(g,function(a){a.preview()})},k=function(){return _.map(g,function(a){return a.validate()})},l=function(a){return a=a||k(),!!a.length&&!_.some(a)||!a.length},m=function(b){var c=[];return a.each(g,function(){this.group().is(b)&&c.push(this)}),l(_.map(c,function(a){return a.validate()}))},n=function(a){_.each(g,function(b){b.enable(a)})},o=function(a){_.each(g,function(b){b.submitting(a)})},p=function(){var b={},d=!window.FormData;h||(d?a.each(e.serializeArray(),function(){b[this.name]=this.value}):b=new FormData(e[0]),h=!0,o(h),window.Loader.load({url:e.attr("action"),type:e.attr("method")||"POST",data:b,processData:d,contentType:!1,dataType:"text",error:c.post.error,success:c.post.success,complete:function(){App.callback(c.post.complete),h=!1,o(h),c.disableOnSubmit&&n(!0)}}))},q=function(a){var d=k();return App.callback(c.onSubmit),l(d)?(App.callback(c.onValid),c.post?p():App.callback(c.doSubmit),c.disableOnSubmit&&n(!1),c.post||c.doSubmit?b.pd(a):void 0):(App.callback(c.onError,{results:d}),c.focusOnError&&(d=_.filter(d),d.length&&d[0].field.focus()),b.pd(a))},r=function(b,d){d=a(d);var e=App.components.create("form-field",c.fieldsOptions);e.init({container:d,group:d.closest(c.fieldsGroupSelector)}),g.push(e)},s=function(f){c=a.extend(!0,c,f),c.root=a(c.root),e=c.root.find(c.container),e.find(c.fields).each(r),e.submit(q),b.validate.validators.presence.options={message:e.attr("data-msg-required")},b.validate.validators.email.options={message:e.attr("data-msg-email-invalid")||e.attr("data-msg-invalid")},b.validate.validators.format.options={message:e.attr("data-msg-invalid")},b.validate.validators.numericality.options={message:e.attr("data-msg-invalid")},b.validate.validators.url.options={message:e.attr("data-msg-invalid")};var g="DD-MM-YYYY";b.validate.extend(b.validate.validators.datetime,{parse:function(a,b){if(!a)return NaN;if(d.isMoment(a))return+a;if(/[^\d-\/]/.test(a))return NaN;var c=d.utc(a,g);return c.isValid()?+c:NaN},format:function(a,b){return d.isMoment(a)||(a=d(a)),a.format(g)},message:e.attr("data-msg-date-invalid")||e.attr("data-msg-invalid"),notValid:e.attr("data-msg-date-invalid")||e.attr("data-msg-invalid"),tooEarly:e.attr("data-msg-date-too-early")||e.attr("data-msg-invalid"),tooLate:e.attr("data-msg-date-too-late")||e.attr("data-msg-invalid")})};return{init:s,enable:n,validate:k,reset:i,preview:j,post:p,submitting:o,validateGroup:m,container:function(){return e},eachFields:function(a){return _.each(g,a)}}})}(jQuery,window,document,window.moment),function(a,b,c,d){"use strict";App.components.exports("googleMap",function(b){var d,e,f,g=[],h=function(){f&&f.infowindow.close()},i={defaultMarkerOptions:{},mapTypeId:null,markerAction:function(){var a=new google.maps.LatLng(this.getPosition().lat()+.005,this.getPosition().lng());e.panTo(a),h(),this.infowindow.open(e,this),f=this},beforeCreate:null,afterCreate:null},j=a.extend({},i,b),k=function(b){var c=a.extend({},j.defaultMarkerOptions,b);c.iconImage&&(c.iconImage=new google.maps.MarkerImage(c.iconImage.src,new google.maps.Size(c.iconImage.size.width,c.iconImage.size.height),new google.maps.Point(c.iconImage.p1.x,c.iconImage.p1.y),new google.maps.Point(c.iconImage.p2.x,c.iconImage.p2.y))),c.position&&(c.LatLng=new google.maps.LatLng(c.position.latitude,c.position.longitude));var d=new google.maps.Marker({position:c.LatLng,map:e,icon:c.iconImage,shadow:c.iconShadow,zIndex:c.zIndex});g.push(d),c.content&&c.content.length?(d.infowindow=new google.maps.InfoWindow({content:c.content}),google.maps.event.addListener(d,"click",j.markerAction)):j.markerCustomAction&&google.maps.event.addListener(d,"click",j.markerCustomAction)},l=function(){App.callback(j.beforeCreate,[google.maps,j,d]),j.center&&(j.center=new google.maps.LatLng(j.center.latitude,j.center.longitude)),google.maps.MapTypeId[j.mapTypeId]?j.mapTypeId=google.maps.MapTypeId[j.mapTypeId]:j.mapTypeId=google.maps.MapTypeId.ROADMAP,e=new google.maps.Map(d.get(0),j),google.maps.event.addListener(e,"bounds_changed",function(){App.mediator.notifyCurrentPage("map.boundsChanged",e.getBounds())}),App.callback(j.afterCreate,[google.maps])},m=function(){return!!c.google&&!!google.maps&&!!google.maps.Map},n=function(){d.hasClass("map-loaded")||(l(),d.addClass("map-loaded"))},o=function(b,c){d=a(c,b),App.loaded(m,function(){n()})};return{init:o,addMarker:k,center:function(a,b){e.panTo(new google.maps.LatLng(a,b))},zoom:function(a){e.setZoom(a)},fitBounds:function(a){e.fitBounds(new google.maps.LatLngBounds(a.southwest,a.northeast))},closeAllPopup:h}})}(jQuery,jQuery(window),window),function(a,b,c){"use strict";App.components.exports("infinite-scroll",function(b){var c,d,e=a(window),f=e.height(),g={ctnSelector:".js-infinite-scroll-ctn",contentCtnSelector:".js-infinite-scroll-content",pagerLinkSelector:".js-infinite-scroll-pager-link",triggerPercentage:.5,callback:a.noop},h=a.extend({},g,b),i=function(b,c,e){var f=d.find(h.contentCtnSelector),g=a(b);f.length?f.append(g.find(h.contentCtnSelector+" > *")):d.append(g.find(h.ctnSelector+" > *")),d.find("img[data-src-format]").jitImage()},j=function(a){if(d.length){var b=d.find(h.pagerLinkSelector);if(b.length){var c=b.attr("href");b.remove(),window.Loader.load({url:c,success:function(b,e,f){i(b,e,f),App.mediator.notify("infiniteScroll.pageLoaded",{data:b,ctn:d,url:c}),App.callback(a,[d,c,b,e,f,h])}})}}},k=function(){f=e.height()},l=function(){if(f=e.height(),d.length){var a=e.scrollTop(),b=Math.min(a-d.offset().top+f),c=b/d.height();c>=h.triggerPercentage&&c<=1&&j(h.callback)}},m=function(a,b){j(b.callback)},n=function(b,e){h=a.extend(h,e),c=b,d=c.find(h.ctnSelector)};return{init:n,resize:k,scroll:l,loadNextPage:m}})}(jQuery,jQuery(window)),function(a,b,c){"use strict";App.components.exports("jplayer",function(b){var c,d={playerSelector:".js-jplayer-player",playerContainerSelector:".js-jplayer-container",onReady:null,onTimeupdate:null,backgroundColor:"transparent",loop:!0,width:1920,height:1080,resize:!0},e=a.extend({},d,b),f=function(b){var c=b.width(),d=b.height(),f=b.find(e.playerSelector),g=a.sizing.aspectFill({width:c,height:d,preferWidth:!1},e.width/e.height);g.height=Math.ceil(g.height),g.width=Math.ceil(g.width);var h=a.positioning.autoPosition({position:"center",left:"left",top:"top"},a.size(c,d),g);f.size(g).css(h).data({size:g,position:h}),f.jPlayer("option",{size:g})},g=function(){c.find(e.playerContainerSelector).each(function(){f(a(this))})},h=function(b){var c=b.find(e.playerSelector);c.jPlayer({ready:function(){var c=a(this);c.jPlayer("setMedia",{webmv:b.attr("data-video-webm"),m4v:b.attr("data-video-mp4"),ogv:b.attr("data-video-ogv")}),e.resize&&f(b),App.callback(e.onReady,[b])},solution:"html",loop:e.loop,volume:0,supplied:"webmv, m4v, ogv",backgroundColor:e.backgroundColor,wmode:e.backgroundColor,size:{width:e.width,height:e.height},preload:e.preload||"none",play:function(a){App.mediator.notify("jplayer.play",{ctn:b})},timeupdate:function(a){var c=a.jPlayer.status;c.currentTime&&App.mediator.notify("jplayer.timeupdate",{status:c,ctn:b}),App.callback(e.onTimeupdate,[b,c])},ended:function(){App.callback(e.onEnded,[b])}})},i=function(){var b=c.find(e.playerContainerSelector);b.each(function(){var b=a(this);h(b)})},j=function(a){var b=a.find(e.playerSelector);b.jPlayer("destroy"),b.jPlayer("pauseOthers")},k=function(){c.find(e.playerContainerSelector).each(function(){var b=a(this);j(b),b.removeClass("video-loaded").closest(".video-loaded").removeClass("video-loaded")})},l=function(a){var b=a.find(e.playerSelector);b.jPlayer("pauseOthers"),b.jPlayer("play")},m=function(a){var b=a.find(e.playerSelector);b.jPlayer("pause")},n=function(a){var b=a.find(e.playerSelector);b.jPlayer("stop")},o=function(a,b){var c=a.find(e.playerSelector);c.jPlayer("volume",b)},p=function(b){c=a(b)};return{init:p,loadAllVideo:i,loadVideo:h,destroyVideo:j,destroyAllVideo:k,playVideo:l,pauseVideo:m,stopVideo:n,resizeVideo:f,resizeAllVideo:g,setVolume:o}})}(jQuery,jQuery(window)),function(a,b,c){"use strict";var d={embed:function(a,b){var c=parseInt(a.attr("data-autoplay"),10),d=parseInt(a.attr("data-loop"),10),e="1"===a.attr("data-rel")?1:0,f=a.attr("data-extra"),g=this.getIframe(b,c,d,e,f);return g.attr("width","100%"),g.attr("height","100%"),g.attr("frameborder","0"),g.attr("class",a.attr("data-player-class")),a.append(g),g},getIframe:function(b){return a('<iframe allowfullscreen="" />')},getTemplateContent:function(b){var c=b.find("script");return _.map(c.contents(),function(b){return a(b).text()}).join("")},play:a.noop,pause:a.noop,ready:a.noop,progress:a.noop,volume:a.noop,finish:a.noop,destroy:function(a){a.remove()}},e={abstractProvider:d};App.components.exports("oembed",function(b){var c=a(b.container),f=a(b.player),g=f.data("oembedId"),h=f.data("oembedProvider"),i=e[h],j=a();i||(App.log({args:["Provider `%s` not found.",i],me:"oEmbed",fx:"warn"}),i=d);var k=function(c){c=c||!1,j=i.embed(f,g,c.autoplay,c.loop),j=j||a();var d=App.components.create("checkpoint-event",{category:b.category||"Video",action:"view",label:h+": "+(f.attr("data-oembed-title")||g)});d.init(),i.ready(f,function(){f.addClass("loaded"),i.progress(f,function(a){d.track(a)}),c.finish&&i.finish(f,c.finish)})},l=function(a){i.volume(f,a)},m=function(){i.play(c)},n=function(){i&&g&&c.find("iframe").length&&i.pause(c)},o=function(){f.removeClass("loaded"),i.destroy(j)};return{load:k,play:m,pause:n,volume:l,destroy:o}}),App.modules.exports("oembed-providers",{actions:function(){return{oembed:{providers:{abstract:function(){return d},register:function(a,b){e[b.key]?App.log({args:["Provider `%s` already exists.",b.key],me:"oEmbed",fx:"error"}):e[b.key]=b.provider}}}}}})}(jQuery,jQuery(window)),function(a,b,c){"use strict";var d=a(window),e={itemSelector:".js-replace-state-on-scroll",container:"body",urlAttribute:"data-canonical-url",titleAttribute:"data-canonical-title",change:null,windowOffsetPercentage:.5};App.components.exports("replace-state-on-scroll",function(c){var f=a.extend({},e,c),g=a(),h=[],i=-1,j=d.height(),k=-1,l=function(){k=-1,i=-1},m=function(){j=d.height(),g=a(f.container).find(f.itemSelector),h=_.map(g,function(b){return b=a(b),{offset:b.offset(),url:b.attr(f.urlAttribute),title:b.attr(f.titleAttribute)}})},n=function(b){f=a.extend(f,b),l(),m()},o=function(){var c=d.scrollTop(),e=_.findLastIndex(h,function(a){return a.offset.top+j*f.windowOffsetPercentage<=c});if(e!==-1&&i!==e&&h[e]){var g=h[e].url,l=h[e].title;l&&(document.title=l),g&&(b.history.replaceState({},l||document.title,g),App.callback(f.change,[i,e,g]),e>k&&a.sendPageView({page:g})),i=e,k=Math.max(k,e)}};return{init:n,scroll:o,update:m,reset:l}})}(jQuery,window),function(a,b,c,d){"use strict";"fr"==a("html").attr("lang")&&(jQuery.timeago.settings.strings={prefixAgo:"Publié il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"}),App.components.exports("timeAgo",function(){var b,c=2592e6,d=function(d){b=d,a("time.js-time-ago").each(function(b,d){var e=a(this),f=new Date(e.attr("datetime"));(new Date).getTime()-f.getTime()<c&&e.timeago()})};return{init:d}})}(jQuery,window,document),function(a,b,c,d){"use strict";var e={ctn:a(),video:null,videoSelector:".js-video",resizeContainerSelector:"",onTimeUpdate:a.noop,onCanplay:a.noop,onPlaying:a.noop,resizable:!0,onLoaded:a.noop};!function(a){var b=function(b){return function(){var c=Array.prototype.slice.call(arguments);return a(this).each(function(d,e){e&&a.isFunction(e[b])&&e[b].apply(e,c)})}};a.fn.mediaPlay=b("play"),a.fn.mediaPause=b("pause"),a.fn.mediaLoad=b("load"),a.fn.mediaCurrentTime=b("currentTime")}(a),App.components.exports("video",function(b){var c=a.extend({},e,b),d=function(a){status.currentTime&&App.mediator.notify("video.timeupdate",{video:c.video,e:a}),App.callback(c.onTimeupdate,[c.video])},f=function(a){App.callback(c.onCanplay,[c.ctn,c.video])},g=function(a){App.callback(c.onPlaying,[c.ctn,c.video])},h=function(){if(c.resizable){var b=c.video.closest(c.resizeContainerSelector).length?c.video.closest(c.resizeContainerSelector):c.ctn,d=b.width(),e=b.height(),f=c.video.width()/c.video.height(),g=a.sizing.aspectFill({width:d,height:e,preferWidth:!1},f);g.height=Math.ceil(g.height),g.width=Math.ceil(g.width);var h=a.positioning.autoPosition({position:"center",left:"left",top:"top"},a.size(d,e),g);c.video.size(g).css(h).data({size:g,position:h})}},i=function(a){h(),App.callback(c.onLoaded,[c.ctn,c.video])},j=function(){c.video.mediaLoad()},k=function(){c.video.mediaPlay()},l=function(){c.video.mediaPause()},m=function(a){c.video.mediaCurrentTime(a)},n=function(){c.video.off("timeUpdate",d).off("canplay",f),c.video.append(c.originalVideo),c.video.remove(),c.video=c.originalVideo},o=function(b,e){c=a.extend({},c,e),c.ctn=a(b),c.video=b.find(c.videoSelector),c.originalVideo=c.video,c.video.on("timeupdate",d).on("canplay",f).on("playing",g).on("loadedmetadata",i)};return{init:o,resize:h,destroy:n,load:j,play:k,pause:l,seek:m}})}(jQuery,window,jQuery(window)),function(a,b){"use strict";var c="#site a.js-alt-lg-link",d=(a(window),{}),e=function(){var b={};a("link[rel=alternate][hreflang]",document).each(function(){var c=a(this);b[c.attr("hreflang")]=c.attr("href")}),d[document.location.pathname]=b},f=function(b,c,e){if(c.data){var f={};if(a(c.data).each(function(b,c){if(a(c).is("link")){var d=a(c);d.attr("hreflang")&&(f[d.attr("hreflang")]=d.attr("href"))}if(a(c).is("body"))return!0}),d[c.url]=f,c.url.indexOf("?")!==-1){var g=c.url.split("?")[0];d[g]=f}}},g=function(b,e,f){d[document.location.pathname]&&a(c).each(function(){var b=a(this),c=d[document.location.pathname][b.data("lg")];c&&b.attr("href",c)})},h={pages:{loaded:f},page:{enter:g},articleChanger:{loaded:f,enter:g}};App.modules.exports("altLanguageLinkUpdater",{init:e,actions:function(){return h}})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=".js-change-state-click",e="data-change-state-click-target",f="data-change-state-click",g="data-change-state-action",h="data-change-state-max-width",i="data-change-state-min-width",j="data-change-state-click-prevent-default",k=function(a,b){return b?c.find(b):a},l=function(b){var c=a(this),d=c.attr(e),l=c.attr(f),m=c.attr(g),n=c.attr(i),o=c.attr(h),p=c,q=!!n&&window.mediaQueryMinWidth(n)||!n,r=!!o&&window.mediaQueryMaxWidth(o)||!o;if(l&&m&&q&&r&&(p=k(p,d),App.modules.notify("changeState.update",{item:p,state:l,action:m})),c.filter("["+j+"]").length)return window.pd(b)},m=function(){c.on(App.device.events.click,d,l)};App.modules.exports("auto-change-state-click",{init:m})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=".js-change-state-hover",e="data-change-state-hover",f="data-change-state-hover-target",g=function(a,b){return b?c.find(b):a},h=function(b){var c=a(this),d=c.attr(f),h=c.attr(e),i=c;return h&&(i=g(i,d),App.modules.notify("changeState.update",{item:i,state:h,action:"toggle"})),window.pd(b)},i=function(){c.on("mouseenter",d,h),c.on("mouseleave",d,h)};App.modules.exports("auto-change-state-on-hover",{init:i})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=!0,e=a(".page"),f=function(b,c,d,e,f){var g=a(d).find(".js-oembed-video-player");g.length&&App.modules.notify("pauseVideo",g)},g=function(b,c,d,e,f){if(!App.device.mobile){a(this).cycle("resume");var g=a(d).find(".js-oembed-video-ctn"),h=g.find(".js-oembed-video-player");h.hasClass("loaded")&&(g.removeClass("is-playing"),h.removeClass("loaded").empty())}},h=function(a){App.device.mobile||a.container.closest(".js-cycle").cycle("resume")},i=function(b){var c=a(this),d=c.closest(".js-oembed-video-ctn"),e=d.find(".js-oembed-video-player");return App.device.mobile||App.modules.notify("loadVideo",{player:e,autoplay:!0,finish:h}),d.addClass("is-playing"),App.device.mobile||c.closest(".js-cycle").cycle("pause"),window.pd(b)},j=function(){e.find(".js-cycle-slide.video .js-oembed-video-ctn").each(function(){var b=a(this),c=b.find(".js-oembed-video-player");App.modules.notify("loadVideo",{player:c,finish:h})})},k=function(b,c){e=a(c.page.key()),a(".js-cycle:not(.cycle-inited)").each(function(){var b=a(this);if(!b.data("cycle-disable-mobile")||!App.device.mobile){var c={slides:b.attr("data-cycle-slides")||">img",pager:b.attr("data-cycle-pager")||"> .cycle-pager",pagerTemplate:b.attr("data-cycle-pager-template")||"<span><span>",next:b.attr("data-cycle-next")||"> .cycle-next",prev:b.attr("data-cycle-prev")||"> .cycle-prev",timeout:parseInt(b.attr("data-cycle-timeout"),10)||4e3,paused:!!App.device.mobile||(b.attr("data-cycle-paused")||!1),pauseOnHover:b.attr("data-cycle-pause-on-hover")||!0,fx:b.attr("data-cycle-fx")||"fade",caption:b.attr("data-cycle-caption")||"> .cycle-caption",log:App.debug()};b.cycle(c),b.on("cycle-before",f),b.on("cycle-after",g),b.addClass("cycle-inited")}}),!d&&App.device.mobile&&j()},l=function(){d=!1,App.device.mobile&&j()},m=function(){c.on(App.device.events.click,".js-cycle-slide.video .js-oembed-video-play",i)},n=function(){return{site:{loaded:l},page:{enter:k},articleChanger:{enter:k}}};App.modules.exports("auto-cycle",{init:m,actions:n})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=a(".page"),e={sliderCtn:".js-auto-flickity-slider-ctn",cellCtn:".js-auto-flickity-ctn",cellSelector:".js-auto-flickity-item",navBtnSelector:".js-auto-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",pageDots:!1,prevNextButtons:!1,cellAlign:"left",wrapAround:!0},f=function(){a(e.cellCtn+"."+e.initedClass).each(function(){a(this).flickity("resize")})},g=function(b,c){d=a(c.page.key()),d.find(e.cellCtn+":not("+e.initedClass+")").each(function(){var b=a(this);b.find(e.cellSelector).length>1?(b.flickity(e).addClass(e.initedClass),f()):(b.addClass(e.abortedClass),b.find(e.cellSelector).addClass(e.selectedClass),b.closest(e.sliderCtn).find(e.navBtnSelector).each(function(){a(this).remove()}))})},h=function(){d.find(e.initedClass).each(function(){a(this).flickity("destroy").removeClass(e.initedClass)}),d=a()},i=function(b){var c=a(this),d=c.closest(e.sliderCtn).find(e.cellCtn),f=c.attr("data-auto-flickity-action");return f&&d.flickity(f,!0),window.pd(b)},j=function(){c.on(App.device.events.click,e.navBtnSelector,i)},k=function(){return{site:{resize:f},page:{enter:g,leave:h}}};App.modules.exports("auto-flickity",{init:j,actions:k})}(jQuery),function(a,b,c){"use strict";var d=!0,e=a("#site"),f=function(b){var c=a(b.target);if(c.hasClass("jit-image-bg-src")){var d=c.closest(".jit-image-bg");d.css({backgroundImage:"url('"+c.attr("src")+"')"})}},g=function(b,c){a(c.article).find("img[data-src-format]").jitImage()},h=function(b,c){d||a(c.page.key()).find("img[data-src-format]").jitImage(),d=!1},i=function(){e.on("loaded.jitImage",f)},j=function(){return{page:{enter:h},articleChanger:{enter:g}}};App.modules.exports("auto-jit-image",{init:i,actions:j})}(jQuery,window),function(a,b){"use strict";var c=(a(window),a("#site")),d=(a(),".js-merge-qs-value-button"),e="data-merge-qs-value-key",f="data-merge-qs-value-remove-keys",g="data-merge-qs-value",h="data-merge-qs-value-prevent-default",i=function(b){var c=a(this),d=c.attr(e),i=c.attr(f),j=c.attr(g),k=App.routing.querystring.parse(document.location.search);if(d){if(j?k[d]=j:k[d]=null,i){var l=i.split(",");a.each(l,function(a,b){k[b]=null})}if(App.mediator.notify("page.updateQsFragment",{qs:k,raiseFragmentChanged:!0}),c.filter("["+h+"]").length)return window.pd(b,!0)}},j=function(){c.on(App.device.events.click,d,i)};App.modules.exports("auto-merge-qs-value",{init:j})}(jQuery),function(a,b){"use strict";var c,d=(a(window),!0),e=function(){return a("> .page:visible",c.find("#site-pages"))},f=function(b){var c=a(this),d=c.closest(".js-auto-oembed-video-ctn"),e=d.find(".js-auto-oembed-video-player");return App.device.mobile||App.modules.notify("loadVideo",{player:e,autoplay:!0}),d.addClass("is-playing"),window.pd(b)},g=function(){var b=e();b.find(".js-auto-oembed-video-ctn").each(function(){var b=a(this),c=b.find(".js-auto-oembed-video-player");App.modules.notify("loadVideo",{player:c})})},h=function(){!d&&App.device.mobile&&g()},i=function(){var b=e();b.find(".js-auto-oembed-video-ctn").each(function(){var b=a(this),c=b.find(".js-auto-oembed-video-player");b.removeClass("is-playing"),c.empty()})},j=function(){d=!1,App.device.mobile&&g()},k=function(){c=a("#site"),c.on(App.device.events.click,".js-auto-oembed-video-play",f)},l=function(){return{page:{enter:h,leaving:i},site:{loaded:j}}};App.modules.exports("auto-oembed-video",{init:k,actions:l})}(jQuery),function(a,b,c){"use strict";var d=(a(window),a("#site")),e=a(),f=[],g=!0,h=".js-auto-oembed-play",i=".js-auto-oembed-player",j=".js-auto-oembed-ctn",k="is-playing",l="auto-oembed",m=function(a,b){var c=a.find(i),d=c.attr("data-autoload");if(!b){if(App.device.mobile&&"mobile"!==d&&"all"!==d)return;if(!App.device.mobile&&"none"===d)return}var e=a.data(l)||App.components.create("oembed",{container:a,player:c});return a.data(l,e),f.push(e),e.load(),e},n=function(b){var c=b.is(j)?b:b.find(j);c.each(function(){m(a(this))})},o=function(c){var d=a(this),e=d.closest(j),f=e.data(l);return f||(f=m(e,!0)),f&&e.addClass(k),b.pd(c)},p=function(b,c){e=a(c.page.key()),g||n(e)},q=function(){e.find(j).each(function(){var b=a(this),c=(b.find(i),b.data(l));b.removeClass(k),c&&c.destroy(),b.data(l,null)}),e=a(),f=[]},r=function(){g=!1,n(e)},s=function(a,b){b.ctn&&n(b.ctn)},t=function(a,b){b.item&&n(b.item)},u=function(){d.on(App.device.events.click,h,o)},v=function(){return{page:{enter:p,leaving:q},site:{loaded:r},infiniteScroll:{pageLoaded:s},articleChanger:{enter:t}}};App.modules.exports("auto-oembed",{init:u,actions:v})}(jQuery,window),function(a,b){"use strict";var c,d,e=(a(window),function(){return a("> .page:visible",d)}),f=function(a){if(!a)return 1;var b=a.toString().split(/[:\/]/i);return b.length?1===b.length?parseFloat(b[0]):2===b.length?parseInt(b[0],10)/(parseInt(b[1],10)||1):-1:1},g=function(){App.mediator.notifyCurrentPage("autoRatio.resizeCompleted")},h=function(b,c){b.each(function(){var b,c=a(this),d=f(c.attr("data-auto-ratio")),e=c.attr("data-auto-ratio-property")||"height";b="width"==e||"max-width"==e?c.height():c.width(),b=~~Math.floor(b/d),c.css(e,b+"px"),a("img[data-src-format]",c).jitImage()}),App.callback(c)},i=function(){h(a("*[data-auto-ratio]",e()),g)},j=function(){i()},k=function(a,b){b&&b.elements?h(b.elements,b.callback?b.callback:g):i()},l=function(){c=a("#site"),d=a("#site-pages",c),i()},m=function(){return{site:{resize:i},page:{enter:j},autoRatioSize:{update:k},articleChanger:{enter:j}}};App.modules.exports("auto-ratio-size",{init:l,actions:m})}(jQuery),function(a,b){"use strict";var c=a(window),d=0,e=function(){return a(".page:visible")},f={all:!0,desktop:!App.device.mobile,tablette:App.device.tablet,mobile:App.device.mobile,phone:a.phone},g=function(b){var c=0;if(b){var d=b.split(",");a.each(d,function(b,d){c+=a(d).height()})}return c},h=function(b){var c=!1;if(b){var d=b.split(",");a.each(d,function(a,b){f[b]&&(c=!0)})}return c},i=function(){var b=a(this),d=b.attr("data-height-ratio")||1,e=b.attr("data-height-property")||"minHeight",f=g(b.attr("data-height-offset")),i=(c.height()-f)*d,j=h(b.attr("data-screen-height-platform")||"all"),k=b.attr("data-screen-height-min-width")||0,l=b.data("data-screen-height-use-media-query")||!0,m=b.attr("data-screen-height-jitimage")||!0;
j&&!l&&c.width()>k?b.css(e,i):j&&l&&window.matchMedia("(min-width: "+k+"px)").matches?b.css(e,i):b.css(e,""),m&&a("img[data-src-format]",b).jitImage()},j=function(b){var f=e();(App.device.mobile&&Math.abs(d-c.height())>120||!App.device.mobile)&&(f.filter(".js-auto-screen-height").add(a(".js-auto-screen-height",f)).each(i),d=c.height())},k=function(){d=0,j(),App.device.mobile&&(d=c.height()),setTimeout(j,100)},l=function(){j(),App.device.mobile&&(d=c.height())},m=function(){return{site:{resize:j},page:{enter:k},autoScreenHeight:{update:j},articleChanger:{entering:j}}};App.modules.exports("auto-screen-height",{init:l,actions:m})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=function(b){var d=a(this),e=d.attr("href"),f=e.split("#")[1],g=null,h=a("html"),i=d.attr("data-scroll-to-id-offset-selector"),j=0,k=d.attr("data-scroll-to-id-scroll-ctn");if(k&&(g=d.closest(".page").find(k)),i){var l=a(i).eq(0);j=l.height()*-1}var m=c.find("#"+f);if(m.length)return j+=m.offset().top,h.velocity("scroll",{offset:j+"px",mobileHA:!1,container:g}),d.sendClickEvent({cat:d.attr("data-ga-cat")||"Scroll to top",event:b}),window.pd(b)},e=function(){c.on(App.device.events.click,".js-scroll-to-id-button",d)};App.modules.exports("auto-scroll-to-id",{init:e})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site"),function(){var a=document.location;return a.protocol+"//"+a.host+a.pathname}),d=function(a){App.modules.notify("shareThis.applyButton",{service:a.attr("data-share-service")||"sharethis",title:a.attr("data-share-title")||document.title,url:a.attr("data-share-url")||c(),type:a.attr("data-share-type")||"large",element:a.eq(0)[0]})},e=function(b,c){a(".js-share-this-btn").each(function(){d(a(this))})},f={articleChanger:{enter:e},page:{enter:e}};App.modules.exports("autoShareThis",{init:function(){},actions:function(){return f}})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=".js-auto-sync-property",e="data-sync-property",f="data-sync-property-with",g="data-sync-property-from",h="data-sync-property-from-common-ancestor",i=function(a){var b=a.attr(e);if(b){var d=a.attr(g),i=a.attr(h),j=a.attr(f),k=c,l=null;if(i&&(k=a.closest(i)),k.length&&(l=k.find(d)),j||(j=b),l.length){var m;m="height"==j?Math.floor(parseFloat(window.getComputedStyle(l[0]).height)):"outerHeight"==j?l.outerHeight():l[j](),a.css(b,m)}}},j=function(){c.find(d).each(function(b,c){var d=a(this);i(d)})},k=function(){j()},l=function(){j(),setTimeout(j,50)},m=function(){j()},n=function(){return{site:{resize:k},page:{enter:l}}};App.modules.exports("auto-sync-property",{init:m,actions:n})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site")),d=".js-auto-sync-state-from-qs",e=function(a,b,c){c?(a.addClass(a.attr("data-"+b+"-state-add-class")),a.removeClass(a.attr("data-"+b+"-state-rem-class"))):(a.removeClass(a.attr("data-"+b+"-state-add-class")),a.addClass(a.attr("data-"+b+"-state-rem-class")))},f=function(b,c,d){var f=!1,g=App.routing.querystring.parse(document.location.search);a.each(d.split(","),function(a,b){var c=b.split("="),d=c[0],e=c[1];e.length?g[d]&&g[d]==e&&(f=!0):(g[d]&&0===g[d].length||!g[d])&&(f=!0)}),e(b,c,f)},g=function(){c.find(d).each(function(){var b=a(this),c=b.attr("data-sync-state-from-qs");if(c.length){var d=c.split(";");a.each(d,function(a,c){var d=c.split(":"),e=d[0],g=d[1];f(b,e,g)})}})},h=function(){g()},i=function(){g()},j=function(){return{page:{fragmentChanged:h}}};App.modules.exports("auto-sync-state-from-qs",{init:i,actions:j})}(jQuery),function(a,b,c){"use strict";var d,e=App.components.create("checkpoint-event",{category:"Lecture",checkPoints:[25,50,75,90,100]}),f=a(window),g=f.height(),h=a("body"),i=h.height(),j=i-g,k=function(){g=f.height(),i=h.height(),j=i-g},l=function(b,c){d=a(c.page.key()),e.init(),App.callback(b),setTimeout(k,100)},m=function(a,b){e.reset(),App.callback(a)},n=function(){j>0&&e.track(f.scrollTop()/j*100)},o=function(){return{page:{enter:l,leave:m},site:{scroll:n,resize:k,loaded:k},articleChanger:{enter:l}}};App.modules.exports("auto-tracked-scroll",{actions:o})}(jQuery,window),function(a,b){"use strict";var c=(a(window),a("#site"),a(".page")),d=[],e=0,f=".js-auto-video",g=function(a,b){a.addClass("is-playing")},h=function(b){b.find(f).each(function(){var b=a(this),c=App.components.create("video",{onPlaying:g});c.init(b),c.load(),b.addClass("is-loaded"),d.push(c)})},i=function(){window.craf(e),e=window.raf(function(){a.each(d,function(){this.resize()})})},j=function(b,d){c=a(d.page.key()),h(c)},k=function(a,b){h(b.article)},l=function(b,e){e.canRemove&&(c.find(f,function(){a(this).removeClass("is-loaded")}),a.each(d,function(){this.destroy()}))},m=function(){return{page:{enter:j,leave:l},articleChanger:{enter:k},site:{resize:i}}};App.modules.exports("auto-video",{actions:m})}(jQuery),function(a,b){"use strict";a.fn.extend({blankLink:function(){a(this).each(function(){var b=a(this),c=b.attr("href");c&&(/^https?:\/\//.test(c)||/^\/workspace/.test(c))&&(b.attr("target")||b.attr("target","_blank"))})}});var c=function(b,c,d){a("a",a(c.page.key())).blankLink()},d=function(){a("a").blankLink()},e={page:{enter:c}};App.modules.exports("blankLinkModule",{init:d,actions:function(){return e}})}(jQuery),function(a,b){"use strict";var c=(a(window),function(a){return!!a&&!!a.length&&"polygon"==a[0].nodeName||"polyline"==a[0].nodeName||"path"==a[0].nodeName||"g"==a[0].nodeName||"circle"==a[0].nodeName||"rect"==a[0].nodeName||"text"==a[0].nodeName}),d=function(b,d,e){var f="is-"+d,g=b.attr("data-"+d+"-state-add-class"),h=b.attr("data-"+d+"-state-rem-class"),i=b.attr("data-"+d+"-state-follower"),j=b.find(i);App.modules.notify("changeState.begin",{item:b,state:d,flag:e});var k=function(){var c=[],d=b.attr("class").split(" "),i="";if(e){var j=[];h&&(j=h.split(" ")),g&&c.push(g.split(" ")),c.push(f),a.each(d,function(a,b){j.indexOf(b)==-1&&c.push(b)}),a.each(c,function(a,b){i+=" "+b}),b.attr("class",i)}else{var k=[];g&&(k=g.split(" ")),a.each(d,function(a,b){b!=f&&k.indexOf(b)==-1&&c.push(b)}),h&&c.push(h.split(" ")),a.each(c,function(a,b){i+=" "+b}),b.attr("class",i)}},l=function(){b[0].classList?e?(b[0].classList.add(g),b[0].classList.remove(h),b[0].classList.add(f)):(b[0].classList.remove(g),b[0].classList.add(h),b[0].classList.remove(f)):k()};c(b)?l():e?(b.addClass(g),b.removeClass(h),b.addClass(f)):(b.removeClass(g),b.addClass(h),b.removeClass(f)),j.each(function(){var b=a(this),c=b.attr("data-"+d+"-state-add-class"),f=b.attr("data-"+d+"-state-rem-class");e?(b.addClass(c),b.removeClass(f)):(b.removeClass(c),b.addClass(f))}),App.modules.notify("changeState.end",{item:b,state:d,flag:e})},e=function(a,b,e){var f=a.attr("data-"+b+"-state-flag-class"),g=a.hasClass(f);if(c(a))if(a[0].classList)g=a[0].classList.contains(f);else{var h=a.attr("class").split(" ");g=h.indexOf(f)!=-1}"toggle"==e?d(a,b,!g):"on"==e?g||d(a,b,!0):"off"==e?g&&d(a,b,!1):App.log("Action: "+e+" is not recognized: Actions available are : toggle, on or off")},f=function(a,b){if(b&&b.item&&b.state&&b.action){var c=b.item.attr("data-"+b.state+"-state-min-width"),d=b.item.attr("data-"+b.state+"-state-max-width"),f=!!c&&window.mediaQueryMinWidth(c)||!c,g=!!d&&window.mediaQueryMaxWidth(d)||!d;f&&g&&e(b.item,b.state,b.action)}},g=function(){return{changeState:{update:f}}};App.modules.exports("change-state",{actions:g})}(jQuery),function(a,b){"use strict";var c="[email protected]",d=function(){a('a[href^="/cdn-cgi/l/email-protection"]').each(function(b,d){try{d=a(d);var e=d.attr("href").split("#")[1];if(e.indexOf("?")!==-1&&(e=e.split("?")[0]),e){var f,g,h="",i=parseInt(e.substr(0,2),16);if(i){for(f=2;f<e.length;f+=2)g=parseInt(e.substr(f,2),16)^i,h+=String.fromCharCode(g);d.attr("href","mailto:"+h),d.find("script").remove();var j=d.find(".__cf_email__");j.length&&(d=j),_.string.trim(d.text())===c&&d.text(h)}}}catch(a){}})},e=function(){return{page:{enter:d},articleChanger:{enter:d}}};App.modules.exports("cloudflare-email",{actions:e})}(jQuery,window),function(a,b,c){"use strict";var d=function(){return{site:{loaded:function(){a("link[data-href]").each(function(){var b=a(this);b.attr("href",b.attr("data-href"))})}}}};App.modules.exports("defered-css",{actions:d})}(jQuery,window),function(a,b){"use strict";var c=function(b,c){c&&c.elem.find(".fb-comments").each(function(b,c){var d=a(c),e=d.width();e>100&&d.attr("data-width",e).find(">span>iframe, >span:first-child").width(e)})},d=function(b,d){window.FB&&window.FB.XFBML&&(d=d||{},window.FB.XFBML.parse(d.elem||document,function(){c(b,{elem:d.elem||a(".page:visible",App.root())})}))},e=function(){return{page:{enter:d},FB:{parse:d,resize:c},articleChanger:{enter:d},site:{loaded:d}}};App.modules.exports("FB",{actions:e})}(jQuery),function(a,b){"use strict";var c=function(a){return a.replace(/[a-z]+:\/\/([a-z0-9-_]+\.[a-z0-9-_:~\+#%&\?\/.=^>^<]+[^:\.,\)\s*$])/gi,function(a,b){return'<a title="'+a+'" href="'+a+'" target="_blank">'+(b.length>36?b.substr(0,35)+"&hellip;":b)+"</a>"})},d=function(a){return a.replace(/(^|[^\w]+)\@([a-zA-Z0-9_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ]{1,15}(\/[a-zA-Z0-9-_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ]+)*)/gi,function(a,b,c){return b+'<a href="http://twitter.com/'+c+'" target="_blank">@'+c+"</a>"})},e=function(a){return a.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ^"^<^>]+)/gi,function(a,b,c){return'"'===a.substr(-1)||"<"==a.substr(-1)?a:b+'<a href="https://twitter.com/search?q=%23'+c+'&src=hash" target="_blank">#'+c+"</a>"})};window.formatTwitter=function(){var b=a(this),f=b.html();"true"!==b.attr("data-formattwitter")&&(f=c(f),f=d(f),f=e(f),b.html(f),b.attr("data-formattwitter","true"))}}(jQuery),function(a,b){"use strict";var c=window.location,d=c.origin||c.protocol+"//"+c.hostname,e=new RegExp("^"+d,"i"),f=function(b){var c=a(this),d=c.attr("href");return!App.mediator._currentPage()||(b.metaKey||b.ctrlKey?void 0:(/^\?.+/.test(d)&&(d=window.location.pathname+d),e.test(d)&&(d=d.replace(e,"")),App.mediator.notify("links.gotoClicked",{item:c,url:d}),App.mediator.goto(d),window.pd(b)))},g=function(b){var c=a(this),d=c.attr("href"),e=c.attr("data-toggle-fallback-url");return!App.mediator._currentPage()||(App.mediator.notify("links.toggleClicked",{item:c,url:d,fallback:e}),App.mediator.toggle(d,e),window.pd(b))},h=function(){return{}},i=function(){var b=':not([href^="/workspace"])',c=':not([data-action="full"]):not([data-action="toggle"]):not([data-action="none"])',e='a[href^="'+d+'"]',h=':not(a[href^="'+d+'/workspace"])',i='[data-action="toggle"]',j='a[href^="/"]',k='a[href^="?"]',l=App.device.events.click;a("#site").on(l,j+b+c,f).on(l,k+b+c,f).on(l,e+c+h,f).on(l,j+i,g).on(l,k+i,g)};App.modules.exports("links",{init:i,actions:h})}(jQuery),function(a,b,c){"use strict";var d=function(){return!!window.DM&&window.DM.player},e=function(){var b;App.modules.notify("oembed.providers.abstract",function(a,c){b=c});var e=a.extend({},b,{getIframe:function(b,e,f){App.loaded(d,function(d){var g=b.indexOf("/video/")>0?b.substring(b.indexOf("/video/")+7,b.indexOf("_")):b.substring(b.lastIndexOf("/")),h=a("<div/>");e=e!==c?e:1,f.append(h),this.playerInstance=d(h.get(0),{video:g,height:"100%",width:"100%",params:{autoplay:e,logo:0,info:0,background:"181818",highlight:"b4b4b4",api:1,html:1}})})},play:function(a){this.playerInstance.play()},pause:function(a){this.playerInstance.pause()}});App.modules.notify("oembed.providers.register",{key:"Dailymotion",provider:e})};App.modules.exports("oembed-dm",{init:e})}(jQuery,window),function(a,b,c){"use strict";var d=function(){return!!window.FB&&window.FB.XFBML},e=function(){var b;a("#fb-root").length||App.log({fx:"error",args:'The FB SDK requires <div id="fb-root"></div> in the body'}),App.modules.notify("oembed.providers.abstract",function(a,c){b=c});var c=a.extend({},b,{embed:function(a,b){App.loaded(d,function(b){b.parse(a.get(0)||document,function(){App.callback(c.ready)})})}});App.modules.notify("oembed.providers.register",{key:"Facebook",provider:c})};App.modules.exports("oembed-fb",{init:e})}(jQuery,window),function(a,b,c){"use strict";var d=function(){return!!window.instgrm&&window.instgrm.Embeds},e=function(){var b;App.modules.notify("oembed.providers.abstract",function(a,c){b=c});var e=a.extend({},b,{embed:function(a,e){var f=b.getTemplateContent(a);return f&&a.html(f),App.loaded(d,function(a){a.process()}),f?a.children():c}});App.modules.notify("oembed.providers.register",{key:"Instagram",provider:e})};App.modules.exports("oembed-ig",{init:e})}(jQuery,window),function(a,b,c){"use strict";var d=function(){var b;App.modules.notify("oembed.providers.abstract",function(a,c){b=c});var c=a.extend({},b,{embed:function(a,c){var d=b.getTemplateContent(a);return a.html(d),a.children()}});App.modules.notify("oembed.providers.register",{key:"Soundcloud",provider:c})};App.modules.exports("oembed-sc",{init:d})}(jQuery,window),function(a,b,c){"use strict";var d=function(){return!!window.twttr&&window.twttr.widgets},e=function(){var b;App.modules.notify("oembed.providers.abstract",function(a,c){b=c});var c=a.extend({},b,{embed:function(a,b){App.loaded(d,function(b){b.load(a.get(0)||document)})}});App.modules.notify("oembed.providers.register",{key:"Twitter",provider:c})};App.modules.exports("oembed-tw",{init:e})}(jQuery,window),function(a,b,c){"use strict";var d=function(){return b.$f},e=function(){var e;App.modules.notify("oembed.providers.abstract",function(a,b){e=b});var f=a.extend({},e,{getIframe:function(a,b,d,f,g){return b=b!==c?b:1,d=d!==c?d:1,e.getIframe().attr("src","//player.vimeo.com/video/"+a+"?autoplay="+b+"&loop="+d+"&api=1&html5=1&rel="+f+(g||""))},ready:function(b,c){App.loaded(d,function(d){var e=d(a("iframe",b).get(0));e.addEvent("ready",function(){b.attr("data-volume")&&e.api("setVolume",parseInt(b.attr("data-volume"),10)),App.callback(c,[e])})})},play:function(b){App.loaded(d,function(c){var d=c(a("iframe",b).get(0));d.api("play")})},pause:function(c){App.loaded(d,function(d){var e=b.$f(a("iframe",c).get(0));e.api("pause")})},progress:function(c,e){App.loaded(d,function(d){var f=b.$f(a("iframe",c).get(0));f.addEvent("playProgress",function(a){App.callback(e,[100*a.percent])})})},finish:function(c,e){App.loaded(d,function(d){var f=b.$f(a("iframe",c).get(0));f.addEvent("finish",function(){App.callback(e,{container:c})})})},volume:function(c,e){App.loaded(d,function(d){var f=b.$f(a("iframe",c).get(0));f.api("setVolume",e)})}});App.modules.notify("oembed.providers.register",{key:"Vimeo",provider:f})};App.modules.exports("oembed-vm",{init:e})}(jQuery,window),function(a,b,c){"use strict";var d=function(){return!!b.YT&&b.YT.Player},e=function(){var e;App.modules.notify("oembed.providers.abstract",function(a,b){e=b});var f=a.extend({},e,{getIframe:function(a,b,g,h){var i=a.indexOf("v=")>0?a.match(/v=([^\&]+)/im)[1]:a.substring(a.lastIndexOf("/")),j=b!==c?b:1,k=e.getIframe().attr("id","youtube-player-"+i).attr("src","//www.youtube.com/embed/"+i+"?feature=oembed&autoplay="+j+"&enablejsapi=1&version=3&html5=1&rel="+g+(h||""));return App.loaded(d,function(a){f.ytplayer=new a(k.get(0))}),k},playerLoaded:function(){return f.ytplayer&&f.ytplayer.playVideo},ready:function(a,b){App.loaded(d,function(a){App.callback(b,[a])})},play:function(a){App.loaded(d,function(a){App.loaded(f.playerLoaded,function(){f.ytplayer.playVideo()})})},pause:function(a){App.loaded(d,function(a){App.loaded(f.playerLoaded,function(){f.ytplayer.pauseVideo()})})},progress:function(a,c){var e=0,g=function(){if(clearTimeout(e),f.ytplayer){var a=f.ytplayer.getDuration(),b=f.ytplayer.getCurrentTime();App.callback(c,[Math.max(0,b/a*100||0)])}e=setTimeout(g,2e3)},h=function(a){a.data===b.YT.PlayerState.PLAYING?g():(clearTimeout(e),e=0)};App.loaded(d,function(a){App.loaded(f.playerLoaded,function(){f.ytplayer.addEventListener("onStateChange",h)})})},finish:function(a,c){var e=function(d){d.data===b.YT.PlayerState.ENDED&&App.callback(c,{container:a})};App.loaded(d,function(a){App.loaded(f.playerLoaded,function(){f.ytplayer.addEventListener("onStateChange",e)})})}});App.modules.notify("oembed.providers.register",{key:"YouTube",provider:f})};App.modules.exports("oembed-yt",{init:e})}(jQuery,window),function(a,b){"use strict";var c=function(){return{pages:{failedtoparse:function(a,b){},loaderror:function(a,b){},loadfatalerror:function(a,b){}}}};App.modules.exports("page-load-errors",{actions:c})}(jQuery),function(a,b){"use strict";var c=.3,d=.05,e=500,f=300,g=150,h="page-loading",i="show",j="start",k="end",l=a(),m=a(),n=!1,o=0,p=0,q=0,r=function(a){return~~(100*a)+"%"},s=function(a){if(clearTimeout(q),n){var b=p+d;p=Math.max(b,a||p),p=Math.min(p,1),m.width(r(p)),!a&&p<1-d&&(q=setTimeout(s,g))}App.log({args:["Progress %s %s",a||"timer",p],me:"page-load"})},t=function(){clearTimeout(o),p=c,m.removeClass(k).removeClass(i).removeClass(j).width(r(0)).height(),m.addClass(j).addClass(i).width(r(p)).height(),l.addClass(h),n=!0,App.log({args:"Start",me:"page-load"}),setTimeout(s,f)},u=function(){m.addClass(k).width("100%"),n=!1,o=setTimeout(function(){m.removeClass(i),l.removeClass(h)},e),App.log({args:"End",me:"page-load"})},v=function(a,b){s(b.percent)},w=function(){return{pageLoad:{start:t,progress:v,end:u},pages:{loading:t,loadfatalerror:u,loadprogress:v,loaded:u,notfound:u}}},x=function(){l=a("html"),m=a("#load-progress")};App.modules.exports("page-load",{init:x,actions:w})}(jQuery),function(a,b){"use strict";var c=function(){return{pages:{notfound:function(a,b){b&&b.url&&b.url!==document.location.pathname&&(document.location=b.url)}}}};App.modules.exports("page-not-found",{actions:c})}(jQuery),function(a,b){"use strict";var c=function(){return{pages:{routeNotFound:function(a,b){b&&b.url&&b.url!==document.location.pathname&&(document.location=b.url)}}}};App.modules.exports("route-not-found",{actions:c})}(jQuery),function(a,b){"use strict";var c=(a(window),a("#site"),function(b,c,d){var e=document.location,f=e.protocol+"//"+e.host+e.pathname,g={service:"sharethis",title:document.title,url:f,type:"large"},h=a.extend(g,c);h.element&&window.stWidget&&window.stWidget.addEntry(h),a(h.element).on(App.device.events.click,function(a){return window.pd(a,!1)})}),d=function(){},e={shareThis:{applyButton:c}};App.modules.exports("shareThis",{init:d,actions:function(){return e}})}(jQuery),function(a,b,c){"use strict";var d=b.onerror,e=function(b,c,e,f,g){return b=b||"",c&&(b+=" "+c),e&&(b+=" line "+e),f&&(b+=" col "+f),g&&g.stack&&(b+=" col "+g.stack),a.sendEvent("error",b),App.callback(d,b,c,e,f,g)};b.onerror=e,a(document).ajaxError(function(b,c,d){a.sendEvent("error ajax",d.url,b.result)})}(jQuery,window),function(a,b){"use strict";var c=".js-site-nav-link",d="is-selected",e="data-selected-class-add",f="data-selected-class-remove",g=a("#site"),h=function(b){var h=g.find(c+".btn-"+b);g.find(c+"."+d).not(h).each(function(){var b=a(this);b.removeClass(d).removeClass(b.attr(e)).addClass(b.attr(f))}),h.each(function(){var b=a(this);b.addClass(d).addClass(b.attr(e)).removeClass(b.attr(f))})},i=function(b,c){a(c.page.key());h(c.page.key().substring(1))},j=function(){return{page:{entering:i}}};App.modules.exports("site-nav-link-selector",{actions:j})}(jQuery),function(a,b){"use strict";var c=a(window),d=a("html"),e=function(b){a(".js-fix-scroll-pad").css({paddingRight:b||""}),a(".js-fix-scroll-right").css({right:b||""}),a(".js-fix-scroll-margin").css({marginRight:b||""})},f=function(){d.removeClass("no-scroll"),e(0)},g=function(){var a=c.width();d.addClass("no-scroll"),e(c.width()-a)},h=function(){},i=function(){return{site:{removeScroll:g,addScroll:f}}};App.modules.exports("siteScroll",{init:h,actions:i})}(jQuery),function(a,b){"use strict";var c=(a(window),a("title",document),{}),d=function(){c[document.location.pathname]=a("title").text()},e=function(b,d,e){if(d.data){var f="";a(d.data).each(function(b,c){if(a(c).is("title"))return f=a(c).text(),!0}),d.url||(d.url=document.location.pathname),c[d.url]=f}},f=function(a,b,d){c[document.location.pathname]&&(document.title=c[document.location.pathname])},g={pages:{loaded:e},page:{enter:f},articleChanger:{loaded:e,enter:f}};App.modules.exports("titleUpdater",{init:d,actions:function(){return g}})}(jQuery),function(a,b){"use strict";var c=!0,d=function(){return c?"/"+a("html").attr("lang")+"/":"/"},e=function(a,b,c){App.mediator.goto(d())},f=function(){return{page:{toggleNoPreviousUrl:e}}},g=function(){};App.modules.exports("toggleNoPreviousUrl",{init:g,actions:f})}(jQuery),function(a,b){"use strict";var c=[],d="",e=function(b,c){var d=b.currentPage,e=b.nextPage,f=a(e.key()),g=a(d.key()),h=function(){App.modules.notify("page.entering",{page:e,route:b.route}),f.css({opacity:1,display:"block"}),g.css({display:"none"}),e.enter(b.enterNext),App.callback(c)};App.modules.notify("page.leaving",{page:d}),d.leave(b.leaveCurrent),h()},f=function(a){},g=function(a){for(var b=0;b<c.length;b++){var d=c[b];if(!(d.from!==a.currentPage.key().substring(1)&&"*"!==d.from||d.to!==a.nextPage.key().substring(1)&&"*"!==d.to)&&d.canAnimate(a))return d}},h=function(a,b){var c=f,e=g(b);e&&(c=e.beginTransition),d=b.nextPage.key().substring(1),c(b)},i=function(a,b,c){var f=e,h=g(b);h&&(f=h.transition),f(b,function(){d=""}),b.isHandled=!0},j=function(){return{pages:{requestPageTransition:i,requestBeginPageTransition:h},pageTransitionAnimation:{getTargetPage:function(a,b,c){b||(b={result:{}}),b.result||(b.result={}),b.result.pageTransitionAnimation={},b.result.pageTransitionAnimation.target=d}}}},k=function(b){var d=a.extend({from:"*",to:"*",beginTransition:f,transition:e,canAnimate:function(){return!0}},b);"*"===d.from&&"*"===d.to?(e=d.transition,f=d.beginTransition):c.push(d)};App.modules.exports("pageTransitionAnimation",{actions:j});window.App=a.extend(window.App,{transitions:{exports:k}})}(jQuery),function(a,b){"use strict";var c=a(window),d="",e="",f="",g="",h={},i=!1,j=!1,k=["fr","en"],l=function(){var b=a("body"),c=0;return a.each(k,function(a,d){if(b.hasClass(d))return c=a,!1}),c},m=function(){var a=g.indexOf("?");h=a>-1?App.routing.querystring.parse(g.substring(a)):{}},n=function(){history.pushState({},document.title,e+g)},o=function(a){var b=a.page.routes()[0];return a.page.routes().length>1&&(b=a.page.routes()[l()]),b},p=function(a,b){var c=a?a.indexOf("*"):-1,d=function(){a=a.substring(0,c),b.length>a.length?(g=b.substring(c),m()):(g="",h={})},e=function(){if(b.length>a.length){var c=b[a.length];"#"!==c&&"?"!==c||(g=b.substring(a.length),m())}else g="",h={}};return c>-1?d():e(),a},q=function(a){var b=a;""===e&&(j=!0),""!==e&&(b+=g,i||history.pushState({},document.title,a+g),i=!1)},r=function(b,c,g){var h=p(o(c),c.route);e!=h&&(q(h),e=h,f=c.route,d=c.page.key(),a.sendPageView({page:c.route}))},s=function(a,b,c){if(j){var d=window.location.href,f=window.location.protocol+"//"+window.location.host+e;g=d.substring(f.length),App.mediator.notify("page.fragmentChanged",g)}},t=function(a,b,c){g="",m()},u=function(b,c,d){e&&(g=c,a.isPlainObject(c)&&m(),n(),a.sendPageView({page:c.route}))},v=function(){var b="";return a.each(h,function(a,c){c&&(b.length&&(b+="&"),b+=a+"="+c)}),b},w=function(b,c,d){if(a.isPlainObject(c.qs)){var e=App.routing.querystring.stringify(h);a.extend(h,c.qs);var f=g.split("#")[0],i=g.split("#")[1],j=g.indexOf("?"),k=v();"?"+k!==e&&(k.length?g=j===-1?f+"?"+k:f.substring(0,j+1)+k:j!==-1&&(g=f.split("?")[0]),i.length&&(g+="#"+i),n(),c.raiseFragmentChanged&&App.mediator.notify("page.fragmentChanged",g))}},x=function(){var a=App.pages.page(window.location.pathname);if(a){var b=window.location;if(a.key()==d){b.origin||(b.origin=b.protocol+"//"+b.hostname);var c=b.origin+e,h=b.href.substring(c.length);g!=h?(App.mediator.notify("page.fragmentChanged",h),g=h,m()):App.mediator.notify("page.sameFragmentRequested",h)}else i=!0,App.mediator.goto(b.pathname+b.search,f)}else App.log({args:"Page not found",me:"Url Changer"})},y=function(b,c,d){var e=g;p(o(c),c.route),n(),g=e,x(),a.sendPageView({page:c.route})},z=function(){return window.location.pathname},A=function(){return window.location.search},B=function(){return window.location.toString()},C=function(){window.history.pushState?c.on("popstate",x):App.log({fx:"error",msg:"Cannot update url : history api was not found"})},D=function(){return{page:{entering:r,leaving:t,enter:s,updateUrlFragment:u,updateQsFragment:w},pages:{navigateToCurrent:y},url:{getUrl:z,getQueryString:A,getFullUrl:B}}};App.modules.exports("urlChanger",{init:C,actions:D})}(jQuery),function(a,b){"use strict";var c=a(window),d=a(document),e=function(a,b){App.mediator.notify("site."+a,{event:b})},f=function(a){e("resize",a)},g=function(a){e("orientation",a),f()},h=function(a){e("scroll",a),e("postscroll",a)},i=function(a){e("loaded",a)},j=function(a){var b=document.visibilityState||document.webkitVisibilityState||"visible";e("visibilitychange",a,b)},k=function(a){e("ready",a)},l=function(){a(k),c.load(i).scroll(h).on("orientationchange",g),a.ios||c.resize(f),d.on("visibilitychange webkitvisibilitychange",j)};App.modules.exports("windowNotifier",{init:l})}(jQuery),function(a,b){"use strict";var c=a(window),d=a("body"),e=(a("#site-pages"),350),f=!1,g=!1,h=null,i=function(b,c){var f=a("#bg-transition",d),g=b.currentPage,h=b.nextPage,i=a(h.key());a(g.key());g.leave(b.leaveCurrent,{canRemove:!0}),d.addClass(h.key().substring(1)),App.modules.notify("page.entering",{page:h,route:b.route}),i.ready(function(){i.css({opacity:1,display:"block"}),h.enter(b.enterNext),f.fadeOut(e).promise().then(function(){App.modules.notify("transition.end",{page:h,route:b.route})}),App.callback(c)})},j=function(b,j){var k=a("#bg-transition",d),l=b.currentPage,m=b.nextPage,n=(a(m.key()),a(l.key()));f=!1,g=!1,h=null,k.fadeIn(e).promise().then(function(){d.removeClass(l.key().substring(1)),App.modules.notify("page.leaving",{page:l,canRemove:!0}),c.scrollTop(0),n.hide(),f=!0,g&&i(h)})},k=function(a,b){g=!0,h=a,f&&i(a,b)};App.transitions.exports({beginTransition:j,transition:k,canAnimate:function(a){return!0}})}(jQuery),function(a,b,c){"use strict";App.pages.exports("default-detail-page",function(){var b,c=App.components.create("articleChanger"),d=function(a,c){c.canRemove&&b.remove(),App.callback(a)},e=function(a,b){var d=b?b:"";c.navigateTo(d.split("/")[0])},f=function(){b=a(this.key()),c.init(b,{startPageHandle:b.find(".js-article").attr("data-handle")})},g=function(){return{page:{fragmentChanged:e}}},h={init:f,leave:d,actions:g};return h})}(jQuery,window),function(a,b,c){"use strict";App.pages.exports("defaultPage",function(){var b,c=function(a){App.callback(a)},d=function(){b=a(this.key())},e=function(){return{}},f={init:d,enter:c,actions:e};return f})}(jQuery,window),function(a,b,c){"use strict";var d="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,e=function(b){return~~(!b||a.isNumeric(b)?b||0:b)},f=function(b){return!b||a.isNumeric(b)?~~(b||0)+"px":b},g=function(a,b,c){a=f(a),b=f(b),c=f(c);var e=d?"3d(":"(",g=d?","+c+")":")";return"translate"+e+a+","+b+g},h=function(b,c,f,g){b=e(b),c=e(c),f=e(f),g=!g||a.isNumeric(g)?(g||0)+"deg":g;var h=d?"3d("+b+","+c+","+f+",":"Z(",i=")";return"rotate"+h+g+i};b.CSS3={translate:g,rotate:h,prefix:function(a,b){var c={};return c[a]=b,c["-webkit-"+a]=b,c["-moz-"+a]=b,c["-ms-"+a]=b,c["-o-"+a]=b,c}}}(jQuery,window),function(a,b){"use strict";var c="disabled";a.fn.disable=function(){return a(this).attr(c,c).addClass(c)},a.fn.enable=function(){return a(this).removeAttr(c).removeClass(c)}}(jQuery),function(a){"use strict";var b=a("html").attr("lang"),c=function(){var b=[];a.each(arguments,function(c,d){d=a.isPlainObject(d)?JSON.stringify(d,null,2):'"'+d+'"',b.push(d)}),App.log({args:["%cga("+b.join(",")+");","color:navy"]})},d=function(){return window.dataLayer&&window.dataLayer.push?function(c,d,e,f,g,h,i,j){if("pageview"===d)dataLayer.push(a.extend({},e,{event:d,page:{requestURI:e.page||e.location,language:b}}));else if("event"===d){var k={event:d,eventCategory:j||e,eventAction:f,eventLabel:g,eventValue:h,eventOptions:i};a.isPlainObject(e)&&(k=a.extend(!0,{},k,e),k.eventCategory=k.eventCategory||k.event,k.event=d),dataLayer.push(k)}}:window.ga||c};a.sendPageView=function(b){var c=d(),e={page:window.location.pathname+window.location.search,location:window.location.href,hostname:window.location.hostname},f=b?a.extend(e,b):e;a.isFunction(a.formatPage)&&(f.page=a.formatPage(f.page)),a.isFunction(a.formatLocation)&&(f.location=a.formatLocation(f.location)),c("send","pageview",f)},a.sendEvent=function(a,b,c,e,f,g){var h=d();a=a||"",f=a.options||f||{nonInteraction:1},h("send","event",a,b,c,e,f,g)},a.fn.sendClickEvent=function(b){b=b||{};var c=a(this).eq(0),d=!0;b.action||(b.action="click"),b.label||(b.label=a.trim(c.text()));var e=a.extend({},b,{cat:c.attr("data-ga-cat")||void 0,category:c.attr("data-ga-category")||void 0,action:c.attr("data-ga-action")||void 0,label:c.attr("data-ga-label")||void 0,value:parseInt(c.attr("data-ga-value"),10)||void 0});return e.cat?(e.label||App.log({fx:"err",args:"No ga-label found. Reverting to text"}),b.event&&(b.event.gaHandled?d=!1:b.event.gaHandled=!0),void(d&&a.sendEvent(e.cat,e.action,e.label,e.value,void 0,e.category))):void App.log({fx:"err",args:"No ga-cat found. Cannot continue."})},a(function(){var b=window.location,c=b.origin||b.protocol+"//"+b.hostname,d=':not([href^="'+c+'"])',e='a[href^="http://"]'+d+', a[href^="https://"]'+d,f='a[href^="mailto:"]',g='a[href^="tel:"]',h=["pdf","jpg","jpeg","png","doc","docx","xsl","xslx"],i=_.map(h,function(a){return'a[href$=".'+a+'"], '}).join("")+'a[href$="?dl"], a[download]',j=":not([data-ga-cat])";a("#site").on(App.device.events.click,"[data-ga-cat]",function(b){a(this).sendClickEvent({event:b})}).on(App.device.events.click,e+j,function(b){a(this).sendClickEvent({cat:"link-external",event:b})}).on(App.device.events.click,i+j,function(b){a(this).sendClickEvent({cat:"link-download",event:b})}).on(App.device.events.click,f+j,function(b){a(this).sendClickEvent({cat:"link-mailto",event:b})}).on(App.device.events.click,g+j,function(b){a(this).sendClickEvent({cat:"link-tel",event:b})}),a("body").hasClass("page-404")&&a.sendEvent("erreur 404","erreur 404",document.referrer)})}(jQuery),function(a,b){"use strict";var c=function(b){var c=function(c){var d=a(this),e=!1,f=a.extend({},a.dropdownmenu.defaults,{popup:d.attr("data-popup"),items:d.attr("data-items"),background:d.attr("data-background"),click:App.device.events.click},b);f.popup=a(f.popup),f.background=a(f.background),f.items=f.popup.find(f.items);var g=function(){var a=d.offset();f.popup.css(a)},h=function(){e||(g(),f.background.addClasses(f.showClass,f.popupClass),f.popup.addClasses(f.showClass,f.popupClass),e=!0,a.isFunction(f.menuPoped)&&f.menuPoped.call(d,f),d.trigger("menuPoped",[f]))},i=function(){e&&(f.background.removeClasses(f.showClass,f.popupClass),f.popup.removeClasses(f.showClass,f.popupClass),e=!1)};d.on(f.click,function(a){return h(),window.pd(a,!0)}),f.items.on(f.click,function(b){var c=a(this);f.items.removeClass(f.selectedClass),c.addClass(f.selectedClass),a.isFunction(f.selectionChanged)?f.selectionChanged.call(d,c,f):d.text(c.text()),d.trigger("selectionChanged",[c,f]),i()}),f.background.on(f.click,function(a){return i(),window.pd(a,!0)}),a(window).resize(function(a){e&&g()})};return c};a.fn.dropdownmenu=function(b){var d=a(this);return d.each(c(b))},a.dropdownmenu={defaults:{popup:null,items:">*",background:null,showClass:"show",popupClass:"popup",selectedClass:"selected",selectionChanged:null,menuPoped:null}}}(jQuery),function(a,b){"use strict";var c="transitionend webkitTransitionEnd oTransitionEnd mozTransitionEnd MSTransitionEnd",d="add-class-timer",e=[],f=function(b){e.length&&a.each(e,function(a,c){c&&b.call(this,c,a)})};window.App&&!window.App.debug()||(a.transitionsQueue=function(){return e}),a("body").on(c,function(b){var c=a(b.target);f(function(d,f){a.each(d.selectors,function(a,b){d.selectors[a]=b||c.is(a)}),window._.every(d.selectors)&&(e.splice(f,1),d.callback.call(d.context,b))})}),a.fn.transitionEnd=function(b,c){var d=a(this),f={selectors:{},
callback:b,context:this,timestamp:a.now()};if(c&&!a.isArray(c)&&(c=[c]),c&&c.length)a.each(c,function(a,b){b?f.selectors[b]=!1:App.debug()&&console.warn("Element %s has no selector",a)});else{if(!d.selector)return App.debug()&&console.warn("Element %s has no selector",this),d;f.selectors[d.selector]=!1}return e.push(f),d},a.removeFromTransition=function(b){var c=!1;return b&&(a.isArray(b)||(b=[b]),f(function(d,f){var g=!1;if(d&&d.selectors){var h=function(c,d){return!!~a.inArray(d,b)};g=window._.some(d.selectors,h),g&&(e.splice(f,1),c=!0)}})),c},a.fn.addClasses=function(b,c,e,f){var g=a(this);return g.length?(f=f||[g.selector],g.each(function(g,h){var i=a(h),j=i.data(d);clearTimeout(j),i.addClass(b),j=setTimeout(function(c,d,e){i.hasClass(b)&&(a.isFunction(d)&&i.transitionEnd(d,e),i.addClass(c))},100,c,e,f),i.data(d,j)})):g},a.fn.removeClasses=function(b,c,d,e){var f=a(this);return f.length?(e=e||f.selector,f.each(function(f,g){var h=a(g);h.transitionEnd(function(){h.removeClass(b),a.isFunction(d)&&d()},e),h.removeClass(c)})):f}}(jQuery);
//# sourceMappingURL=framework-modules.min.js.map