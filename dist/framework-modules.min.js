/*! framework.js-modules - v1.11.0 - build 362 - 2018-11-01
 * https://github.com/DeuxHuitHuit/framework.js-modules
 * Copyright (c) 2018 Deux Huit Huit (https://deuxhuithuit.com/);
 * MIT */
!function(w,t,e){"use strict";App.components.exports("algolia-search",function(t){var n,c,s,l,o=window.location.protocol+"//"+window.location.host,e=w("html").attr("lang"),i=0,a={inputSelector:".js-algolia-input",resultsCtnSelector:".js-algolia-results-ctn",resultsContentSelector:".js-algolia-results-content",noResultsTemplateSelector:".js-algolia-no-results-template",resultsItemTemplateSelector:".js-algolia-results-item-template",algoliaAttributesToRetrieve:"title,url,image",algoliaAttributesToHighlight:"title",algoliaSearchableAttributes:[],resultsTemplateStringSelector:".js-algolia-results-template-string",facets:null,facetsAttr:"data-algolia-facets",facetFilters:null,facetFiltersAttr:"data-algolia-facet-filters",onCreateResultsTemplatingObject:function(n,t){var e=t.algoliaAttributesToRetrieve?t.algoliaAttributesToRetrieve.split(","):["url","title"];return _.reduce(e,function(t,e){return t[e]=n[e],t[e]&&"url"===e&&(t[e]=t[e].replace(o,"")),t},{})},defaultResultsTemplateString:'<div><a href="__url__">__title__</a></div>',defaultFacets:"lang",defaultFacetFilters:"lang:"+e,defaultRecommandFacets:["facet","lang"],defaultRecommandFacetFilters:["facet:recommend","lang:"+e],defaultRecommandGroup:null,hitsPerPage:20,hitsPerPageAttr:"data-algolia-hits",searchCallback:w.noop,recommendCallback:w.noop,errorCallback:w.noop,clearCallback:w.noop,beforeSearchCallback:w.noop,beforeAppendNewItem:w.noop,recommendResultsLimit:5,recommendHitsPerPage:10,minChar:3,gaCat:"Search",gaAction:"search",gaTimer:1e3,templateSettings:{interpolate:/__(.+?)__/g,evaluate:/_%([\s\S]+?)%_/g,escape:/_%-([\s\S]+?)%_/g},algolia:{app:"",key:"",index:""},inputKeyUpCallback:null,showNoResultsWhenCleared:!1},f=w.extend({},a,t),d=function(t){var e=t.find(f.resultsContentSelector),n=t.find(f.noResultsTemplateSelector).length?t.find(f.noResultsTemplateSelector).html():"";e.append(n)},m=function(o,a,t,e){if(t.nbHits){var n=o.find(f.resultsItemTemplateSelector).length?o.find(f.resultsItemTemplateSelector).text():f.defaultResultsTemplateString,i=_.templateSettings;_.templateSettings=f.templateSettings,n=(n=n.replace(/ _and_ /g," && ")).replace(/%5B/g,"[").replace(/%5D/g,"]");var r=_.template(n);_.each(t.hits,function(t){var e=f.onCreateResultsTemplatingObject(t,f),n=r(e);App.callback(f.beforeAppendNewItem,[o,a,n,e,t]),a.append(n)}),_.templateSettings=i}else e&&e.length>=f.minChar&&d(o)},g=function(t,e,n,o){t.find(f.resultsContentSelector).empty(),App.callback(f.errorCallback,[t,e,f,n,o])},u=function(t,n,o,e){var a=t.find(f.resultsContentSelector);e||a.empty(),m(t,a,n,o),clearTimeout(i),i=setTimeout(function(){var t,e;t=o,e=n&&n.nbHits||0,f.gaCat&&w.sendEvent(f.gaCat,f.gaAction,t,e)},f.gaTimer),App.callback(f.searchCallback,[t,n,f,o])},h=function(t){return _.map(t,function(t){return t.query})},r=function(t,e,o,n){var a=[],i=e||s.val(),r=parseInt(t,10)||0;App.callback(f.beforeSearchCallback,[{resultsCtn:l}]),n.each(function(){var t=w(this);a.push(function(t,e,n){var o=f.facets||(n.attr(f.facetsAttr)?n.attr(f.facetsAttr).split(","):f.defaultFacets),a=f.facetFilters||(n.attr(f.facetFiltersAttr)?n.attr(f.facetFiltersAttr).split(","):f.defaultFacetFilters),i=1<e.split(" ").length;e=i?'"'+e+'"':e;var r={page:t,facets:o,hitsPerPage:parseInt(n.attr(f.hitsPerPageAttr),10)||f.hitsPerPage,attributesToRetrieve:f.algoliaAttributesToRetrieve,attributesToHighlight:f.algoliaAttributesToHighlight,restrictSearchableAttributes:f.algoliaSearchableAttributes};return n.filter("[data-algolia-filters-mode=filters]").length?r.filters=encodeURI(a):r.facetFilters=a,{scope:n,query:{indexName:f.algolia.index,query:e,advancedSyntax:i,params:r}}}(r,i,t))}),c.search(h(a),function(e,n){e?_.each(a,function(t){g(t.scope,n,i,e)}):_.each(n.results,function(t,e){u(a[e].scope,t,i,o)})})},p=function(t,e,n){r(t,e,n,l)},v=function(){l.each(function(){w(this).find(f.resultsContentSelector).empty(),f.showNoResultsWhenCleared&&d(w(this))}),App.callback(f.clearCallback,[l,f])},y=function(){s.val().length>=f.minChar?p():v(),App.callback(t.inputKeyUpCallback)};return{init:function(t){n=w(t),s=n.find(f.inputSelector),l=n.find(f.resultsCtnSelector),c=window.algoliasearch(f.algolia.app,f.algolia.key),s.on("keyup",y)},search:p,searchByContainer:r,recommend:function(u,e){var p=[];u&&u.length||!App.debug()?App.debug()&&l.prepend(w("<div />").text("Search terms: "+u.join(", ")).css({background:"rgba(0, 0, 250, 0.6)",color:"#EEE",fontSize:"16px",padding:"10px",margin:"10px 0"})):(l.prepend(w("<div />").text("No recommend terms (categories) found. Defaults to all").css({background:"rgba(255, 100, 0, 0.6)",color:"#EEE",fontSize:"16px",padding:"10px",margin:"10px 0"})),u=["*"]),l.each(function(){var n=w(this),o=n.attr(f.facetsAttr)?n.attr(f.facetsAttr).split(","):[].concat(f.defaultRecommandFacets),a=n.attr(f.facetFiltersAttr)?n.attr(f.facetFiltersAttr).split(","):[].concat(f.defaultRecommandFacetFilters),t=n.attr(e)?n.attr(e):[].concat(f.defaultRecommandGroup);t&&(o.push("recommendFacet"),a.push("recommendFacet:"+t)),App.debug()&&n.prepend(w("<div />").text(t?"Results segmented by `"+t+"`":"Results not segmented").css({background:"rgba(255, 200, 0, 0.6)",color:"#333",fontSize:"16px",padding:"10px",margin:"10px 0"})),p=p.concat(_.map(u,function(t,e){return{scope:n,query:{indexName:f.algolia.index,query:t,customRanking:["desc(rating."+t+".r)"],ranking:["custom","typo"],params:{facets:o,facetFilters:a,hitsPerPage:f.recommendHitsPerPage,typoTolerance:!1,attributesToRetrieve:f.algoliaAttributesToRetrieve,attributesToHighlight:f.algoliaAttributesToHighlight,restrictSearchableAttributes:["recommend"]}}}}))}),p&&p.length?c.search(h(p),{strategy:"stopIfEnoughMatches"},function(e,d){if(e)return l.remove(),void _.each(p,function(t){g(t.scope,d,p.join("+"),e)});l.each(function(){var t,e,n,o,a=w(this),i=_.reduce(d.results,function(t,e,n){return p[n].scope.is(a)&&(t=t.concat(_.map(e.hits,function(t){return t.results=e,t})),delete e.hits),t},[]),r=_.reduce(i,function(t,e,n){return-1!==window.location.toString().indexOf(e.url)||(t[e.url]?t[e.url].push(e):t[e.url]=[e]),t},{}),c=_.map(r,function(t,e){var n=t[0];return n.computedRating=_.reduce(t,function(t,e){var n="*"===e.results.query?"_global":e.results.query;return e.rating&&e.rating[n]?t+e.rating[n].r:t},0),n}),s=_.sortBy(c,function(t){return-t.computedRating}).slice(0,f.recommendResultsLimit),l={nbHits:s.length,hits:s};e=l,n=u,(o=(t=a).find(f.resultsContentSelector)).empty(),m(t,o,e,n),App.callback(f.recommendCallback,[o,e,f,n]),App.debug()&&!l.nbHits&&a.prepend(w("<div />").text("No result found").css({background:"rgba(255, 0, 0, 0.6)",padding:"10px",margin:"10px 0",color:"#EEE",fontSize:"16px"}))})}):App.debug()||n.remove()},updateInputVal:function(t){s.val(t)},focus:function(){s.focus()},blur:function(){s.blur()},getVal:function(){return s.val()},getInput:function(){return s},clear:v}})}(jQuery,jQuery(window)),function(i,t,e,n){"use strict";var r={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:function(t,e,n){e=e||"";var o=n.articleSelector+(n.trackHandle?'[data-handle="'+e+'"]':"");return i(o,i(t))},appendArticle:function(t,e,n,o){var a=o.findArticle(e,n,o);return a.hide(),t.append(a),a},startAnimToArticle:function(t,e,n,o){t.length?(t.closest(n.containerSelector).css({minHeight:t.height()+"px"}),t.fadeTo(500,0,function(){t.hide(),o(t,e,n)})):o(t,e,n)},endAnimToArticle:function(t,e,n){var o=e.closest(n.containerSelector);n.scrollToTop&&App.mediator.notify("window.scrollTop",{animated:!1}),App.mediator.notify("articleChanger.entering"),e.fadeTo(500,1,function(){n.articleEnter(t,e,n),o.css({minHeight:""})})},trackHandle:!0,twoStepAnim:!1,scrollToTop:!1,articleEnter:function(t,e,n){n.trackHandle||t.remove(),App.mediator.notify("articleChanger.enter",{item:e,article:e})}};App.components.exports("articleChanger",function(){var l,o,d,a,u=!1,p=!1,f="",m=function(t,e,n){p=!1,u||n.endAnimToArticle(t,e,n)},g="";return{init:function(t,e){o=t,l=i.extend({},r,e),d=i(l.containerSelector,o),a=l.startPageHandle},clear:function(){a=""},navigateTo:function(r,t){var c=l.findArticle(d,a,l);g=t||window.location.href;var e,n=function(t,e,n){if(u=!1,g===f){var o=l.appendArticle(d,t,r,l),a=window.location,i=a.href.substring(a.hostname.length+a.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:i,data:t}),o.length?l.twoStepAnim&&!p?l.endAnimToArticle(c,o,l):l.startAnimToArticle(c,o,l,m):App.log({args:"Could not find new article",fx:"error",me:"Article Changer"})}else s()},s=function(){u||(App.mediator.notify("pageLoad.start",{page:o}),u=!0,f=g,Loader.load({url:g,priority:0,vip:!0,success:n,progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,o=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:o})},error:function(t){App.mediator.notify("pageLoad.end"),u=!1,App.mediator.notify("articleChanger.loaderror",{jqXHR:t})},giveup:function(t){App.mediator.notify("pageLoad.end"),u=!1,App.log("Article changer load giveup")}}))};l.trackHandle&&a===r||(l.trackHandle&&(e=l.findArticle(d,r,l)),e&&e.length?l.startAnimToArticle(c,e,l,m):(l.twoStepAnim&&(p=!0,l.startAnimToArticle(c,e,l,m)),s()),a=r)}}})}(jQuery,window,document),function(i,t,e,n){"use strict";var r={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:function(t,e,n){e=e||"";var o=n.articleSelector+(n.trackHandle?'[data-handle="'+e+'"]':"");return i(o,i(t))},appendArticle:function(t,e,n,o){var a=o.findArticle(e,n,o);return a.hide(),t.append(a),a},animToArticle:function(t,e,n){if(t.length){var o=t.closest(n.containerSelector);o.css({minHeight:t.height()+"px"}),t.fadeTo(500,0,function(){t.hide(),n.scrollToTop&&App.mediator.notify("window.scrollTop",{animated:!1}),App.mediator.notify("articleChanger.entering",{article:e,ctn:o}),e.fadeTo(500,1,function(){o.css({minHeight:""})}),setTimeout(function(){n.articleEnter(t,e,n)},100)})}else e.fadeTo(500,1),n.articleEnter(t,e,n)},trackHandle:!0,scrollToTop:!1,articleEnter:function(t,e,n){n.trackHandle||t.remove(),App.mediator.notify("articleChanger.enter",{article:e})}};App.components.exports("articleChanger",function(){var s,o,l,a;return{init:function(t,e){o=t,s=i.extend({},r,e),l=i(s.containerSelector,o),a=s.startPageHandle},clear:function(){a=""},navigateTo:function(r,t){var e,c=s.findArticle(l,a,s),n=t||window.location.href;s.trackHandle&&a===r||(s.trackHandle&&(e=s.findArticle(l,r,s)),e&&e.length?s.animToArticle(c,e,s):(App.mediator.notify("pageLoad.start",{page:o}),Loader.load({url:n,priority:0,vip:!0,success:function(t,e,n){var o=s.appendArticle(l,t,r,s),a=window.location,i=a.href.substring(a.hostname.length+a.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:i,data:t}),o.length?s.animToArticle(c,o,s):App.log({args:"Could not find new article",fx:"error",me:"Article Changer"})},progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,o=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:o})},error:function(){App.mediator.notify("article.loaderror"),App.mediator.notify("pageLoad.end")},giveup:function(t){App.mediator.notify("pageLoad.end")}})),a=r)}}})}(jQuery,window,document),function(i,t,e){"use strict";var n={checkPoints:[0,25,50,75,90,100],category:"Scroll",action:"scroll",checkPointReached:i.noop};App.components.exports("checkpoint-event",function(t){var o=i.extend({},n,t),a=0,e=function(){a=0};return{init:function(t){o=i.extend(o,t),e()},track:function(t){if(i.isNumeric(o.checkPoints[a])&&i.isNumeric(t)&&o.checkPoints[a]<=t){var e=o.action+" "+o.checkPoints[a]+"%",n=o.label||e;o.category&&i.sendEvent(o.category,e,n,o.checkPoints[a]),App.callback(o.checkPointReached,[a,o.checkPoints[a]]),a++}},reset:e}})}(jQuery,jQuery(window)),function(u,t,e){"use strict";App.components.exports("flickity",function(t){var a=u(),r=(u(),!1),c=u.extend({},{sliderCtn:".js-flickity-slider-ctn",cellSelector:".js-flickity-cell",navBtnSelector:".js-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",seenClass:"is-seen",dataAttrPrefix:"flickity",aborted:null},t),s=function(){var t=a.data("flickity");return t?a.find(c.cellSelector).eq(t.selectedIndex):u()},l=function(){s().addClass(c.seenClass),a.find(c.cellSelector+"."+c.seenClass).each(function(){a.find(".flickity-page-dots li").eq(u(this).index()).addClass(c.seenClass)})},d=function(){a.flickity("playPlayer"),a.attr("tabindex",a.data("acc-tabindex")||"0")};return{init:function(t,e){if(e,1===(a=t).find(c.cellSelector).length){var n=(i=new RegExp("^"+c.dataAttrPrefix),o=_.reduce(a.data(),function(t,e,n){if(i.test(n)){if(_.isObject(e))return t;var o=n.replace(i,""),a="";o&&o[0]&&(a=o[0].toLowerCase(),2<=o.length&&(a+=o.substr(1)),t[a]=e)}return t},{}),u.extend({},c,o));a.flickity(n),a.flickity("resize"),a.addClass(c.initedClass),r=!0,a.find(".flickity-page-dots li").attr("tabindex","0").keydown(function(t){if(t.which===window.keys.enter){var e=u(this);a.flickity("select",e.index()),e.focus()}}),a.find(".flickity-page-dots li").each(function(t){var e=u(this),n=a.find(c.cellSelector).eq(t).attr("aria-label");n&&e.attr("aria-label",n)}),a.on("blur",function(){a.data("acc-tabindex",a.attr("tabindex")),a.removeAttr("tabindex")}).on("settle.flickity",function(){var t=s();a.find(c.cellSelector).removeAttr("tabindex"),a.find("button, a").attr("tabindex","-1"),t.add(t.find("button, a")).attr("tabindex","0"),n.autoPlay&&n.restartAutoplayOnMouseleave&&u.mobile&&d()}),n.pageDots&&a.on("settle.flickity",l),a.find("img[data-src-format]").jitImage(),n.pauseOnFocus&&(a.attr("tabindex")||a.attr("tabindex","0"),a.on("focus",function(t){a.flickity("pausePlayer")}).on("focus","*",function(t){a.flickity("pausePlayer")})),n.pauseOnInit&&a.flickity("pausePlayer"),n.autoPlay&&n.restartAutoplayOnMouseleave&&!u.mobile&&a.on("mouseleave",d),App.callback(c.inited)}else 1===a.find(c.cellSelector).length?(a.addClass(c.abortedClass),a.find(c.cellSelector).addClass(c.selectedClass)):App.log("No flickity found or multiple flickity in the scope"),App.callback(c.aborted);var o,i},resize:function(){a.flickity("resize")},destroy:function(){a.hasClass(c.initedClass)&&0<a.closest("body").length&&(a.flickity("destroy"),a.removeClass(c.initedClass),a.off("settle.flickity",l),a.off("mouseleave",d),a.off("focus").off("focus","*"),a.off("blur").attr("tabindex",a.data("acc-tabindex")||"0"),a=u(),App.callback(c.destroyed))},isInited:function(){return r},unpause:function(){a.flickity("unpausePlayer")},pause:function(){a.flickity("pausePlayer")}}})}(jQuery,jQuery(window)),function(b,k,t,e,n){"use strict";var C={container:".js-form-field",input:".js-form-input",error:".js-form-error",label:".js-form-label",states:".js-form-state",clear:".js-form-clear",preview:".js-form-preview",progress:".js-form-progress",validationEvents:"blur change",emptinessEvents:"blur keyup change",previewEvents:"change input",formatEvents:"blur",changeLabelTextToFilename:!0,onlyShowFirstError:!1,group:null,rules:{required:{presence:!0},email:{email:!0},money:{numericality:{onlyInteger:!1,greaterThan:0}},integer:{numericality:{onlyInteger:!0,greaterThan:0}},document:{format:{pattern:"^.+\\.(?:docx?|pdf)$",flags:"i"}},image:{format:{pattern:"^.+\\.(?:jpe?g|png)$",flags:"i"}},phoneUs:{format:{pattern:"\\(?[0-9]{3}\\)?[- ]?([0-9]{3})[- ]?([0-9]{4})",flags:"i"}},url:{url:!0},embed:{format:{pattern:"^http(.+)(youtube\\.com|youtu\\.be|vimeo\\.com|facebook\\.com)(.+)$",flags:"i"}}},rulesOptions:{},formatters:{},onFocus:null,onBlur:null,onKeyup:null,onKeydown:null,onChangeOrInput:null},x=null;window.moment?x={rules:{over18Now:{datetime:{dateOnly:!0,earliest:window.moment.utc().subtract(150,"years"),latest:window.moment.utc().subtract(18,"years")}}}}:App.log("com::form-field: Extended date rules are not available. Add Moment.js to enable them."),App.components.exports("form-field",function(s){var l,d,u,p,o,f,a=[],n=!1;s=b.extend(!0,{},C,x,s);var m=function(t){return{error:t.attr("data-error-class"),valid:t.attr("data-valid-class"),empty:t.attr("data-empty-class"),notEmpty:t.attr("data-not-empty-class"),submitting:t.attr("data-submitting-class")}},g=function(t){return t.attr("data-state-class")},h=function(t,e){var n=o.filter('[data-state="'+e+'"]');n[t](g(n))},i=function(o,t){if(o.empty(),s.changeLabelTextToFilename&&(t&&t.name?p.text(t.name):p.text(p.attr("data-text"))),t&&k.FileReader){var e=new k.FileReader;e.onload=function(t){var e=t.target.result;if(e){var n=b("<img />").attr("class",o.attr("data-preview-class")).attr("src",e).on("error",function(){n.remove()});o.append(n)}},e.readAsDataURL(t)}},v=function(){var o,t,a;if("checkbox"==d.attr("type"))o=d.prop("checked")?"true":"";else if("radio"==d.attr("type")){var e=d.closest("form").find("input[type='radio'][name='"+d.attr("name")+"']:checked");o=e.length?e.prop("checked")?e.val():"":d.prop("checked")?d.val():""}else d.hasClass("js-form-field-radio-list")?(t=d.find("input[type='radio']:checked"),a=t.length,t.each(function(t){var e=b(this),n=e.closest(".js-form-field-radio-ctn").find("label");e.prop("checked")&&(o||(o=""),o+=n.text(),t<a-1&&(o+=", "))})):d.hasClass("js-form-field-checkbox-list")?(t=d.find("input[type='checkbox']:checked"),a=t.length,t.each(function(t){var e=b(this),n=e.closest(".js-form-field-checkbox-ctn").find("label");e.prop("checked")&&(o||(o=""),o+=n.text(),t<a-1&&(o+=", "))})):o=d.val();return o},r=function(){var t=k.validate.isEmpty(v()),e=t?"addClass":"removeClass",n=t?"removeClass":"addClass",o=m(d),a=m(l),i=m(p);d[e](o.empty),d[n](o.notEmpty),l[e](a.empty),l[n](a.notEmpty),p[e](i.empty),p[n](i.notEmpty)},c=function(t){var e=l.find(s.preview);if("file"==d.attr("type")&&(r(),e.length)){var n=!!t&&!!t.target.files&&t.target.files[0];n=n||d[0].files&&d[0].files[0],i(e,n)}},y=function(t){try{var e={},n={};return _.each(a,function(t){s.rules[t]&&(e=b.extend(e,s.rules[t])),s.rulesOptions[t]&&(n=b.extend(n,s.rulesOptions[t]))}),k.validate.single(t,e,n)}catch(t){App.log({fx:"error",args:[t]})}return!1},w=function(){_.each(a,function(t){s.formatters[t]&&s.formatters[t](d,f)})},A=function(){var t=y(v()),e=t?"addClass":"removeClass",n=t?"removeClass":"addClass",o=t?s.onlyShowFirstError?t[0]:t.join(". "):"",a=m(d),i=m(l),r=m(p),c=b(l.attr("data-input-error-followers"));return d[e](a.error),d[n](a.valid),c[e](a.error),c[n](a.valid),l[e](i.error),l[n](i.valid),p[e](r.error),p[n](r.valid),u.html(o),t?(u.addClass(g(u)),h("addClass","error"),h("removeClass","valid"),{result:t,field:f,errorMessages:o}):(u.removeClass(g(u)),h("addClass","valid"),h("removeClass","error"),t)};return f={init:function(t){var e;s=b.extend(!0,s,t),l=b(s.container),d=l.find(s.input),u=l.find(s.error),p=l.find(s.label),o=l.find(s.states),l.find(s.clear),l.find(s.progress),a=_.filter((l.attr("data-rules")||"").split(/[|,\s]/g)),n=d.hasClass("js-form-field-checkbox-list")||d.hasClass("js-form-field-radio-list"),s.formatEvents&&d.on(s.formatEvents,w),s.validationEvents&&d.on(s.validationEvents,A),s.emptinessEvents&&d.on(s.emptinessEvents,r),s.previewEvents&&d.on(s.previewEvents,c),b.isFunction(s.onFocus)&&(e=d,n?e=d.find('input[type="radio"],input[type="checkbox"]'):l.hasClass("js-form-field-file")&&(e=l.find(".js-form-field-label-ctn")),e.on("focus",function(){s.onFocus({field:f})})),b.isFunction(s.onBlur)&&(e=d,n&&(e=d.find('input[type="radio"],input[type="checkbox"]')),e.on("blur",function(){s.onBlur({field:f})})),b.isFunction(s.onKeyup)&&d.on("keyup",function(){s.onKeyup({field:f})}),b.isFunction(s.onKeydown)&&d.on("keyup",function(t){s.onKeydown({field:f,e:t})}),b.isFunction(s.onChangeOrInput)&&d.on("change input",function(t){s.onChangeOrInput({field:f,e:t})}),r()},validate:A,format:w,enable:function(t){t?d.enable():d.disable()},focus:function(){d.focus()},reset:function(){var t=m(d),e=m(l),n=m(p);if(d.removeClass(t.error),d.removeClass(t.valid),d.addClass(t.empty),d.removeClass(t.notEmpty),l.removeClass(e.error),l.removeClass(e.valid),l.addClass(e.empty),l.removeClass(e.notEmpty),p.removeClass(n.error),p.removeClass(n.valid),p.addClass(n.empty),p.removeClass(n.notEmpty),u.empty().removeClass(g(u)),h("removeClass","error"),h("removeClass","valid"),"file"==d.attr("type")){if(s.changeLabelTextToFilename)p.text(p.attr("data-text"));else{var o=l.find(".js-filename"),a=l.attr("data-default-text-filename");o.text(a)}i(l.find(s.preview),null)}},preview:c,scrollTo:function(t){b.scrollTo(l,t)},checkEmptiness:r,group:function(){return s.group},submitting:function(t){var e=t?"addClass":"removeClass",n=m(d);d[e](n.submitting)},value:v,name:function(){return d.attr("name")},label:function(){return p.text()},find:function(t){return l.is(t)?l:l.find(t)},hasClass:function(t){return l.hasClass(t)},required:function(){return!!~a.indexOf("required")},isEmpty:function(){return k.validate.isEmpty(v())},isValid:function(){return!y(v())},getCtn:function(){return l},getInput:function(){return d}}})}(jQuery,window,document,window.moment),function(p,f,t,m,e){"use strict";var g={root:"body",container:".js-form",fields:".js-form-field",fieldsGroupSelector:".js-form-field-group",fieldsOptions:{},onSubmit:null,doSubmit:null,onValid:null,onError:null,disableOnSubmit:!0,focusOnError:!0,post:{},gaCat:"conversion",gaLabel:"form"};App.components.exports("form",function(a){var i,r=[],n=!1;a=p.extend(!0,{},g,a);var o=function(){return _.map(r,function(t){return t.validate()})},c=function(t){return!!(t=t||o()).length&&!_.some(t)||!t.length},s=function(e){_.each(r,function(t){t.enable(e)})},l=function(e){_.each(r,function(t){t.submitting(e)})},d=function(){var t={},e=!window.FormData;n||(e?p.each(i.serializeArray(),function(){t[this.name]=this.value}):t=new FormData(i[0]),l(n=!0),App.callback(a.post.submitting),window.Loader.load({url:i.attr("action"),type:i.attr("method")||"POST",data:t,processData:e,contentType:!1,dataType:"text",error:a.post.error,success:a.post.success,complete:function(){App.callback(a.post.complete),l(n=!1),a.disableOnSubmit&&s(!0)}}))},e=function(t){var e=o();return App.callback(a.onSubmit),c(e)?(App.callback(a.onValid),!0===App.callback(a.onBeforePost,[t])?f.pd(t):(a.post?d():App.callback(a.doSubmit),a.disableOnSubmit&&s(!1),a.post||a.doSubmit?f.pd(t):void 0)):(App.callback(a.onError,{results:e}),a.focusOnError&&(e=_.filter(e)).length&&e[0].field.focus(),f.pd(t))},u=function(t,e){e=p(e);var n=App.components.create("form-field",a.fieldsOptions),o=1===e.filter("[data-only-show-first-error]").length;n.init({container:e,group:e.closest(a.fieldsGroupSelector),onlyShowFirstError:o}),r.push(n)};return{init:function(t){(a=p.extend(!0,a,t)).root=p(a.root),(i=a.root.find(a.container)).find(a.fields).each(u),i.submit(e),a.focusOnFirst&&setTimeout(function(){r[0].focus()},100),f.validate.validators.presence.options={message:i.attr("data-msg-required")},f.validate.validators.email.options={message:i.attr("data-msg-email-invalid")||i.attr("data-msg-invalid")},f.validate.validators.format.options={message:i.attr("data-msg-invalid")},f.validate.validators.numericality.options={message:i.attr("data-msg-invalid")},f.validate.validators.url.options={message:i.attr("data-msg-invalid")};var o="DD-MM-YYYY";window.moment&&f.validate.extend(f.validate.validators.datetime,{parse:function(t,e){if(!t)return NaN;if(m.isMoment(t))return+t;if(/[^\d-\/]/.test(t))return NaN;var n=m.utc(t,o);return n.isValid()?+n:NaN},format:function(t,e){return m.isMoment(t)||(t=m(t)),t.format(o)},message:i.attr("data-msg-date-invalid")||i.attr("data-msg-invalid"),notValid:i.attr("data-msg-date-invalid")||i.attr("data-msg-invalid"),tooEarly:i.attr("data-msg-date-too-early")||i.attr("data-msg-invalid"),tooLate:i.attr("data-msg-date-too-late")||i.attr("data-msg-invalid")})},enable:s,validate:o,reset:function(){i[0].reset(),_.each(r,function(t){t.reset()})},preview:function(){_.each(r,function(t){t.preview()})},post:d,submitting:l,validateGroup:function(t){var e=[];return p.each(r,function(){this.group().is(t)&&e.push(this)}),c(_.map(e,function(t){return t.validate()}))},container:function(){return i},eachFields:function(t){return _.each(r,t)},getOptions:function(){return a},isValid:function(){var n=!0;return _.reduce(r,function(t,e){if(t)return n=e.isValid()},!0),n},validators:function(){return f.validate.validators},track:function(t,e,n){var o=i.attr("data-ga-form-cat")||a.gaCat;e=e||i.attr("data-ga-form-label")||a.gaLabel,p.sendEvent(o,t,e,n)}}})}(jQuery,window,document,window.moment),function(d,t,u,e){"use strict";App.components.exports("googleMap",function(t){var n,o,e,a=[],i=function(){e&&e.infowindow.close()},r={defaultMarkerOptions:{},mapTypeId:null,markerAction:function(){var t=new google.maps.LatLng(this.getPosition().lat()+.005,this.getPosition().lng());o.panTo(t),i(),this.infowindow.open(o,this),e=this},beforeCreate:null,afterCreate:null},c=d.extend({},r,t),s=function(){return!!u.google&&!!google.maps&&!!google.maps.Map},l=function(){n.hasClass("map-loaded")||(App.callback(c.beforeCreate,[google.maps,c,n]),c.center&&(c.center=new google.maps.LatLng(c.center.latitude,c.center.longitude)),google.maps.MapTypeId[c.mapTypeId]?c.mapTypeId=google.maps.MapTypeId[c.mapTypeId]:c.mapTypeId=google.maps.MapTypeId.ROADMAP,o=new google.maps.Map(n.get(0),c),google.maps.event.addListener(o,"bounds_changed",function(){App.mediator.notifyCurrentPage("map.boundsChanged",o.getBounds())}),App.callback(c.afterCreate,[google.maps]),n.addClass("map-loaded"))};return{init:function(t,e){n=d(e,t),App.loaded(s,function(){l()})},addMarker:function(t){var e=d.extend({},c.defaultMarkerOptions,t);e.iconImage&&(e.iconImage=new google.maps.MarkerImage(e.iconImage.src,new google.maps.Size(e.iconImage.size.width,e.iconImage.size.height),new google.maps.Point(e.iconImage.p1.x,e.iconImage.p1.y),new google.maps.Point(e.iconImage.p2.x,e.iconImage.p2.y))),e.position&&(e.LatLng=new google.maps.LatLng(e.position.latitude,e.position.longitude));var n=new google.maps.Marker({position:e.LatLng,map:o,icon:e.iconImage,shadow:e.iconShadow,zIndex:e.zIndex});a.push(n),e.content&&e.content.length?(n.infowindow=new google.maps.InfoWindow({content:e.content}),google.maps.event.addListener(n,"click",c.markerAction)):c.markerCustomAction&&google.maps.event.addListener(n,"click",c.markerCustomAction)},center:function(t,e){o.panTo(new google.maps.LatLng(t,e))},zoom:function(t){o.setZoom(t)},fitBounds:function(t){o.fitBounds(new google.maps.LatLngBounds(t.southwest,t.northeast))},closeAllPopup:i}})}(jQuery,jQuery(window),window),function(d,t,e){"use strict";App.components.exports("infinite-scroll",function(t){var s,e=d(window),n=e.height(),o={ctnSelector:".js-infinite-scroll-ctn",contentCtnSelector:".js-infinite-scroll-content",pagerLinkSelector:".js-infinite-scroll-pager-link",triggerPercentage:.5,callback:d.noop},l=d.extend({},o,t),a=function(r){if(s.length){var t=s.find(l.pagerLinkSelector);if(t.length){var c=t.attr("href");t.remove(),App.mediator.notify("pageLoad.start"),window.Loader.load({url:c,success:function(t,e,n){var o,a,i;o=t,a=s.find(l.contentCtnSelector),i=d(o),a.length?a.append(i.find(l.contentCtnSelector+" > *")):s.append(i.find(l.ctnSelector+" > *")),s.find("img[data-src-format]").jitImage(),App.modules.notify("page.replaceState",{title:document.title,url:c}),App.mediator.notify("infiniteScroll.pageLoaded",{data:t,ctn:s,url:c}),App.callback(r,[s,c,t,e,n,l]),App.mediator.notify("pageLoad.end")},progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,o=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:o})},error:function(){App.mediator.notify("pageLoad.end")},giveup:function(t){App.mediator.notify("pageLoad.end")}})}}};return{init:function(t,e){l=d.extend(l,e),s=t.find(l.ctnSelector)},resize:function(){n=e.height()},scroll:function(){if(n=e.height(),s.length){var t=(e.scrollTop()-(s.offset().top+s.height())+n)/n;t>=-l.triggerPercentage&&t<=1&&a(l.callback)}},loadNextPage:function(t,e){a(e.callback)}}})}(jQuery,jQuery(window)),function(c,t,e){"use strict";App.components.exports("jplayer",function(t){var e,r=c.extend({},{playerSelector:".js-jplayer-player",playerContainerSelector:".js-jplayer-container",onReady:null,onTimeupdate:null,backgroundColor:"transparent",loop:!0,width:1920,height:1080,resize:!0},t),o=function(t){var e=t.width(),n=t.height(),o=t.find(r.playerSelector),a=c.sizing.aspectFill({width:e,height:n,preferWidth:!1},r.width/r.height);a.height=Math.ceil(a.height),a.width=Math.ceil(a.width);var i=c.positioning.autoPosition({position:"center",left:"left",top:"top"},c.size(e,n),a);o.size(a).css(i).data({size:a,position:i}),o.jPlayer("option",{size:a})},n=function(n){n.find(r.playerSelector).jPlayer({ready:function(){c(this).jPlayer("setMedia",{webmv:n.attr("data-video-webm"),m4v:n.attr("data-video-mp4"),ogv:n.attr("data-video-ogv")}),r.resize&&o(n),App.callback(r.onReady,[n])},solution:"html",loop:r.loop,volume:0,supplied:"webmv, m4v, ogv",backgroundColor:r.backgroundColor,wmode:r.backgroundColor,size:{width:r.width,height:r.height},preload:r.preload||"none",play:function(t){App.mediator.notify("jplayer.play",{ctn:n})},timeupdate:function(t){var e=t.jPlayer.status;e.currentTime&&App.mediator.notify("jplayer.timeupdate",{status:e,ctn:n}),App.callback(r.onTimeupdate,[n,e])},ended:function(){App.callback(r.onEnded,[n])}})},a=function(t){var e=t.find(r.playerSelector);e.jPlayer("destroy"),e.jPlayer("pauseOthers")};return{init:function(t){e=c(t)},loadAllVideo:function(){e.find(r.playerContainerSelector).each(function(){var t=c(this);n(t)})},loadVideo:n,destroyVideo:a,destroyAllVideo:function(){e.find(r.playerContainerSelector).each(function(){var t=c(this);a(t),t.removeClass("video-loaded").closest(".video-loaded").removeClass("video-loaded")})},playVideo:function(t){var e=t.find(r.playerSelector);e.jPlayer("pauseOthers"),e.jPlayer("play")},pauseVideo:function(t){t.find(r.playerSelector).jPlayer("pause")},stopVideo:function(t){t.find(r.playerSelector).jPlayer("stop")},resizeVideo:o,resizeAllVideo:function(){e.find(r.playerContainerSelector).each(function(){o(c(this))})},setVolume:function(t,e){t.find(r.playerSelector).jPlayer("volume",e)}}})}(jQuery,jQuery(window)),function(s,t,e){"use strict";var l={embed:function(t,e){var n=parseInt(t.attr("data-autoplay"),10),o=parseInt(t.attr("data-loop"),10),a="1"===t.attr("data-rel")?1:0,i=t.attr("data-extra"),r=this.getIframe(e,n,o,a,i);return r.attr("width","100%"),r.attr("height","100%"),r.attr("frameborder","0"),r.attr("class",t.attr("data-player-class")),t.append(r),r},getIframe:function(t){return s('<iframe allowfullscreen="" />')},getTemplateContent:function(t){var e=t.find("script");return _.map(e.contents(),function(t){return s(t).text()}).join("")},play:s.noop,pause:s.noop,ready:s.noop,progress:s.noop,volume:s.noop,finish:s.noop,destroy:function(t){t.remove()}},d={abstractProvider:l};App.components.exports("oembed",function(n){var t=s(n.container),o=s(n.player),a=o.data("oembedId"),i=o.data("oembedProvider"),r=d[i],c=s();r||(App.log({args:["Provider `%s` not found.",r],me:"oEmbed",fx:"warn"}),r=l);return{load:function(t){t=t||!1,c=(c=r.embed(o,a,t.autoplay,t.loop))||s();var e=App.components.create("checkpoint-event",{category:n.category||"Video",action:"view",label:i+": "+(o.attr("data-oembed-title")||a)});e.init(),r.ready(o,function(){o.addClass("loaded"),r.progress(o,function(t){e.track(t)}),t.finish&&r.finish(o,t.finish)})},play:function(){r.play(t)},pause:function(){r&&a&&t.find("iframe").length&&r.pause(t)},volume:function(t){r.volume(o,t)},destroy:function(){o.removeClass("loaded"),r.destroy(c)}}}),App.modules.exports("oembed-providers",{actions:function(){return{oembed:{providers:{abstract:function(){return l},register:function(t,e){d[e.key]?App.log({args:["Provider `%s` already exists.",e.key],me:"oEmbed",fx:"error"}):d[e.key]=e.provider}}}}}})}(jQuery,jQuery(window)),function(l,t,e){"use strict";var d=l(window),u={itemSelector:".js-replace-state-on-scroll",container:"body",urlAttribute:"data-canonical-url",titleAttribute:"data-canonical-title",change:null,windowOffsetPercentage:.5};App.components.exports("replace-state-on-scroll",function(t){var a=l.extend({},u,t),e=l(),i=[],r=-1,c=d.height(),s=-1,n=function(){r=s=-1},o=function(){c=d.height(),e=l(a.container).find(a.itemSelector),i=_.map(e,function(t){return{offset:(t=l(t)).offset(),url:t.attr(a.urlAttribute),title:t.attr(a.titleAttribute)}})};return{init:function(t){a=l.extend(a,t),n(),o()},scroll:function(){var e=d.scrollTop(),t=_.findLastIndex(i,function(t){return t.offset.top+c*a.windowOffsetPercentage<=e});if(-1!==t&&r!==t&&i[t]){var n=i[t].url,o=i[t].title;o&&(document.title=o),n&&(App.modules.notify("page.replaceState",{title:o||document.title,url:n}),App.callback(a.change,[r,t,n]),s<t&&l.sendPageView({page:n})),r=t,s=Math.max(s,t)}},update:o,reset:n}})}(jQuery,window),function(a,t,e,n){"use strict";"fr"==a("html").attr("lang")&&(jQuery.timeago.settings.strings={prefixAgo:"Publié il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"}),App.components.exports("timeAgo",function(){return{init:function(t){t,a("time.js-time-ago").each(function(t,e){var n=a(this),o=new Date(n.attr("datetime"));(new Date).getTime()-o.getTime()<2592e6&&n.timeago()})}}})}(jQuery,window,document),function(u,t,e,n){"use strict";var a,o,i,p={ctn:u(),video:null,videoSelector:".js-video",resizeContainerSelector:"",onTimeUpdate:u.noop,onCanPlay:u.noop,onPlaying:u.noop,resizable:!0,onLoaded:u.noop,onEnded:u.noop};o=function(o){return function(){var n=Array.prototype.slice.call(arguments);return a(this).each(function(t,e){e&&a.isFunction(e[o])&&e[o].apply(e,n)})}},i=function(o){return function(n){if(void 0!==n)return a(this).each(function(t,e){e&&(a(e).get(0)[o]=n)});var t=a(this).get(0);return t&&t[o]||0}},(a=u).fn.mediaPlay=o("play"),a.fn.mediaPause=o("pause"),a.fn.mediaLoad=o("load"),a.fn.mediaCurrentTime=i("currentTime"),a.fn.mediaPaused=i("paused"),a.fn.mediaMuted=i("muted"),a.fn.mediaHeight=i("videoHeight"),a.fn.mediaWidth=i("videoWidth"),App.components.exports("video",function(t){var r=u.extend({},p,t),e=function(){if(r.resizable){var t=r.video.closest(r.resizeContainerSelector).length?r.video.closest(r.resizeContainerSelector):r.ctn,e=t.width(),n=t.height(),o=r.video.mediaWidth()/r.video.mediaHeight(),a=u.sizing.aspectFill({width:e,height:n,preferWidth:!1},o);a.height=Math.ceil(a.height),a.width=Math.ceil(a.width);var i=u.positioning.autoPosition({position:"center",left:"left",top:"top"},u.size(e,n),a);r.video.size(a).css(i).data({size:a,position:i})}},n=function(t){status.currentTime&&App.mediator.notify("video.timeupdate",{video:r.video,e:t}),App.callback(r.onTimeupdate,[r.video])},o=function(t){App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"off"}),App.modules.notify("changeState.update",{item:r.ctn,state:"playing",action:"on"}),App.callback(r.onPlaying,[r.ctn,r.video])},a=function(t){e(),App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"off"}),App.modules.notify("changeState.update",{item:r.ctn,state:"video-loaded",action:"on"}),App.callback(r.onCanPlay,[r.ctn,r.video])},i=function(t){e(),App.callback(r.onLoaded,[r.ctn,r.video])},c=function(){r.video.filter("[data-video-reset-on-end]").length&&App.modules.notify("changeState.update",{item:r.ctn,state:"playing",action:"off"}),App.callback(r.onEnded,[r.ctn,r.video])},s=function(){r.video.mediaLoad()},l=function(){r.video.mediaPlay()},d=function(){App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"on"}),r.video.mediaPause()};return{init:function(t,e){(r=u.extend({},r,e)).ctn=u(t),r.video=t.find(r.videoSelector),r.video.on("timeupdate",n).on("canplay",a).on("playing",o).on("ended",c).on("loadedmetadata",i)},resize:e,destroy:function(){r.video.off("timeUpdate",n).off("canplay",a).off("playing",o).off("ended",c).off("loadedmetadata",i),s(),r.video=null,r={}},load:s,play:l,togglePlay:function(){r.video.mediaPaused()?l():d()},pause:d,seek:function(t){r.video.mediaCurrentTime(t)}}})}(jQuery,window,jQuery(window)),function(i,t){"use strict";i(window);var r={},e=function(t,e,n){if(e.data){var o={};if(i(e.data).each(function(t,e){if(i(e).is("link")){var n=i(e);n.attr("hreflang")&&(o[n.attr("hreflang")]=n.attr("href"))}if(i(e).is("body"))return!0}),r[e.url]=o,-1!==e.url.indexOf("?")){var a=e.url.split("?")[0];r[a]=o}}},n=function(t,e,n){r[window.location.pathname]&&i("#site a.js-alt-lg-link").each(function(){var t=i(this),e=r[window.location.pathname][t.data("lg")];e&&t.attr("href",e)})},o={pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}};App.modules.exports("altLanguageLinkUpdater",{init:function(){var e={};i("link[rel=alternate][hreflang]",document).each(function(){var t=i(this);e[t.attr("hreflang")]=t.attr("href")}),r[window.location.pathname]=e},actions:function(){return o}})}(jQuery),function(u,t){"use strict";var e=u(window),p=u("#site"),n=0,o=0,f=0,m="data-auto-3-state-trigger",g="data-auto-3-state-trigger-bottom",h="3-state-fx",a=u(),v=function(t,e,n){if(e){var o=p,a=t.attr(n);return a&&(o=t.closest(a)),o.find(e)}return t},i=function(){a=p.find(".js-auto-3-state-on-scroll["+m+"]")},r=function(){f=Math.floor(e.scrollTop()),a.each(function(){var t,e,n=u(this),o=Math.floor(n.outerHeight()),a=Math.floor(n.offset().top),i=(Math.floor(a+o),v(n,n.attr(m),"data-auto-3-state-trigger-common-ancestor"));if(i.length){var r=Math.floor(i.offset().top),c=n.attr(g)?v(n,n.attr(g),"data-auto-3-state-trigger-bottom-common-ancestor"):i,s=Math.floor(c.offset().top+c.outerHeight());if(o<s-r&&r<s){var l,d=r<=f+(t=n,e=0,p.find(t.attr("data-auto-3-state-scroll-offset-top")).each(function(){e+=Math.floor(u(this).outerHeight())}),e);l=s-f<=o?function(){App.modules.notify("changeState.update",{item:n,state:"initial",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"middle",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"final",action:"on"})}:d?function(){App.modules.notify("changeState.update",{item:n,state:"initial",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"final",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"middle",action:"on"})}:function(){App.modules.notify("changeState.update",{item:n,state:"final",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"middle",action:"off"}),App.modules.notify("changeState.update",{item:n,state:"initial",action:"on"})},n.data(h,l)}}})},c=function(){r()},s=function(){window.craf(n),n=window.raf(function(){a.each(function(){var t=u(this),e=t.data(h);t.removeData(h),App.callback(e)})})},l=function(){window.craf(o),o=window.raf(function(){c(),s()})},d=function(t,e){i(),l()},y=function(){i(),l()};App.modules.exports("auto-3-state-on-scroll",{init:function(){},actions:function(){return{site:{scroll:c,postscroll:s,resize:l},page:{enter:d},articleChanger:{enter:y}}}})}(jQuery),function(d,t){"use strict";d(window);var e=d("#site"),n=function(t){var e=d(this),n=e.attr("data-change-state-click-target"),o=e.attr("data-change-state-click"),a=e.attr("data-change-state-action"),i=e.attr("data-change-state-min-width"),r=e.attr("data-change-state-max-width"),c=e,s=!!i&&window.mediaQueryMinWidth(i)||!i,l=!!r&&window.mediaQueryMaxWidth(r)||!r;if(o&&a&&s&&l&&(c=function(t,e){if(e){var n=t,o=t.attr("data-change-state-click-target-common-ancestor");return o&&(n=t.closest(o)),n.find(e)}return t}(c,n),App.modules.notify("changeState.update",{item:c,state:o,action:a}),e.filter("[data-change-state-click-prevent-default]").length))return window.pd(t)};App.modules.exports("auto-change-state-click",{init:function(){e.on(App.device.events.click,".js-change-state-click",n)}})}(jQuery),function(i,t){"use strict";i(window);var e=i("#site"),n=".js-change-state-hover",o=function(t){var e=i(this),n=e.attr("data-change-state-hover-target"),o=e.attr("data-change-state-hover"),a=e;return o&&(a=function(t,e){if(e){var n=t,o=t.attr("data-change-state-hover-target-common-ancestor");return o&&(n=t.closest(o)),n.find(e)}return t}(a,n),App.modules.notify("changeState.update",{item:a,state:o,action:"toggle"})),window.pd(t)};App.modules.exports("auto-change-state-on-hover",{init:function(){e.on("mouseenter",n,o),e.on("mouseleave",n,o)}})}(jQuery),function(c,t){"use strict";var e=c("#site"),s=".js-text-to-copy",n=".js-copy-on-click-btn",l=".js-confirm-message",d=null,o=function(){var t=c(this),e=t.closest(".js-copy-ctn"),n=e.find(l),o=parseInt(t.attr("data-message-delay"),10)||0,a=e.find(s),i=a.length,r=function(t){t.select(),document.execCommand("copy"),App.modules.notify("changeState.update",{item:n,state:"visible",action:"on"}),clearTimeout(d),d=setTimeout(function(){App.modules.notify("changeState.update",{item:n,state:"visible",action:"off"})},o)};0!==i?1===i?r(a):(App.log("Multiple items found for copy, using the first one"),r(a.eq(0))):App.log("No item found to copy text from")};App.modules.exports("auto-copy-on-click",{init:function(){e.on(App.device.events.click,n,o)}})}(jQuery),function(c,t){"use strict";c(window);var e=c("#site"),n=!0,o=c(".page"),a=function(t,e,n,o,a){var i=c(n).find(".js-oembed-video-player");i.length&&App.modules.notify("pauseVideo",i)},i=function(t,e,n,o,a){if(!App.device.mobile){c(this).cycle("resume");var i=c(n).find(".js-oembed-video-ctn"),r=i.find(".js-oembed-video-player");r.hasClass("loaded")&&(i.removeClass("is-playing"),r.removeClass("loaded").empty())}},r=function(t){App.device.mobile||t.container.closest(".js-cycle").cycle("resume")},s=function(t){var e=c(this),n=e.closest(".js-oembed-video-ctn"),o=n.find(".js-oembed-video-player");return App.device.mobile||App.modules.notify("loadVideo",{player:o,autoplay:!0,finish:r}),n.addClass("is-playing"),App.device.mobile||e.closest(".js-cycle").cycle("pause"),window.pd(t)},l=function(){o.find(".js-cycle-slide.video .js-oembed-video-ctn").each(function(){var t=c(this).find(".js-oembed-video-player");App.modules.notify("loadVideo",{player:t,finish:r})})},d=function(t,e){o=c(e.page.key()),c(".js-cycle:not(.cycle-inited)").each(function(){var t=c(this);if(!t.data("cycle-disable-mobile")||!App.device.mobile){var e={slides:t.attr("data-cycle-slides")||">img",pager:t.attr("data-cycle-pager")||"> .cycle-pager",pagerTemplate:t.attr("data-cycle-pager-template")||"<span><span>",next:t.attr("data-cycle-next")||"> .cycle-next",prev:t.attr("data-cycle-prev")||"> .cycle-prev",timeout:parseInt(t.attr("data-cycle-timeout"),10)||4e3,paused:!!App.device.mobile||(t.attr("data-cycle-paused")||!1),pauseOnHover:t.attr("data-cycle-pause-on-hover")||!0,fx:t.attr("data-cycle-fx")||"fade",caption:t.attr("data-cycle-caption")||"> .cycle-caption",log:App.debug()};t.cycle(e),t.on("cycle-before",a),t.on("cycle-after",i),t.addClass("cycle-inited")}}),!n&&App.device.mobile&&l()},u=function(){n=!1,App.device.mobile&&l()};App.modules.exports("auto-cycle",{init:function(){e.on(App.device.events.click,".js-cycle-slide.video .js-oembed-video-play",s)},actions:function(){return{site:{loaded:u},page:{enter:d},articleChanger:{enter:d}}}})}(jQuery),function(o,t){"use strict";o(window),o("#site");var n=o(".page"),a={sliderCtn:".js-auto-flickity-slider-ctn",cellCtn:".js-auto-flickity-ctn",cellSelector:".js-auto-flickity-cell",navBtnSelector:".js-auto-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",imagesLoaded:!0,accessibility:!1},i=[],r=function(){o.each(i,function(t,e){setTimeout(function(){e.unpause()},1500+200*t)})},e=function(){o.each(i,function(){this.resize()})},c=function(n){n.find(a.sliderCtn).find(a.cellCtn).not("."+a.initedClass).each(function(){var t=o(this),e=App.components.create("flickity",a);e.init(t,n),e.isInited()&&i.push(e),setTimeout(function(){e.resize()},500)})},s=function(t,e){n=o(e.page.key()),c(n),r()},l=function(t,e){e.canRemove?(o.each(i,function(){this.destroy()}),i=[]):o.each(i,function(){this.pause()}),n=o()},d=function(){c(n),r()};App.modules.exports("auto-flickity",{actions:function(){return{site:{resize:e},page:{enter:s,leaving:l},articleChanger:{entering:d},siteLoader:{finishing:r},popupTransition:{beforeEnter:function(t,e){c(e.page),r()}}}}})}(jQuery),function(o,t){"use strict";var a=o("html"),e=o("#site"),i=".js-recaptcha-response",n=".js-recaptcha",r="g-recaptcha-",c="form",s=null,l=!1,d=0,u=function(t){t=t||s,l&&t&&t.find(n).each(function(){var e=o(this);if(!e.attr("id")){var t=r+ ++d;e.attr("id",t);var n=window.grecaptcha.render(t,{sitekey:e.attr("data-sitekey"),badge:e.attr("data-badge")||"bottomright",hl:a.attr("lang"),callback:function(t){e.closest(c).find(i).val(t),App.mediator.notify("recaptcha.updated",{result:t,lastTarget:e})}});e.data(r,n)}})},p=function(t){var e=!!t&&t.id||void 0;return!e&&t&&t.ctn&&(e=t.ctn.find(n).data(r)),e},f=function(t,e){try{var n=p(e);window.grecaptcha?window.grecaptcha.reset(n):App.log("Recaptcha Lib not found")}catch(t){App.log("Recaptcha Force update fail with error")}},m=function(t,e){try{var n=p(e);if(window.grecaptcha){if(!window.grecaptcha.getResponse(n))return window.grecaptcha.execute(n),!0;App.log("Recaptcha already executed")}else App.log("Recaptcha Lib not found")}catch(t){App.log("Recaptcha executed with error")}return!1},g=function(t,e){e.page?s=o(e.page.key()):e.article&&(s=o(e.article)),u()};App.modules.exports("auto-invisible-recaptcha",{init:function(){window.GoogleReCaptchaCallback=function(){l=!0,u(),u(e.find(n).filter(function(t,e){return!o(e).closest(".page").length}).map(function(t,e){return o(e).closest(c).get(0)}))}},actions:function(){return{page:{enter:g},articleChanger:{enter:g},recaptcha:{forceUpdate:f,execute:m}}}})}(jQuery),function(n,t,e){"use strict";var o=!0,a=n("#site"),i=function(t){var e=n(t.target);e.hasClass("jit-image-bg-src")&&e.closest(".jit-image-bg").css({backgroundImage:"url('"+e.attr("src")+"')"})},r=function(t,e){n(e.article).find("img[data-src-format]").jitImage()},c=function(t,e){o||n(e.page.key()).find("img[data-src-format]").jitImage(),o=!1};App.modules.exports("auto-jit-image",{init:function(){a.on("loaded.jitImage",i)},actions:function(){return{page:{enter:c},articleChanger:{enter:r}}}})}(jQuery,window),function(n,t,e){"use strict";var o=n("#site"),a=n(".page"),i=function(t){t.find("a[data-mailto]").each(function(){var t=n(this);t.attr("href","mailto:"+t.attr("data-mailto"))})},r=function(t,e){i(e.article)},c=function(t,e){a=n(e.page.key()),i(a)};App.modules.exports("auto-mailto",{init:function(){i(o)},actions:function(){return{page:{enter:c},articleChanger:{enter:r},autoMailto:{update:function(t,e){i(e.ctn)}}}}})}(jQuery,window),function(c,t){"use strict";c(window);var e=c("#site"),n=(c(),function(t){var e=c(this),n=e.attr("data-merge-qs-value-key"),o=e.attr("data-merge-qs-value-remove-keys"),a=e.attr("data-merge-qs-value")||null,i=App.routing.querystring.parse(window.location.search);if(n){if(e.filter("[data-merge-qs-value-toggle]").length?i[n]&&i[n]==a?i[n]=null:i[n]=a:i[n]=a||null,o){var r=o.split(",");c.each(r,function(t,e){i[e]=null})}if(App.mediator.notify("page.updateQsFragment",{qs:i,raiseFragmentChanged:!0}),e.filter("[data-merge-qs-value-prevent-default]").length)return window.pd(t,!0)}});App.modules.exports("auto-merge-qs-value",{init:function(){e.on(App.device.events.click,".js-merge-qs-value-button",n)}})}(jQuery),function(a,t){"use strict";a(window);var i=a("#site"),r="data-auto-modal-popup-selector",c=function(t,e){var n=e?"removeScroll":"addScroll";App.modules.notify("site."+n)},e=function(t){var e=a(this),n=e.closest(e.attr("data-auto-modal-common-ancestor")),o=(n.length?n:i).find(e.attr(r));return o.length?App.modules.notify("popup.toggle",{popup:o,openCallback:function(){c(0,!0)},closeCallback:function(){o.find(o.attr("data-inner-scroll-selector")).scrollTop(0),c(0,!1)}}):App.log("auto-modal: No popup found with selector : "+e.attr(r)),window.pd(t)};App.modules.exports("auto-modal",{init:function(){i.on(a.click,".js-auto-modal-btn",e)}})}(jQuery),function(i,r,t){"use strict";i(window);var e=i("#site"),n=i(),c=[],o=!0,s=".js-auto-oembed-player",l=".js-auto-oembed-ctn",d="auto-oembed",a=function(t){t.find(l).each(function(){var t=i(this),e=(t.find(s),t.data(d));App.modules.notify("changeState.update",{item:t,state:"playing",action:"off"}),e&&e.destroy(),t.data(d,null)})},u=function(t,e){var n=t.find(s),o=n.attr("data-autoload");if(!e){if(App.device.mobile&&"mobile"!==o&&"all"!==o)return;if(!App.device.mobile&&"none"===o)return}var a=t.data(d)||App.components.create("oembed",{container:t,player:n});return t.data(d,a),c.push(a),a.load({finish:function(){App.modules.notify("changeState.update",{item:t,state:"playing",action:"off"})}}),a},p=function(t){(t.is(l)?t:t.find(l)).each(function(){u(i(this))})},f=function(t){(t.is(l)?t:t.find(l)).each(function(){var t,e;t=i(this),(e=t.data())&&e.autoOembed&&e.autoOembed.pause()})},m=function(t,e){e&&e.item&&f(e.item)},g=function(t){var e=i(this),n="true"===e.attr("data-auto-oembed-pause-other-on-play"),o=e.closest(l),a=o.data(d);return n&&f(i("#site")),a?(App.modules.notify("changeState.update",{item:o,state:"playing",action:"on"}),a.play()):a=u(o,!0),r.pd(t)},h=function(t,e){n=i(e.page.key()),o||p(n)},v=function(){a(n),n=i(),c=[]},y=function(){o=!1,p(e)},w=function(t,e){e.ctn&&p(e.ctn)},A=function(t,e){a(n),e.article&&p(e.article)};App.modules.exports("auto-oembed",{init:function(){e.on(App.device.events.click,".js-auto-oembed-play",g)},actions:function(){return{page:{enter:h,leaving:v},site:{loaded:y},infiniteScroll:{pageLoaded:w},articleChanger:{enter:A},autoOembed:{pauseAll:m}}}})}(jQuery,window),function(t,e){"use strict";var n=jQuery("#site");App.modules.exports("auto-print",{init:function(){n.on(App.device.events.click,".js-auto-print",function(t){return setTimeout(window.print,10),window.pd(t)})}})}(),function(a,t){"use strict";a(window);var e,n,o=function(){App.mediator.notifyCurrentPage("autoRatio.resizeCompleted")},i=function(t,e){t.each(function(){var t,e=a(this),n=function(t){if(!t)return 1;var e=t.toString().split(/[:\/]/i);return e.length?1===e.length?parseFloat(e[0]):2===e.length?parseInt(e[0],10)/(parseInt(e[1],10)||1):-1:1}(e.attr("data-auto-ratio")),o=e.attr("data-auto-ratio-property")||"height";t="width"==o||"max-width"==o?e.height():e.width(),t=~~Math.floor(t/n),e.css(o,t+"px"),a("img[data-src-format]",e).jitImage()}),App.callback(e)},r=function(){i(a("*[data-auto-ratio]",a("> .page:visible",n)),o)},c=function(){r()},s=function(t,e){e&&e.elements?i(e.elements,e.callback?e.callback:o):r()};App.modules.exports("auto-ratio-size",{init:function(){e=a("#site"),n=a("#site-pages",e),r()},actions:function(){return{site:{resize:r},page:{enter:c},autoRatioSize:{update:s},articleChanger:{enter:c}}}})}(jQuery),function(A,t){"use strict";var b=A(window),e=A("#site"),n=0,k={all:!0,desktop:!App.device.mobile,tablette:App.device.tablet,mobile:App.device.mobile,phone:A.phone},o=function(){var t,e,n,o,a,i,r,c=A(this),s=b.width(),l=c.attr("data-height-ratio")||1,d=c.attr("data-height-property")||"minHeight",u=function(t){var n=0;if(t){var e=t.split(",");A.each(e,function(t,e){n+=A(e).height()})}return n}(c.attr("data-height-offset")),p=(b.height()-u)*l,f=function(t){var n=!1;if(t){var e=t.split(",");A.each(e,function(t,e){k[e]&&(n=!0)})}return n}(c.attr("data-screen-height-platform")||"all"),m=parseInt(c.attr("data-screen-height-min-width"),10)||0,g=parseInt(c.attr("data-screen-height-max-width"),10)||0,h=c.attr("data-screen-height-use-media-query"),v=c.attr("data-screen-height-jitimage")||!0,y=(n="",a=0!==(e=g),(o=0!==(t=m))&&(n="(min-width: "+t+"px)"),o&&a&&(n+=" and "),a&&(n+="(max-width: "+e+"px)"),n),w=(r=!0,(i=h)&&i.length&&(r="true"===i),!!window.matchMedia&&r);f&&!w&&m<s&&(0===g||s<g)?c.css(d,p):f&&w&&(0===y.length||window.matchMedia(y).matches)?c.css(d,p):c.css(d,""),v&&A("img[data-src-format]",c).jitImage()},a=function(t){(App.device.mobile&&120<Math.abs(n-b.height())||!App.device.mobile)&&(e.filter(".js-auto-screen-height").add(A(".js-auto-screen-height",e)).each(o),n=b.height())},i=function(){n=0,a(),App.device.mobile&&(n=b.height()),setTimeout(a,100)};App.modules.exports("auto-screen-height",{init:function(){a(),App.device.mobile&&(n=b.height())},actions:function(){return{site:{resize:a},page:{enter:i},autoScreenHeight:{update:a},articleChanger:{entering:a}}}})}(jQuery),function(i,t){"use strict";i(window);var r=i("html"),c=i("#site"),n=!0,o=function(t,e){var n=1<window.location.href.split("#").length?window.location.href.split("#")[1]:"",o=n?c.find("#"+n):i(),a=e.noDuration?0:500;o.length&&r.velocity("scroll",{duration:a,offset:o.offset().top+"px",mobileHA:!1})},e=function(t,e){n?n=!1:o()};App.modules.exports("auto-scroll-to-id-on-load",{actions:function(){return{page:{enter:e},articleChanger:{enter:o},siteLoader:{finishing:o}}}})}(jQuery),function(l,t){"use strict";l(window);var d=l("#site"),e=function(t){var e=l(this),n=e.attr("href").split("#")[1],o=null,a=l("html"),i=e.attr("data-scroll-to-id-offset-selector"),r=0,c=e.attr("data-scroll-to-id-scroll-ctn");(c&&(o=e.closest(".page").find(c)),i)&&(r=-1*l(i).eq(0).height());var s=d.find("#"+n);if(s.length)return r+=s.offset().top,a.velocity("scroll",{offset:r+"px",mobileHA:!1,container:o}),e.sendClickEvent({cat:e.attr("data-ga-cat")||"Scroll to top",event:t}),window.pd(t)};App.modules.exports("auto-scroll-to-id",{init:function(){d.on(App.device.events.click,".js-scroll-to-id-button",e)}})}(jQuery),function(n,t){"use strict";n(window),n("#site");var o=function(t){var e;App.modules.notify("shareThis.applyButton",{service:t.attr("data-share-service")||"sharethis",title:t.attr("data-share-title")||document.title,url:t.attr("data-share-url")||(e=window.location,e.protocol+"//"+e.host+e.pathname),type:t.attr("data-share-type")||"large",element:t.eq(0)[0]})},e=function(t,e){n(".js-share-this-btn").each(function(){o(n(this))})},a={articleChanger:{enter:e},page:{enter:e}};App.modules.exports("autoShareThis",{init:function(){},actions:function(){return a}})}(jQuery),function(o,t,e){"use strict";o(window),o("html");var s=".js-auto-slide-click-item",a=".js-auto-slide-click-trigger",l=".js-auto-slide-click-slide",d="auto-slide-click",n=function(t,e){var n=e.item.closest(s);e.item.closest(".js-auto-slide-click").find(s).not(n).each(function(){var t=o(this),e=t.find(a),n=t.find(l);App.modules.notify("changeState.update",{item:e,state:d,action:"off"}),App.modules.notify("slide.update",{item:n,state:d,action:"up"})})},i=function(t,e){var n=e.trigger.closest(s),o=n.find(l),a=n.attr("data-auto-slide-click-min-width"),i=n.attr("data-auto-slide-click-max-width"),r=!!a&&window.mediaQueryMinWidth(a)||!a,c=!!i&&window.mediaQueryMaxWidth(i)||!i;r&&c&&(App.modules.notify("slide.update",{item:o,state:d,action:e.slideAction}),App.modules.notify("changeState.update",{item:e.trigger,state:d,action:e.triggerAction}))},r=function(t){var e=o(this);return i(0,{trigger:e,triggerAction:"toggle",slideAction:"toggle"}),window.pd(t)};App.modules.exports("auto-slide-click",{init:function(){o("#site").on(App.device.events.click,a,r)},actions:function(){return{autoSlideClick:{toggleOn:n,updateSlideState:i}}}})}(jQuery,window),function(l,t){"use strict";l(window);var e=l("#site"),d=function(t,e){return"height"==e?Math.floor(parseFloat(window.getComputedStyle(t[0]).height)):"outerHeight-full"==e?t.outerHeight(!0):"outerWidth-full"==e?t.outerWidth(!0):t[e]()},n=function(){e.find(".js-auto-sync-property").each(function(t,e){!function(t){var e=t.attr("data-sync-property");if(e){var n,o=t.attr("data-sync-property-from"),a=t.attr("data-sync-property-from-common-ancestor"),i=t.attr("data-sync-property-with"),r=t,c=null,s=t.attr("data-sync-property-aggregate");a&&(r="self"==a?t:t.closest(a)),r.length&&(c=r.find(o)),i||(i=e),c.length&&("sum"==s?(n=0,c.each(function(){n+=d(l(this),i)})):n="min"==s?_.reduce(c,function(t,e){var n=d(l(e),i);return n<t?n:t},d(c.first(),i)):"max"==s?_.reduce(c,function(t,e){var n=d(l(e),i);return t<n?n:t},0):d(c.first(),i),t.css(e,n))}}(l(this))})},o=function(){n()},a=function(){n(),setTimeout(n,50)};App.modules.exports("auto-sync-property",{init:function(){n()},actions:function(){return{site:{resize:o},page:{enter:a},articleChanger:{enter:a},autoSyncProperty:{update:n}}}})}(jQuery),function(s,t){"use strict";s(window);var e=s("#site"),r=function(t,e,n){var o,a,i,r=!1,c=App.routing.querystring.parse(window.location.search);s.each(n.split(","),function(t,e){var n=e.split("="),o=n[0],a=n[1];a.length?c[o]&&c[o]==a&&(r=!0):(c[o]&&0===c[o].length||!c[o])&&(r=!0)}),o=t,a=e,i=r,App.modules.notify("changeState.update",{item:o,state:a,action:i?"on":"off"})},n=function(){e.find(".js-auto-sync-state-from-qs").each(function(){var i=s(this),t=i.attr("data-sync-state-from-qs");if(t.length){var e=t.split(";");s.each(e,function(t,e){var n=e.split(":"),o=n[0],a=n[1];r(i,o,a)})}})},o=function(){n()};App.modules.exports("auto-sync-state-from-qs",{init:function(){n()},actions:function(){return{page:{fragmentChanged:o}}}})}(jQuery),function(m,t,e){"use strict";var g=m(window),h=g.height(),n=m("html"),v=n.height(),y=m("#site"),o=m(),a=(m(),"data-toggle-class-on-scroll-"),w=a+"ref-common-ancestor",A=a+"ref",b=a+"scroll-ctn",k=a+"element-offset",i=function(){v=n.height(),o.each(function(){var t=m(this),e=t.attr("data-toggle-class-on-scroll-add-before"),n=t.attr("data-toggle-class-on-scroll-rem-before"),o=t.attr("data-toggle-class-on-scroll-add-after"),a=t.attr("data-toggle-class-on-scroll-rem-after"),i=m(t.attr(A));t.attr(w)&&(i=t.closest(t.attr(w)).find(t.attr(A)));var r=i.length?i:t,c=t.attr("data-toggle-class-on-scroll-screen-offset")||0,s=g;t.attr(b)&&(s=t.closest(".page").find(t.attr(b)));var l=s.scrollTop();if(r.length){var d=function(){t.addClass(e),t.removeClass(n),App.mediator.notify("autoToggleClassOnScroll.executed",{item:t,trigger:"before",addedClass:e,removeClass:n})},u=r.offset().top,p=h*c,f=0;t.attr(k)&&y.find(t.attr(k)).each(function(){f+=m(this).outerHeight()}),(u-p-f<l||!i.length&&0!==l&&l===v-h&&l<=u)&&(d=function(){t.addClass(o),t.removeClass(a),App.mediator.notify("autoToggleClassOnScroll.executed",{item:t,trigger:"after",addedClass:o,removeClass:a})}),t.data("autoToggleClassOnScroll",d)}})},r=null,c=function(){window.craf(r),r=window.raf(function(){o.each(function(){var t=m(this);App.callback(t.data("autoToggleClassOnScroll"))})})},s=function(){h=Math.max(1,g.height()),v=Math.max(1,n.height())},l=function(){s(),i(),c()},d=function(){o=y.find(".js-auto-toggle-class-on-scroll")},u=function(t,e){m(e.page.key()),d(),s(),setTimeout(l,500)},p=function(t,e){},f=function(){d(),i(),c()};App.modules.exports("auto-toggle-class-on-scroll",{actions:function(){return{site:{scroll:i,postscroll:c,resize:l},page:{enter:u,leave:p},infiniteScroll:{pageLoaded:d},articleChanger:{enter:f},search:{complete:f}}}})}(jQuery,window),function(t,e,n){"use strict";var o=App.components.create("checkpoint-event",{category:"Lecture",checkPoints:[25,50,75,90,100]}),a=t(window),i=a.height(),r=t("body"),c=r.height(),s=c-i,l=function(){i=a.height(),c=r.height(),s=c-i},d=function(t,e){o.init(),App.callback(t),setTimeout(l,100)},u=function(t,e){o.reset(),App.callback(t)},p=function(){0<s&&o.track(a.scrollTop()/s*100)};App.modules.exports("auto-tracked-scroll",{actions:function(){return{page:{enter:d,leave:u},site:{scroll:p,resize:l,loaded:l},articleChanger:{enter:d}}}})}(jQuery,window),function(a,t){"use strict";a(window);var n=a("#site"),o=a(".page"),i=".js-auto-video",e=0,r=function(){var t=a(this).closest(".js-auto-video-ctn");t.find(i).each(function(){var t=a(this).data();t&&t.autoVideoComponent?t.autoVideoComponent.togglePlay():App.log("No auto-video-component found")})},c=function(t){var e=n.find(".js-auto-video-toggle-play");e.off(a.click,r),e.on(a.click,r),t.find(i).each(function(){var t,e,n,o;t=a(this),n=a.extend({},{},e),(o=App.components.create("video",n)).init(t),o.load(),t.data("autoVideoComponent",o)})},s=function(){window.craf(e),e=window.raf(function(){o.find(i).each(function(){var t=a(this).data();t&&t.autoVideoComponent&&t.autoVideoComponent.resize()})})},l=function(t,e){o=a(e.page.key()),c(o)},d=function(t,e){c(e.article)},u=function(t,e){e.canRemove&&o.find(i).each(function(){var t=a(this),e=(t.closest(".js-auto-video-ctn"),t.data());if(e&&e.autoVideoComponent){var n=e.autoVideoComponent;t.data("autoVideoComponent",null),n.destroy()}})},p=function(t){return a(this).closest(".js-auto-video-ctn").find(i).each(function(){var t=a(this).data();if(t&&t.autoVideoComponent){var e=t.autoVideoComponent;e.resize(),e.play()}else App.log("No autoVideoComponent found")}),window.pd(t)};App.modules.exports("auto-video",{init:function(){n.on(a.click,".js-auto-video-play",p)},actions:function(){return{page:{enter:l,leaving:u},articleChanger:{enter:d},site:{resize:s},video:{resize:s}}}})}(jQuery),function(o,t){"use strict";o.fn.extend({blankLink:function(){o(this).each(function(){var t=o(this),e=t.attr("href");e&&(/^https?:\/\//.test(e)||/^\/workspace/.test(e))&&(t.attr("target")?!t.attr("rel")&&o.inArray(t.attr("target"),["_blank","_top"])&&t.attr("rel","noopener"):(t.attr("target","_blank"),t.attr("rel","noopener")))})}});var a=o(".page"),i=function(t){t.find("a").blankLink()},e={page:{enter:function(t,e,n){a=o(e.page.key()),i(a)}},articleChanger:{enter:function(t,e){i(e.article)}}};App.modules.exports("blankLinkModule",{init:function(){o("a").blankLink()},actions:function(){return e}})}(jQuery),function(a,t){"use strict";a(window);var i={},r=a(),e=function(t,e,n){if(e.data){var o="";a(e.data).each(function(t,e){if(a(e).is("link")){var n=a(e);if(n.attr("rel")&&"canonical"==n.attr("rel"))return o=n.attr("href"),!0}}),e.url||(e.url=window.location.pathname),i[e.url]=o}},n=function(t,e,n){i[window.location.pathname]&&r.attr("href",i[window.location.pathname])};App.modules.exports("canonical-updater",{init:function(){var o="",t=a("link[rel=canonical][href]",document);0===t.length?App.log({args:["No canonical meta found."],fx:"warn"}):1!=t.length&&App.log({args:["Multiple canonical meta found."],fx:"error"}),t.each(function(t,e){var n=a(this);o=n.attr("href"),r=n}),i[window.location.pathname]=o},actions:function(){return{pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}}}})}(jQuery),function(f,t){"use strict";f(window);var m=function(t){return!!t&&!!t.length&&"polygon"==t[0].nodeName||"polyline"==t[0].nodeName||"path"==t[0].nodeName||"g"==t[0].nodeName||"circle"==t[0].nodeName||"rect"==t[0].nodeName||"text"==t[0].nodeName},c=function(n,o,a){var i="is-"+o,t=n.attr("data-"+o+"-state-add-class"),e=n.attr("data-"+o+"-state-rem-class"),r=n.attr("data-"+o+"-state-notify-on")||"",c=n.attr("data-"+o+"-state-notify-off")||"";a&&r.length?f.each(r.split(","),function(t,e){App.mediator.notify(e,{item:n,state:o,flag:a})}):!a&&c.length&&f.each(c.split(","),function(t,e){App.mediator.notify(e,{item:n,state:o,flag:a})});var s,l,d,u,p;m(n)?n[0].classList?a?(n[0].classList.add(t),n[0].classList.remove(e),n[0].classList.add(i)):(n[0].classList.remove(t),n[0].classList.add(e),n[0].classList.remove(i)):(d=[],u=n.attr("class").split(" "),p="",a?(l=[],e&&(l=e.split(" ")),t&&d.push(t.split(" ")),d.push(i),f.each(u,function(t,e){-1==l.indexOf(e)&&d.push(e)}),f.each(d,function(t,e){p+=" "+e})):(s=[],t&&(s=t.split(" ")),f.each(u,function(t,e){e!=i&&-1==s.indexOf(e)&&d.push(e)}),e&&d.push(e.split(" ")),f.each(d,function(t,e){p+=" "+e})),n.attr("class",p)):a?(n.addClass(t),n.removeClass(e),n.addClass(i)):(n.removeClass(t),n.addClass(e),n.removeClass(i))},s=function(t,e,n){var o=t.attr("data-"+e+"-state-follower-common-ancestor"),a=t.attr("data-"+e+"-state-follower"),i=t;o&&(i=t.closest(o));var r=i.find(a);App.modules.notify("changeState.begin",{item:t,state:e,flag:n}),c(t,e,n),r.each(function(){var t=f(this);s(t,e,n)}),App.modules.notify("changeState.end",{item:t,state:e,flag:n})},e=function(t,e){if(e&&e.item&&e.state&&e.action){var n=e.item.attr("data-"+e.state+"-state-min-width"),o=e.item.attr("data-"+e.state+"-state-max-width"),a=!!n&&window.mediaQueryMinWidth(n)||!n,i=!!o&&window.mediaQueryMaxWidth(o)||!o;a&&i&&function(t,e,n,o){var a="is-"+e,i=t.hasClass(a);o=o||{},m(t)&&(i=t[0].classList?t[0].classList.contains(a):-1!=t.attr("class").split(" ").indexOf(a));"toggle"==n?(s(t,e,!i),i?App.callback(o.off):App.callback(o.on)):"on"==n?i||(s(t,e,!0),App.callback(o.on)):"off"==n?i&&(s(t,e,!1),App.callback(o.off)):App.log("Action: "+n+" is not recognized: Actions available are : toggle, on or off")}(e.item,e.state,e.action,e.callbacks)}};App.modules.exports("change-state",{actions:function(){return{changeState:{update:e}}}})}(jQuery),function(o,c,t){"use strict";var s=/^\[email([\u0080-\u00FF ]+)protected\]$/i,e=function(){o('a[href^="/cdn-cgi/l/email-protection"]').each(function(t,e){try{var n=(e=o(e)).attr("data-cfemail");n||(n=e.attr("href").split("#")[1]),n&&-1!==n.indexOf("?")&&(n=n.split("?")[0]),n&&function(t,e){var n,o,a="",i=parseInt(t.substr(0,2),16);if(i){for(n=2;n<t.length;n+=2)o=parseInt(t.substr(n,2),16)^i,a+=String.fromCharCode(o);e.attr("href","mailto:"+a),e.find("script").remove();var r=e.find(".__cf_email__");r.length&&(e=r),s.test(c.trim(e.text()))&&e.text(a)}}(n,e)}catch(t){App.log(t)}})};App.modules.exports("cloudflare-email",{actions:function(){return{page:{enter:e},articleChanger:{enter:e}}}})}(jQuery,window.s,window),function(e,t,n){"use strict";App.modules.exports("defered-css",{actions:function(){return{site:{loaded:function(){e("link[data-href]").each(function(){var t=e(this);t.attr("href",t.attr("data-href"))})}}}}})}(jQuery,window),function(a,t){"use strict";var n=function(t,e){e&&e.elem.find(".fb-comments").each(function(t,e){var n=a(e),o=n.width();100<o&&n.attr("data-width",o).find(">span>iframe, >span:first-child").width(o)})},e=function(t,e){window.FB&&window.FB.XFBML&&(e=e||{},window.FB.XFBML.parse(e.elem||document,function(){n(0,{elem:e.elem||a(".page:visible",App.root())})}))};App.modules.exports("FB",{actions:function(){return{page:{enter:e},FB:{parse:e,resize:n},articleChanger:{enter:e},site:{loaded:e}}}})}(jQuery),function(n){"use strict";var o=function(t){var e=t.field,n=e.getCtn();n.hasClass("js-input-radio")&&(n=n.add(n.closest(".js-radio-list"))),window.updateState(n,!!e.value(),"active"),window.updateState(n,!e.isValid(),"error")},t=function(t,e){var n=e.field.getCtn();window.updateState(n,!0,"active")},e=function(t,e){o(e)},a=function(t,e){o(e),e.form.isValid()&&App.mediator.notify("formDyn.isValid",{form:e.form,ctn:e.ctn})},i=function(t,e){e.form.eachFields(function(t){window.updateState(t.getCtn(),!1,"active"),window.updateState(t.getCtn(),!1,"error")})},r=function(t,e){e.form.eachFields(function(t){window.updateState(t.getCtn(),!1,"error")}),n.each(e.results,function(t,e){e&&e.field&&window.updateState(e.field.getCtn(),!0,"active")})};App.modules.exports("form-dyn-input-states",{actions:function(){return{formDyn:{inputFocus:t,inputBlur:e,inputChange:a,reset:i,validationError:r}}}})}(jQuery),function(t){"use strict";var e=function(t,e){window.updateState(e.ctn,!0,"loading")},n=function(t,e){window.updateState(e.ctn,!1,"loading"),window.updateState(e.ctn,!0,"completed")},o=function(t,e){window.updateState(e.ctn,!1,"loading"),window.updateState(e.ctn,!1,"completed")};App.modules.exports("form-dyn-loading",{actions:function(){return{formDyn:{submitting:e,complete:n,reset:o}}}})}(jQuery),function(i){"use strict";var r=i("html"),c=".js-form-dyn-messages-ctn",s=".js-form-dyn-message",l=".js-form-dyn-message-template",d=function(t){t.length&&(App.modules.notify("changeState.update",{item:t,state:"visible",action:"off"}),t.empty())},n=function(t,e){var n=t.find(c),o=n.find(l).filter('[data-fx="'+e+'"]'),a=n.find(s);a.length&&(d(a),a.append(i(o.html())),a.outerHeight(),App.modules.notify("changeState.update",{item:a,state:"visible",action:"on"}),r.velocity("scroll",{offset:a.offset().top+"px",mobileHA:!1}))},t=function(t,e){n(e.ctn,"success")},e=function(t,e){n(e.ctn,"error")},o=function(t,e){n(e.ctn,"error")},a=function(t,e){e.ctn.find(c).each(function(){d(i(this).find(s))})};App.modules.exports("form-dyn-messages",{actions:function(){return{formDyn:{success:t,error:e,handleError:o,reset:a}}}})}(jQuery),function(t){"use strict";var n=5e3,e=function(t,e){setTimeout(function(){e.form.reset(),App.mediator.notify("formDyn.reset",{form:e.form,ctn:e.ctn,data:e.data})},n)};App.modules.exports("form-dyn-reset",{actions:function(){return{formDyn:{error:e,success:e}}}})}(jQuery),function(i,t,e){"use strict";var o=[],n=i(".page"),r=i(),a=i(".js-site-prefooter"),c=".js-form-dyn",s=".js-form",l=".js-form-btn-submit",d=".js-recaptcha",u={ignoreErrors:["mailchimp","pingback","email"]},p=function(t,e){i('[name="g-recaptcha-response"]').disable(),e.lastTarget.attr("data-prevent-submit")||e.lastTarget.closest(s).submit()},f=function(t){var e=parseInt(t.find(d).data("recaptcha-id")),n=t.data("component");n&&(App.mediator.notify("formDyn.reset",{ctn:t,form:n}),App.modules.notify("autoChangeStateInputs.reset",{scope:t}),n.enable(!0),n.reset(),r.removeAttr("disabled"),function(t){try{window.grecaptcha&&window.grecaptcha.reset(t)}catch(t){App.log(t)}}(e))},m=function(t){t.find(c).each(function(){f(i(this))})},g=function(t){window.pd(t);var e=i(this).closest(c),n=parseInt(e.find(d).data("recaptcha-id")),o=e.data("component");o.validate(),o.isValid()&&0<=n&&window.grecaptcha.execute(n)},h=function(t){t.find(c).each(function(t,e){var n=(e=i(e)).find(s),a=App.components.create("form",{root:e});a.init({enableOnComplete:!1,post:{submitting:function(){App.mediator.notify("formDyn.submitting",{ctn:e,form:a}),r.attr("disabled","")},complete:function(){App.mediator.notify("formDyn.complete",{ctn:e,form:a}),App.mediator.notify("recaptcha.forceUpdate")},error:function(t){App.mediator.notify("formDyn.error",{ctn:e,form:a,data:i()}),App.mediator.notify("recaptcha.forceUpdate",{ctn:e,form:a})},success:function(t){if("yes"===(t=i(t)).find("form-dyn result").attr("success")){var o=!1;t.find("form-dyn handlers > *").each(function(){var t=i(this),e=t.get(0).nodeName.toLowerCase(),n=0<=_.indexOf(u.ignoreErrors,e);if(t.attr("success")&&"no"===t.attr("success")&&!n)return!(o=!0)}),o?App.mediator.notify("formDyn.handleError",{ctn:e,form:a,data:t}):App.mediator.notify("formDyn.success",{ctn:e,form:a,data:t})}else App.mediator.notify("formDyn.error",{ctn:e,form:a,data:t});App.mediator.notify("recaptcha.forceUpdate",{ctn:e,form:a})}},fieldsOptions:{rules:{date:{datetime:{dateOnly:!0,message:n.attr("data-msg-date-invalid"),notValid:n.attr("data-msg-date-invalid")}},document:{format:{message:n.attr("data-msg-doc-invalid")}},image:{format:{message:n.attr("data-msg-img-invalid")}}},emptinessEvents:null,previewEvents:null,onFocus:function(t){App.mediator.notify("formDyn.inputFocus",_.assign({ctn:e,form:a},t))},onBlur:function(t){App.mediator.notify("formDyn.inputBlur",_.assign({ctn:e,form:a},t))},onKeyup:function(t){App.mediator.notify("formDyn.keyup",_.assign({ctn:e,form:a},t))},onChangeOrInput:function(t){App.mediator.notify("formDyn.inputChange",_.assign({ctn:e,form:a},t))},onInited:function(t){if(t.field.find(".js-date-picker").length){var e=t.field.find(".js-date-picker"),n="fr"==i("html").attr("lang")?"dd-mm-yy":"mm-dd-yy";e.datepicker(),e.datepicker("option","dateFormat",n)}}},onError:function(t){App.mediator.notify("formDyn.validationError",{results:t.results,ctn:e,form:a})},onBeforePost:function(t){var n=!1;return App.mediator.notify("recaptcha.execute",{ctn:e,form:a},function(t,e){n=e}),n}}),e.data("component",a),App.mediator.notify("formDyn.init",{form:a,ctn:e}),e.data("component",a),(r=e.find(l)).on(i.click,g),o.push(a)})},v=function(t,e){n=i(e.page.key()),h(n)},y=function(t,e){var n=i(e.article);h(n)},w=function(t,e){n=i(e.page.key()),m(n),m(a)},A=function(t,e){var n=i(e.article);m(n),m(a)};App.modules.exports("form-dyn",{init:function(){h(a)},actions:function(){return{page:{enter:v,leave:w},articleChanger:{enter:y,leave:A},recaptcha:{updated:p}}}})}(jQuery,window),function(n,t){"use strict";window.formatTwitter=function(){var t=n(this),e=t.html();"true"!==t.attr("data-formattwitter")&&(e=e.replace(/[a-z]+:\/\/([a-z0-9-_]+\.[a-z0-9-_:~\+#%&\?\/.=^>^<]+[^:\.,\)\s*$])/gi,function(t,e){return'<a title="'+t+'" href="'+t+'" target="_blank" rel="noopener">'+(36<e.length?e.substr(0,35)+"&hellip;":e)+"</a>"}),e=e.replace(/(^|[^\w]+)\@([a-zA-Z0-9_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ]{1,15}(\/[a-zA-Z0-9-_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ]+)*)/gi,function(t,e,n){return e+'<a href="http://twitter.com/'+n+'" target="_blank" rel="noopener">@'+n+"</a>"}),e=e.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_àáâãäåçèéêëìíîïðòóôõöùúûüýÿ^"^<^>]+)/gi,function(t,e,n){return'"'===t.substr(-1)||"<"==t.substr(-1)?t:e+'<a href="https://twitter.com/search?q=%23'+n+'&src=hash" target="_blank rel="noopener"">#'+n+"</a>"}),t.html(e),t.attr("data-formattwitter","true"))}}(jQuery),function(t,e){"use strict";var n=t(document),o="keyboard-nav",a="keydown",i="tabindex",r=t("html"),c=function(t){t.which===window.keys.tab&&(r.addClass(o),n.off(a,c).one("click",s),App.mediator.notify("keyboardNav.enabled"))},s=function(t){r.removeClass(o),n.on(a,c),App.mediator.notify("keyboardNav.disabled")},l=function(t,e){if(e&&e.item&&e.item.is(".js-focusable")){var n=e.item.add(e.item.find(".js-focusable-child"));"after"===e.trigger?n.removeAttr(i):n.attr(i,"-1")}};App.modules.exports("keyboard-nav",{init:function(){n.on(a,c)},actions:function(){return{autoToggleClassOnScroll:{executed:l}}}})}(jQuery),function(s,t){"use strict";var e=window.location,l=e.origin||e.protocol+"//"+e.hostname,o=new RegExp("^"+l,"i"),a=function(){var t=s("html"),e=t.attr("lang");if(!e)return null;var n=t.attr("data-all-langs");if(!n)return null;return _.map(_.filter(n.split(","),function(t){return!!t&&t!==e}),function(t){return new RegExp("^/"+t+"/.*$","i")})}(),i=function(t,e){if(!App.mediator._currentPage())return!0;var n=t.attr("href");return void 0===n||(!!/^(mailto|skype|tel|fax|ftps?|#)/im.test(n)||!(!e.metaKey&&!e.ctrlKey))},d=function(t){var e=s(this),n=e.attr("href");return!!i(e,t)||(/^\?.+/.test(n)&&(n=window.location.pathname+n),o.test(n)&&(n=n.replace(o,"")),!(!a||!_.some(_.map(a,function(t){return t.test(n)})))||(App.mediator.notify("links.gotoClicked",{item:e,url:n}),App.mediator.goto(n),window.pd(t)))},u=function(t){var e=s(this),n=e.attr("href"),o=e.attr("data-toggle-fallback-url");return!!i(e,t)||(App.mediator.notify("links.toggleClicked",{item:e,url:n,fallback:o}),App.mediator.toggle(n,o),window.pd(t))};App.modules.exports("links",{init:function(){var t=':not([href^="/workspace"])',e=':not([data-action="full"]):not([data-action="toggle"]):not([data-action="none"])',n='a[href^="'+l+'"]',o=':not(a[href^="'+l+'/workspace"])',a='[data-action="toggle"]',i='a[href^="/"]',r='a[href^="?"]',c=App.device.events.click;s("#site").on(c,i+t+e,d).on(c,r+t+e,d).on(c,n+e+o,d).on(c,i+a,u).on(c,r+a,u)}})}(jQuery),function(n,t){"use strict";n(window),n("#site");var o="is-loading",e=function(t,e){n(e.item).length&&e.url&&!e.item.hasClass(o)&&(e.item.addClass(o),Loader.load({url:e.url,success:function(){e.item.removeClass(o).addClass("is-loaded"),App.callback(e.successCallback)},error:function(){e.item.removeClass(o),App.console.log("Error loading async")},giveup:function(t){e.item.removeClass(o),App.console.log("Gave up loading async")}}))};App.modules.exports("load-async",{actions:function(){return{loadAsync:{load:e}}}})}(jQuery),function(r,t,e){"use strict";var c=function(){return!!window.DM&&window.DM.player};App.modules.exports("oembed-dm",{init:function(){var n;App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var t=r.extend({},n,{getIframe:function(o,a,i){App.loaded(c,function(t){var e=0<o.indexOf("/video/")?o.substring(o.indexOf("/video/")+7,o.indexOf("_")):o.substring(o.lastIndexOf("/")),n=r("<div/>");a=void 0!==a?a:1,i.append(n),this.playerInstance=t(n.get(0),{video:e,height:"100%",width:"100%",params:{autoplay:a,logo:0,info:0,background:"181818",highlight:"b4b4b4",api:1,html:1}})})},play:function(t){this.playerInstance.play()},pause:function(t){this.playerInstance.pause()}});App.modules.notify("oembed.providers.register",{key:"Dailymotion",provider:t})}})}(jQuery,window),function(t,e,n){"use strict";var a=function(){return!!window.FB&&window.FB.XFBML};App.modules.exports("oembed-fb",{init:function(){var n;t("#fb-root").length||App.log({fx:"error",args:'The FB SDK requires <div id="fb-root"></div> in the body'}),App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var o=t.extend({},n,{embed:function(e,t){App.loaded(a,function(t){t.parse(e.get(0)||document,function(){App.callback(o.ready)})})}});App.modules.notify("oembed.providers.register",{key:"Facebook",provider:o})}})}(jQuery,window),function(e,t,n){"use strict";var a=function(){return!!window.instgrm&&window.instgrm.Embeds};App.modules.exports("oembed-ig",{init:function(){var o;App.modules.notify("oembed.providers.abstract",function(t,e){o=e});var t=e.extend({},o,{embed:function(t,e){var n=o.getTemplateContent(t);return n&&t.html(n),App.loaded(a,function(t){t.process()}),n?t.children():void 0}});App.modules.notify("oembed.providers.register",{key:"Instagram",provider:t})}})}(jQuery,window),function(e,t,n){"use strict";App.modules.exports("oembed-sc",{init:function(){var o;App.modules.notify("oembed.providers.abstract",function(t,e){o=e});var t=e.extend({},o,{embed:function(t,e){var n=o.getTemplateContent(t);return t.html(n),t.children()}});App.modules.notify("oembed.providers.register",{key:"Soundcloud",provider:t})}})}(jQuery,window),function(a,t,e){"use strict";var i=function(){return!!window.twttr&&window.twttr.widgets};App.modules.exports("oembed-tw",{init:function(){var n;App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var t=a.extend({},n,{embed:function(t,e){var n=t.find(".js-oembed-script"),o=a(a(n.contents()).text());t.append(o),App.loaded(i,function(t){t.load(o.get(0)||document)})}});App.modules.notify("oembed.providers.register",{key:"Twitter",provider:t})}})}(jQuery,window),function(a,o,t){"use strict";var r=function(){return o.$f};App.modules.exports("oembed-vm",{init:function(){var i;App.modules.notify("oembed.providers.abstract",function(t,e){i=e});var t=a.extend({},i,{getIframe:function(t,e,n,o,a){return e=void 0!==e?e:1,n=void 0!==n?n:1,i.getIframe().attr("src","//player.vimeo.com/video/"+t+"?autoplay="+e+"&loop="+n+"&api=1&html5=1&rel="+o+(a||""))},ready:function(n,o){App.loaded(r,function(t){var e=t(a("iframe",n).get(0));e.addEvent("ready",function(){n.attr("data-volume")&&e.api("setVolume",parseInt(n.attr("data-volume"),10)),App.callback(o,[e])})})},play:function(e){App.loaded(r,function(t){t(a("iframe",e).get(0)).api("play")})},pause:function(e){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).api("pause")})},progress:function(e,n){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).addEvent("playProgress",function(t){App.callback(n,[100*t.percent])})})},finish:function(e,n){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).addEvent("finish",function(){App.callback(n,{container:e})})})},volume:function(e,n){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).api("setVolume",n)})}});App.modules.notify("oembed.providers.register",{key:"Vimeo",provider:t})}})}(jQuery,window),function(t,i,e){"use strict";var d=function(){return!!i.YT&&i.YT.Player};App.modules.exports("oembed-yt",{init:function(){var s;App.modules.notify("oembed.providers.abstract",function(t,e){s=e});var l=t.extend({},s,{getIframe:function(t,e,n,o,a){var i=0<t.indexOf("v=")?t.match(/v=([^\&]+)/im)[1]:t.substring(t.lastIndexOf("/")),r=void 0!==e?e:1,c=s.getIframe().attr("id","youtube-player-"+i).attr("src","//www.youtube.com/embed/"+i+"?feature=oembed&autoplay="+r+"&enablejsapi=1&version=3&html5=1&rel="+o+(a||""));return App.loaded(d,function(t){l.ytplayer=new t(c.get(0))}),c},playerLoaded:function(){return l.ytplayer&&l.ytplayer.playVideo},ready:function(t,e){App.loaded(d,function(t){App.callback(e,[t])})},play:function(t){App.loaded(d,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.playVideo()})})},pause:function(t){App.loaded(d,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.pauseVideo()})})},progress:function(t,n){var o=0,a=function(){if(clearTimeout(o),l.ytplayer){var t=l.ytplayer.getDuration(),e=l.ytplayer.getCurrentTime();App.callback(n,[Math.max(0,e/t*100||0)])}o=setTimeout(a,2e3)},e=function(t){t.data===i.YT.PlayerState.PLAYING?a():(clearTimeout(o),o=0)};App.loaded(d,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.addEventListener("onStateChange",e)})})},finish:function(e,n){var o=function(t){t.data===i.YT.PlayerState.ENDED&&App.callback(n,{container:e})};App.loaded(d,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.addEventListener("onStateChange",o)})})}});App.modules.notify("oembed.providers.register",{key:"YouTube",provider:l})}})}(jQuery,window),function(t,e){"use strict";var n=function(t,e){e&&e.url?window.location=e.url:window.location=window.location};App.modules.exports("page-load-errors",{actions:function(){return{pages:{failedtoparse:function(t,e){},loaderror:function(t,e){},loadfatalerror:function(t,e){n(0,e)}},articleChanger:{loaderror:function(t,e){n(0,e)}}}}})}(jQuery),function(t,e){"use strict";var n="page-loading",o="show",a=t(),i=t(),r=!1,c=0,s=0,l=0,d=function(t){return~~(100*t)+"%"},u=function(t){if(clearTimeout(l),r){var e=s+.05;s=Math.max(e,t||s),s=Math.min(s,1),i.width(d(s)),!t&&s<.95&&(l=setTimeout(u,150))}App.log({args:["Progress %s %s",t||"timer",s],me:"page-load"})},p=function(){clearTimeout(c),s=.3,i.removeClass("end").removeClass(o).removeClass("start").width(d(0)).height(),i.addClass("start").addClass(o).width(d(s)).height(),a.addClass(n),r=!0,App.log({args:"Start",me:"page-load"}),setTimeout(u,300)},f=function(){i.addClass("end").width("100%"),r=!1,c=setTimeout(function(){i.removeClass(o),a.removeClass(n)},500),App.log({args:"End",me:"page-load"})},m=function(t,e){u(e.percent)};App.modules.exports("page-load",{init:function(){a=t("html"),i=t("#load-progress")},actions:function(){return{pageLoad:{start:p,progress:m,end:f},pages:{loading:p,loadfatalerror:f,loadprogress:m,loaded:f,notfound:f}}}})}(jQuery),function(t,e){"use strict";App.modules.exports("page-not-found",{actions:function(){return{pages:{notfound:function(t,e){e&&e.url&&e.url!==window.location.pathname&&(window.location=e.url)}}}}})}(jQuery),function(i,t){"use strict";var r="popup-poped",c=".js-popup-bg",s=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe, object, embed","[tabindex], [contenteditable]"].join(","),l=function(e){return i(s).filter(function(){var t=i(this);return!t.closest(e).length||t.is(c)})},d=function(t,e){var n=i(e),o=n.data("acc-tabindex");o?n.attr("tabindex",o):n.removeAttr("tabindex")},u=function(t){t.which===window.keys.escape&&i(this).find(".js-popup-close-btn").click()},e=function(t,e){var n=i(e),o=n.attr("tabindex");"-1"!==o&&(n.data("acc-tabindex",o||void 0),n.attr("tabindex","-1"))},p=function(t){t&&t.length&&(l(t).each(e),t.find(s).each(d),t.on("keyup",u))},f=function(t,e){e.addClass("noanim"),App.modules.notify("changeState.update",{item:e,action:t,state:r}),e.height(),e.removeClass("noanim")},m=function(t,e){App.modules.notify("changeState.update",{item:e,action:t,state:r})},n=function(t,e){var n=i(e.popup),o=n.find(c),a=n.hasClass("is-"+r);f("off",n),App.callback(e.openCallback),a||(i.removeFromTransition(o.selector),o.transitionEnd(function(){App.callback(e.openedCallback,[{popup:n}])}),m("on",n),p(n))},o=function(t,e){var n,o=i(e.popup),a=o.find(c);o.hasClass("is-"+r)&&(i.removeFromTransition(a.selector),a.transitionEnd(function(){o.filter("[data-popup-reset-on-close]").length&&f("on",o),App.callback(e.closeCallback,[{popup:o}])}),m("off",o),(n=o)&&n.length&&(l(n).each(d),n.find(s).each(d),n.off("keyup",u)))},a=function(t,e){i(e.popup).hasClass("is-"+r)?o(0,e):n(0,e)};App.modules.exports("popup",{actions:function(){return{popup:{open:n,close:o,toggle:a}}},init:function(){p(i(".js-popup"))}})}(jQuery),function(i,t){"use strict";i(window);var r={},o=".js-rate-it",a=App.debug()?3e3:1e4,c=i(),s=0,l=function(){var t=c.attr("data-rating-url");if(t){var e=window.location.pathname;if(!r[e]){var n=window.location.protocol+"//"+window.location.hostname+e,o={"fields[0][key]":n,"fields[0][tag]":"","action[rate]":""},a=(c.attr("data-rating-categories")||"").split(",");i.each(a,function(t,e){e&&(o["fields["+ ++t+"][key]"]=n,o["fields["+t+"][tag]"]=e)}),r[e]=!0,window.Loader.load({url:t,type:"POST",data:o,error:function(t){App.log(t),r[e]=!1},success:function(){r[e]=!0}})}}},e=function(t,e,n){c=e.page?i(e.page.key()).find(o):e.article?i(e.article).find(o):i(),clearTimeout(s),s=setTimeout(l,a)},n={page:{enter:e},articleChanger:{enter:e}};App.modules.exports("rating",{actions:function(){return n}})}(jQuery),function(o,t){"use strict";o(window);var a=".js-recommend-ctn",i=App.debug()?1e3:3e3,r=o(),c=0,s=window.location.protocol+"//"+window.location.host,l=function(t){return o.isArray(t)?t:[t]},e=App.components.create("algolia-search",{resultsCtnSelector:".js-recommend-results",resultsContentSelector:".js-recommend-content",resultsItemTemplateSelector:".js-recommend-template",algoliaAttributesToRetrieve:["title","url","hightlightedContent","category","categoryHandle","categoryUrl","img","imgJitFormat","imgSrc","rating","whitelist","blacklist"].join(","),algoliaAttributesToHighlight:"",gaCat:null,recommendCallback:function(t,e,n,o){e.nbHits||App.debug()||t.closest(a).remove(),App.modules.notify("recommendations.searchCompleted")},onCreateResultsTemplatingObject:function(t){var e=t.category?l(t.category):[],n=t.categoryHandle?l(t.categoryHandle):[],o=t.categoryUrl;return{title:t.title?t.title:"",url:t.url.replace(s,""),links:o?_.map(e,function(t,e){return{url:o+n[e],value:t}}):[],date:t.date?t.date:"",author:t.author?t.author:"",img:t.img?t.img:"",imgSrc:t.imgSrc?t.imgSrc:"",imgJitFormat:t.imgJitFormat?t.imgJitFormat:""}}}),d=function(){var t=_.filter((r.attr("data-recommend-categories")||"").split(","));e.init(r),e.recommend(t,"data-recommend-group")},n=function(t,e,n){r=e.page?o(e.page.key).find(a):e.article?o(e.article).find(a):o(),clearTimeout(c),c=setTimeout(d,i)},u={page:{enter:n},articleChanger:{enter:n}};App.modules.exports("recommendations",{actions:function(){return u}})}(jQuery),function(t,e){"use strict";App.modules.exports("route-not-found",{actions:function(){return{pages:{routeNotFound:function(t,e){e&&e.url&&e.url!==window.location.pathname&&(window.location=e.url)}}}}})}(jQuery),function(t,e){"use strict";t(window),t("#site-loader"),t("html");var n=function(t){var e=new RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))},o=function(){var t=n("gclid");if(t){var e=n("gclsrc");e&&-1===e.indexOf("aw")||function(t,e,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var a="; expires="+o.toGMTString();document.cookie=t+"="+e+a+";path=/"}("gclid",t,90)}},a=function(t,e){var n=new RegExp("(?:^|;\\s*)gclid=([^;]*)").exec(document.cookie);if(n){var o=n[1]?n[1]:"";e.input&&e.input.attr("value",o)}};App.modules.exports("salesforce-adwords",{init:function(){o()},actions:function(){return{salesforceAdwords:{setId:a}}}})}(jQuery),function(c,t){"use strict";c(window),c("#site");var e={shareThis:{applyButton:function(t,e,n){var o=window.location,a=o.protocol+"//"+o.host+o.pathname,i={service:"sharethis",title:document.title,url:a,type:"large"},r=c.extend(i,e);r.element&&window.stWidget&&window.stWidget.addEntry(r),c(r.element).on(App.device.events.click,function(t){return window.pd(t,!1)})}}};App.modules.exports("shareThis",{init:function(){},actions:function(){return e}})}(jQuery),function(i,t,e){"use strict";var r=t.onerror;t.onerror=function(t,e,n,o,a){return t=t||"",e&&(t+=" "+e),n&&(t+=" line "+n),o&&(t+=" col "+o),a&&a.stack&&(t+=" col "+a.stack),i.sendEvent("error",t),App.callback(r,t,e,n,o,a)},i(document).ajaxError(function(t,e,n){i.sendEvent("error ajax",n.url,t.result)})}(jQuery,window),function(t,e){"use strict";t(window);var n=t(".js-site-loader"),o=function(){t("html").removeClass("block-scroll"),App.modules.notify("siteLoader.finishing",{noDuration:!0})},a=function(){n.remove(),App.modules.notify("siteLoader.finished")},i=function(){App.modules.notify("siteLoader.closing"),n.length&&(t(".js-site-loader-close-ended-anim-ref").transitionEnd(a),App.modules.notify("changeState.update",{item:n,state:"close",action:"on"}),o())},r=function(){App.modules.notify("siteLoader.pageLoaded"),n.length&&setTimeout(i,1e3)};App.modules.exports("site-loader",{init:function(){App.modules.notify("siteLoader.initing"),App.debug()?(App.modules.notify("siteLoader.closing"),o(),a()):setTimeout(i,9500)},actions:function(){return{site:{loaded:r}}}})}(jQuery),function(a,t){"use strict";var i=".js-site-nav-link",r=a("#site"),e=function(t,e){var n,o;a(e.page.key());n=e.page.key().substring(1),o=r.find(i+".btn-"+n),r.find(i+".is-selected").not(o).each(function(){var t=a(this);App.modules.notify("changeState.update",{item:t,state:"selected",action:"off"})}),o.each(function(){var t=a(this);App.modules.notify("changeState.update",{item:t,state:"selected",action:"on"})})};App.modules.exports("site-nav-link-selector",{actions:function(){return{page:{entering:e}}}})}(jQuery),function(n,t){"use strict";var e=n(window),o=n("#site"),a=!1,i=null,r=function(t,e){i=e,a=!0},c=function(){var t;a&&(a=!1,(t=i).state.scrollPos&&(e.scrollTop(t.state.scrollPos),App.mediator.notify("site.scroll"),App.mediator.notify("site.postscroll")))};App.modules.exports("siteScrollKeeper",{init:function(){history.scrollRestoration&&(history.scrollRestoration="manual"),o.on(n.click,"a[href^='#']",function(t){var e=window.location.pathname+window.location.search;return e+=n(this).attr("href"),App.mediator.goto(e),window.pd(t)})},actions:function(){return{history:{popState:r},page:{enter:c},articleChanger:{enter:c}}}})}(jQuery),function(f,t){"use strict";var e=f(window),n=f("html"),m=".js-scrolling-zone",g=".js-scrolling-zone-content",o=function(t){f(".js-fix-scroll-pad").css({paddingRight:t||""}),f(".js-fix-scroll-right").css({right:t||""}),f(".js-fix-scroll-margin").css({marginRight:t||""})},a={ArrowDown:!0,ArrowUp:!0,End:!0,Home:!0,PageDown:!0,PageUp:!0},i=function(t){var e,n,o,a=f(t.target).closest(m),i=!1;if(0<a.length){var r=a.height()||0,c=a.find(g),s=c.height()||0,l=a.offset().top,d=s-r,u=-(c.offset().top-l),p=(n=null,o=!1,(e=t).wheelDelta?n=e.wheelDelta/60:e.detail&&(n=-e.detail/2),null!==n&&(o=0<n?"up":"down"),o);(d<=0||"down"===p&&u===d||"up"===p&&0===u)&&(i=!0)}else i=!0;i&&((t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1)},r=function(t){if(a[t.key])return i(t),!1},c={preventEvent:{add:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",i,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null},remove:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",i,!1),window.onwheel=i,window.onmousewheel=document.onmousewheel=i,window.ontouchmove=i,document.onkeydown=r}},hideOverflow:{add:function(){n.removeClass("no-scroll"),o(0)},remove:function(){if(!n.hasClass("no-scroll")){var t=e.width();n.addClass("no-scroll"),o(e.width()-t)}}}},s=function(t){return t&&t.strategy?t.strategy:"hideOverflow"},l=function(t,e){c[s(e)].add()},d=function(t,e){c[s(e)].remove()};App.modules.exports("siteScroll",{actions:function(){return{site:{removeScroll:d,addScroll:l}}}})}(jQuery),function(t,e){"use strict";jQuery(window);var n=function(t,e){if(e&&e.item&&e.state&&e.action){var n=e.item.attr("data-"+e.state+"-state-min-width"),o=e.item.attr("data-"+e.state+"-state-max-width"),a=!!n&&window.mediaQueryMinWidth(n)||!n,i=!!o&&window.mediaQueryMaxWidth(o)||!o;a&&i&&function(t,e,n,o){var a="is-"+e,i=t.hasClass(a),r=t.attr("data-"+e+"-state-slide-duration")||300,c=t.attr("data-"+e+"-state-notify-on-callback");if(o=o||{},"toggle"===n){App.modules.notify("changeState.update",{item:t,state:e,action:"toggle"});var s=i?"slideUp":"slideDown";t.stop(!0,!1)[s](r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""}),"slideDown"===s&&c&&App.mediator.notify(c,{item:t})})}else"up"===n?i&&(App.modules.notify("changeState.update",{item:t,state:e,action:"off"}),t.stop(!0,!1).slideUp(r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""})})):"down"===n?i||(App.modules.notify("changeState.update",{item:t,state:e,action:"on"}),t.stop(!0,!1).slideDown(r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""}),App.mediator.notify(c,{item:t})})):App.log("Action: "+n+" is not recognized: Actions available are : toggle, up, down")}(e.item,e.state,e.action,e.callbacks)}};App.modules.exports("slide",{actions:function(){return{slide:{update:n}}}})}(),function(o,t){"use strict";var a=o(".js-tab-reset"),i=o(),r=function(t){t.focus()},e=function(t,e){var n=o(e.page.key());n.hasClass("js-tab-reset-alt")?(i=o(document.activeElement),r(n)):(i.length&&i.is(":visible")?r(i):r(a),i=o())};App.modules.exports("tab-navigation",{actions:function(){return{page:{enter:e}}}})}(jQuery),function(a,t){"use strict";a(window),a("title",document);var i={},e=function(t,e,n){if(e.data){var o="";a(e.data).each(function(t,e){if(a(e).is("title"))return o=a(e).text(),!0}),e.url||(e.url=window.location.pathname),i[e.url]=o}},n=function(t,e,n){i[window.location.pathname]&&(document.title=i[window.location.pathname])},o={pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}};App.modules.exports("titleUpdater",{init:function(){i[window.location.pathname]=a("title").text()},actions:function(){return o}})}(jQuery),function(o,t){"use strict";var e=function(t,e,n){App.mediator.goto("/"+o("html").attr("lang")+"/")};App.modules.exports("toggleNoPreviousUrl",{init:function(){},actions:function(){return{page:{toggleNoPreviousUrl:e}}}})}(jQuery),function(r,t){"use strict";var o=[],i="",c=function(t,e){var n=t.currentPage,o=t.nextPage,a=r(o.key()),i=r(n.key());App.modules.notify("page.leaving",{page:n}),n.leave(t.leaveCurrent),App.modules.notify("page.entering",{page:o,route:t.route}),a.css({opacity:1,display:"block"}),i.css({display:"none"}),o.enter(t.enterNext),App.callback(e)},a=function(t){},s=function(t){for(var e=0;e<o.length;e++){var n=o[e];if(!(n.from!==t.currentPage.key().substring(1)&&"*"!==n.from||n.to!==t.nextPage.key().substring(1)&&"*"!==n.to)&&n.canAnimate(t))return n}},e=function(t,e){var n=a,o=s(e);o&&(n=o.beginTransition),i=e.nextPage.key().substring(1),n(e)},n=function(t,e,n){var o=c,a=s(e);a&&(o=a.transition),o(e,function(){i=""}),e.isHandled=!0};App.modules.exports("pageTransitionAnimation",{actions:function(){return{pages:{requestPageTransition:n,requestBeginPageTransition:e},pageTransitionAnimation:{getTargetPage:function(t,e,n){e||(e={result:{}}),e.result||(e.result={}),e.result.pageTransitionAnimation={},e.result.pageTransitionAnimation.target=i}}}}});window.App=r.extend(window.App,{transitions:{exports:function(t){var e=r.extend({from:"*",to:"*",beginTransition:a,transition:c,canAnimate:function(){return!0}},t);"*"===e.from&&"*"===e.to?(c=e.transition,a=e.beginTransition):o.push(e)}}})}(jQuery),function(n,t){"use strict";n(window);var e=function(t,e){e&&e.item&&n.removeFromTransition(e.item.selector)},o=function(t,e){if(e&&e.item){var n=e.item.attr("data-transitionEnd-notify");n&&n.length&&e.item.transitionEnd(function(){App.mediator.notify(n,{item:e.item})})}};App.modules.exports("transitionEnd-notify",{actions:function(){return{transitionEndNotify:{attach:o,cancel:e}}}})}(jQuery),function(l,t){"use strict";var i="",r="",c="",d="",u={},s=!1,p=!1,a=["fr","en"],f=function(){var t=d.indexOf("?");u=-1<t?App.routing.querystring.parse(d.substring(t)):{}},e=function(t,e){var n={scrollPos:l(window).scrollTop()};window.history.replaceState(l.extend({},n,e.data),e.title,e.url)},n=function(){s||e(0,{title:document.title,url:r+d})},m=function(t){history.pushState({},document.title,t)},g=function(){m(r+d)},h=function(t){var n,o,e=t.page.routes()[0];return 1<t.page.routes().length&&(e=t.page.routes()[(n=l("body"),o=0,l.each(a,function(t,e){if(n.hasClass(e))return o=t,!1}),o)]),e},v=function(e,n){var t=e?e.indexOf("*"):-1;return-1<t?(e=e.substring(0,t),n.length>e.length?(d=n.substring(t),f()):(d="",u={})):function(){if(n.length>e.length){var t=n[e.length];"#"!==t&&"?"!==t||(d=n.substring(e.length),f())}else d="",u={}}(),e},o=function(t,e,n){var o,a=v(h(e),e.route);r!=a&&(o=a,""===r?p=!0:(s||m(o+d),s=!1),r=a,c=e.route,i=e.page.key())},y=function(t,e,n){var o=!1;if(p){var a=window.location.href,i=window.location.protocol+"//"+window.location.host+r;d=a.substring(i.length),App.mediator.notify("page.fragmentChanged",d,function(){o=!0})}o||l.sendPageView({page:e.route})},w=function(t,e,n){d="",f()},A=function(t,e,n){r&&(d=e,l.isPlainObject(e)&&f(),g(),l.sendPageView({page:e.route}))},b=function(t,e,n){if(l.isPlainObject(e.qs)){var o=App.routing.querystring.stringify(u);l.extend(u,e.qs);var a=d.split("#")[0],i=d.split("#")[1],r=d.indexOf("?"),c=(s=[],l.each(u,function(t,e){t=window.encodeURIComponent(t),e&&s.push(t+"="+window.encodeURIComponent(e))}),s.join("&"));"?"+c!==o&&(c.length?d=-1===r?a+"?"+c:a.substring(0,r+1)+c:-1!==r&&(d=a.split("?")[0]),i&&i.length&&(d+="#"+i),g(),e.raiseFragmentChanged&&App.mediator.notify("page.fragmentChanged",d))}var s},k=function(){var t=App.pages.page(window.location.pathname);if(t){var e=window.location;if(t.key()==i){e.origin||(e.origin=e.protocol+"//"+e.hostname);var n=e.origin+r,o=e.href.substring(n.length);d!=o?(App.mediator.notify("page.fragmentChanged",o),d=o,f()):App.mediator.notify("page.sameFragmentRequested",o)}else s=!0,App.mediator.goto(e.pathname+e.search,c)}else App.log({args:"Page not found",me:"Url Changer"})},C=function(t,e,n){var o=d;v(h(e),e.route),g(),d=o,k(),l.sendPageView({page:e.route})},x=_.throttle(function(){e(0,{title:document.title,url:window.location.pathname+window.location.search+window.location.hash})},500,{}),j=function(){x()};App.modules.exports("urlChanger",{init:function(){var t=l("html").attr("data-all-langs");t&&(a=t.split(",")),window.history.pushState?l(window).on("popstate",function(t){App.modules.notify("history.popState",{previousUrl:c,event:t,state:t.originalEvent.state}),k()}):App.log({fx:"error",msg:"Cannot update url : history api was not found"})},actions:function(){return{site:{scroll:j},page:{entering:o,leaving:w,enter:y,updateUrlFragment:A,updateQsFragment:b,replaceState:e},pages:{navigateToCurrent:C,loading:n},url:{getUrl:function(){return window.location.pathname},getQueryString:function(){return window.location.search},getFullUrl:function(){return window.location.toString()}}}}})}(jQuery),function(t,e){"use strict";var n=window.Storage.local,o="auto-user-id",a="",i=function(){a&&t(".js-user-id").val(a)};App.modules.exports("user-id",{init:function(){(a=n.get(o)||"")||(a=function(){var t=0,e="";if(!window.Uint8Array||!window.crypto){for(t=0;t<32;++t)e+=(~~(1e4*Math.random())%255).toString(16);return e}var n=new window.Uint8Array(32);for(window.crypto.getRandomValues(n),t=0;t<n.length;++t)e+=n[t].toString(16);return e}(),n.set(o,a))},actions:function(){return{page:{enter:i},articleChanger:{enter:i}}}})}(jQuery),function(t,e){"use strict";var n=t(window),o=t(document),a=function(t,e){App.mediator.notify("site."+t,{event:e})},i=function(t){a("resize",t)},r=function(t){a("orientation",t),i()},c=function(t){a("scroll",t),a("postscroll",t)},s=function(t){a("loaded",t)},l=function(t){document.visibilityState||document.webkitVisibilityState;a("visibilitychange",t)},d=function(t){a("ready",t)},u=function(t,e){e&&e.animated||(n.scrollTop(0),c())};App.modules.exports("windowNotifier",{init:function(){t(d),n.load(s).scroll(c).on("orientationchange",r),t.ios||n.resize(i),o.on("visibilitychange webkitvisibilitychange",l)},actions:function(){return{window:{scrollTop:u}}}})}(jQuery),function(c,t){"use strict";var s=c(window),l=c("body"),i=(c("#site-pages"),!1),r=!1,d=null,u=function(t,e){var n=c("#bg-transition",l),o=t.currentPage,a=t.nextPage,i=c(a.key()),r=c(o.key());o.leave(t.leaveCurrent,{canRemove:!0}),r.attr("aria-hidden","true").attr("role","presentation"),i.removeAttr("aria-hidden").removeAttr("role"),l.addClass(a.key().substring(1)),App.modules.notify("page.entering",{page:a,route:t.route}),i.ready(function(){r.hide(),i.css({opacity:1,display:"block"}),s.scrollTop(0),a.enter(t.enterNext),n.fadeOut(90).promise().then(function(){App.modules.notify("transition.end",{page:a,route:t.route}),App.mediator.notify("site.addScroll")}),App.callback(e)})};App.transitions.exports({beginTransition:function(t,e){var n=c("#bg-transition",l),o=t.currentPage,a=t.nextPage;c(a.key()),c(o.key());r=i=!1,d=null,n.fadeIn(90).promise().then(function(){l.removeClass(o.key().substring(1)),App.modules.notify("page.leaving",{page:o,canRemove:!0}),i=!0,r&&u(d)})},transition:function(t,e){r=!0,d=t,i&&u(t,e)},canAnimate:function(t){return!0}})}(jQuery),function(t,e){"use strict";t(window),t("body"),t("#site-pages"),t("#bg-transition"),t("#bg-transition-popup")}(jQuery),function(e,t,n){"use strict";App.pages.exports("default-detail-page",function(){var n,o=App.components.create("articleChanger"),t=function(t,e){var n=e||"";o.navigateTo(n.split("?")[0].split("/")[0])};return{init:function(){n=e(this.key()),o.init(n,{startPageHandle:n.find(".js-article").attr("data-handle"),scrollToTop:!0})},leave:function(t,e){e.canRemove&&n.remove(),App.callback(t)},actions:function(){return{page:{fragmentChanged:t}}}}})}(jQuery,window),function(t,e,n){"use strict";App.pages.exports("defaultPage",function(){return{init:function(){t(this.key())},enter:function(t){App.callback(t)},actions:function(){return{}}}})}(jQuery,window),function(a,t,e){"use strict";var i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,r=function(t){return~~(!t||a.isNumeric(t)?t||0:t)},o=function(t){return!t||a.isNumeric(t)?~~(t||0)+"px":t};t.CSS3={translate:function(t,e,n){return t=o(t),e=o(e),n=o(n),"translate"+(i?"3d(":"(")+t+","+e+(i?","+n+")":")")},rotate:function(t,e,n,o){t=r(t),e=r(e),n=r(n),o=!o||a.isNumeric(o)?(o||0)+"deg":o;return"rotate"+(i?"3d("+t+","+e+","+n+",":"Z(")+o+")"},prefix:function(t,e){var n={};return n[t]=e,n["-webkit-"+t]=e,n["-moz-"+t]=e,n["-ms-"+t]=e,n["-o-"+t]=e,n}}}(jQuery,window),function(t,e){"use strict";var n="disabled";t.fn.disable=function(){return t(this).attr(n,n).addClass(n)},t.fn.enable=function(){return t(this).removeAttr(n).removeClass(n)}}(jQuery),function(l){"use strict";var c=l("html"),d=c.attr("lang"),s=function(){var n=[];l.each(arguments,function(t,e){e=l.isPlainObject(e)?JSON.stringify(e,null,2):'"'+e+'"',n.push(e)}),App.log({args:["%cga("+n.join(",")+");","color:cornflowerblue"]})},u=function(){return window.dataLayer&&window.dataLayer.push?function(t,e,n,o,a,i,r,c){if("pageview"===e)dataLayer.push(l.extend({},n,{event:e,page:{requestURI:n.page||n.location,page:n.page,location:n.location,language:d,referer:document.referrer,title:document.title}}));else if("event"===e){var s={event:e,eventCategory:c||n,eventAction:o,eventLabel:a,eventValue:i,eventOptions:r};l.isPlainObject(n)&&((s=l.extend(!0,{},s,n)).eventCategory=s.eventCategory||s.event,s.event=e),dataLayer.push(s)}}:window.ga||s};l.sendPageView=function(t){var e=u(),n={page:window.location.pathname+window.location.search,location:window.location.href,hostname:window.location.hostname},o=t?l.extend(n,t):n;l.isFunction(l.formatPage)&&(o.page=l.formatPage(o.page)),l.isFunction(l.formatLocation)&&(o.location=l.formatLocation(o.location)),c.filter("[data-no-ga]").length?s("sendPageView bypassed by attribute"):e("send","pageview",o)},l.sendEvent=function(t,e,n,o,a,i){var r=u();a=(t=t||"").options||a||{nonInteraction:1},c.filter("[data-no-ga]").length?s("sendEvent bypassed by attribute"):r("send","event",t,e,n,o,a,i)};var a=function(t,e){return t.attr(e)||void 0};l.fn.sendClickEvent=function(t){t=t||{};var e=l(this).eq(0),n=!0;if(t.action||(t.action="click"),t.label||(t.label=l.trim(e.text())),t.event&&(t.event.gaHandled?n=!1:t.event.gaHandled=!0),n){var o=l.extend({},t,{cat:a(e,"data-ga-cat"),category:a(e,"data-ga-category"),action:a(e,"data-ga-action"),label:a(e,"data-ga-label"),value:parseInt(e.attr("data-ga-value"),10)||void 0});o.cat||(App.log({fx:"err",args:"No ga-cat found. Cannot continue."}),n=!1),o.label||App.log({fx:"warn",args:"No ga-label found. Reverting to text"}),n&&l.sendEvent(o.cat,o.action,o.label,o.value,void 0,o.category)}},l(function(){var t=window.location,n=t.origin||t.protocol+"//"+t.hostname,e=':not([href^="'+n+'"])',o='a[href^="http://"]'+e+', a[href^="https://"]'+e,a=_.map(["pdf","jpg","jpeg","png","doc","docx","xsl","xslx"],function(t){return'a[href$=".'+t+'"], '}).join("")+'a[href$="?dl"], a[download]',i=function(t){var e=l(t).attr("href");if(e)return e=(e=(e=e.replace(/^mailto:/,"")).replace(/^tel:/,"")).replace(n,"")};l("#site").on(App.device.events.click,o,function(t){l(this).sendClickEvent({cat:"link-external",label:i(this),event:t})}).on(App.device.events.click,a,function(t){l(this).sendClickEvent({cat:"link-download",label:i(this),event:t})}).on(App.device.events.click,'a[href^="mailto:"]',function(t){l(this).sendClickEvent({cat:"link-mailto",label:i(this),event:t})}).on(App.device.events.click,'a[href^="tel:"]',function(t){l(this).sendClickEvent({cat:"link-tel",label:i(this),event:t})}).on(App.device.events.click,"[data-ga-cat]",function(t){l(this).sendClickEvent({event:t})}),l("body").hasClass("page-404")&&l.sendEvent("erreur 404","erreur 404",document.referrer)})}(jQuery),function(s,t){"use strict";var l="add-class-timer",a=[],i=function(n){a.length&&s.each(a,function(t,e){e&&n.call(this,e,t)})};window.App&&!window.App.debug()||(s.transitionsQueue=function(){return a}),s("body").on("transitionend webkitTransitionEnd oTransitionEnd mozTransitionEnd MSTransitionEnd",function(e){var o=s(e.target);i(function(n,t){s.each(n.selectors,function(t,e){n.selectors[t]=e||o.is(t)}),window._.every(n.selectors)&&(a.splice(t,1),n.callback.call(n.context,e))})}),s.fn.transitionEnd=function(t,e){var n=s(this),o={selectors:{},callback:t,context:this,timestamp:s.now()};if(e&&!s.isArray(e)&&(e=[e]),e&&e.length)s.each(e,function(t,e){e?o.selectors[e]=!1:App.debug()&&console.warn("Element %s has no selector",t)});else{if(!n.selector)return App.debug()&&console.warn("Element %s has no selector",this),n;o.selectors[n.selector]=!1}return a.push(o),n},s.removeFromTransition=function(n){var o=!1;return n&&(s.isArray(n)||(n=[n]),i(function(t,e){if(t&&t.selectors){window._.some(t.selectors,function(t,e){return!!~s.inArray(e,n)})&&(a.splice(e,1),o=!0)}})),o},s.fn.addClasses=function(a,i,r,c){var t=s(this);return t.length?(c=c||[t.selector],t.each(function(t,e){var o=s(e),n=o.data(l);clearTimeout(n),o.addClass(a),n=setTimeout(function(t,e,n){o.hasClass(a)&&(s.isFunction(e)&&o.transitionEnd(e,n),o.addClass(t))},100,i,r,c),o.data(l,n)})):t},s.fn.removeClasses=function(o,a,i,r){var t=s(this);return t.length?(r=r||t.selector,t.each(function(t,e){var n=s(e);n.transitionEnd(function(){n.removeClass(o),s.isFunction(i)&&i()},r),n.removeClass(a)})):t}}(jQuery);
//# sourceMappingURL=framework-modules.min.js.map